# Makefile.in generated by automake 1.14.1 from Makefile.am.
# Makefile.  Generated from Makefile.in by configure.

# Copyright (C) 1994-2013 Free Software Foundation, Inc.

# This Makefile.in is free software; the Free Software Foundation
# gives unlimited permission to copy and/or distribute it,
# with or without modifications, as long as this notice is preserved.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.



#################################################
#  ccache
#
# You can use ccache for compiling if it is installed on your system or Tuxbox-CDK in ~/cdk/bin.
# With this rule you can install ccache independ from your system. 
# Use <make ccache> for installing in cdk/bin. This own ccache-binary is preferred from configure.
# Isn't ccache installed on your system, you can also install later, but you must configure again.
# Most distributions contain the required packages or
# get the sources from http://samba.org/ftp/ccache

# This file contains different cleaning targets. They try to be, at least
# in spirit, compatible with the GNU Makefiles standards.

# Note: automake defines targets clean etc, the Makefile author
# therefore should not. Instead, we define targets like clean-local,
# which are called from automake's clean.

#
# auxiliary targets for model-specific builds
#

#
# auxiliary targets for model-specific builds
#

#
# auxiliary targets for model-specific builds
#
am__is_gnu_make = test -n '$(MAKEFILE_LIST)' && test -n '$(MAKELEVEL)'
am__make_running_with_option = \
  case $${target_option-} in \
      ?) ;; \
      *) echo "am__make_running_with_option: internal error: invalid" \
              "target option '$${target_option-}' specified" >&2; \
         exit 1;; \
  esac; \
  has_opt=no; \
  sane_makeflags=$$MAKEFLAGS; \
  if $(am__is_gnu_make); then \
    sane_makeflags=$$MFLAGS; \
  else \
    case $$MAKEFLAGS in \
      *\\[\ \	]*) \
        bs=\\; \
        sane_makeflags=`printf '%s\n' "$$MAKEFLAGS" \
          | sed "s/$$bs$$bs[$$bs $$bs	]*//g"`;; \
    esac; \
  fi; \
  skip_next=no; \
  strip_trailopt () \
  { \
    flg=`printf '%s\n' "$$flg" | sed "s/$$1.*$$//"`; \
  }; \
  for flg in $$sane_makeflags; do \
    test $$skip_next = yes && { skip_next=no; continue; }; \
    case $$flg in \
      *=*|--*) continue;; \
        -*I) strip_trailopt 'I'; skip_next=yes;; \
      -*I?*) strip_trailopt 'I';; \
        -*O) strip_trailopt 'O'; skip_next=yes;; \
      -*O?*) strip_trailopt 'O';; \
        -*l) strip_trailopt 'l'; skip_next=yes;; \
      -*l?*) strip_trailopt 'l';; \
      -[dEDm]) skip_next=yes;; \
      -[JT]) skip_next=yes;; \
    esac; \
    case $$flg in \
      *$$target_option*) has_opt=yes; break;; \
    esac; \
  done; \
  test $$has_opt = yes
am__make_dryrun = (target_option=n; $(am__make_running_with_option))
am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
pkgdatadir = $(datadir)/tuxbox-cdk
pkgincludedir = $(includedir)/tuxbox-cdk
pkglibdir = $(libdir)/tuxbox-cdk
pkglibexecdir = $(libexecdir)/tuxbox-cdk
am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
install_sh_DATA = $(install_sh) -c -m 644
install_sh_PROGRAM = $(install_sh) -c
install_sh_SCRIPT = $(install_sh) -c
INSTALL_HEADER = $(INSTALL_DATA)
transform = $(program_transform_name)
NORMAL_INSTALL = :
PRE_INSTALL = :
POST_INSTALL = :
NORMAL_UNINSTALL = :
PRE_UNINSTALL = :
POST_UNINSTALL = :
build_triplet = i686-pc-linux-gnu
host_triplet = i686-pc-linux-gnu
target_triplet = sh4-linux
DIST_COMMON = $(srcdir)/make/buildenv.mk $(srcdir)/make/yaud.mk \
	$(srcdir)/make/linux-kernel.mk $(srcdir)/make/bootstrap.mk \
	$(srcdir)/make/ccache.mk $(srcdir)/make/archive-specs.mk \
	$(srcdir)/make/driver.mk $(srcdir)/make/tools.mk \
	$(srcdir)/make/hostapps.mk $(srcdir)/make/u-boot.mk \
	$(srcdir)/make/root-etc.mk $(srcdir)/make/busybox.mk \
	$(srcdir)/make/contrib-libs.mk $(srcdir)/make/python.mk \
	$(srcdir)/make/gstreamer.mk $(srcdir)/make/contrib-apps.mk \
	$(srcdir)/make/net-apps.mk $(srcdir)/make/enigma2-plugins.mk \
	$(srcdir)/make/enigma2-pli-nightly.mk \
	$(srcdir)/make/neutrino.mk $(srcdir)/make/neutrino-plugins.mk \
	$(srcdir)/make/tvheadend.mk $(srcdir)/make/cleantargets.mk \
	$(srcdir)/make/tags.mk $(srcdir)/make/disttargets.mk \
	$(srcdir)/make/enigma2-release.mk \
	$(srcdir)/make/neutrino-release.mk \
	$(srcdir)/make/tvheadend-release.mk $(srcdir)/make/patches.mk \
	INSTALL NEWS README AUTHORS ChangeLog $(srcdir)/Makefile.in \
	$(srcdir)/Makefile.am $(top_srcdir)/configure \
	$(am__configure_deps) $(srcdir)/rules-downcheck.pl.in COPYING \
	compile config.guess config.sub depcomp install-sh missing \
	py-compile ltmain.sh
#am__append_1 = --with-graphlcd
am__append_2 = --enable-libeplayer3
am__append_3 = --enable-mediafwgstreamer
am__append_4 = wpa_supplicant wireless_tools
#am__append_5 = -I$(driverdir)/frontcontroller/aotom_spark
#am__append_6 = -I$(driverdir)/frontcontroller/aotom_spark
# --enable-pip
#am__append_7 = --enable-graphlcd
am__append_8 = --enable-gstreamer
#am__append_9 = --enable-libeplayer3
subdir = .
ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
am__aclocal_m4_deps = $(top_srcdir)/acinclude.m4 \
	$(top_srcdir)/configure.ac
am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
	$(ACLOCAL_M4)
am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \
 configure.lineno config.status.lineno
mkinstalldirs = $(install_sh) -d
CONFIG_CLEAN_FILES = rules-downcheck.pl
CONFIG_CLEAN_VPATH_FILES =
AM_V_P = $(am__v_P_$(V))
am__v_P_ = $(am__v_P_$(AM_DEFAULT_VERBOSITY))
am__v_P_0 = false
am__v_P_1 = :
AM_V_GEN = $(am__v_GEN_$(V))
am__v_GEN_ = $(am__v_GEN_$(AM_DEFAULT_VERBOSITY))
am__v_GEN_0 = @echo "  GEN     " $@;
am__v_GEN_1 = 
AM_V_at = $(am__v_at_$(V))
am__v_at_ = $(am__v_at_$(AM_DEFAULT_VERBOSITY))
am__v_at_0 = @
am__v_at_1 = 
SOURCES =
DIST_SOURCES =
am__can_run_installinfo = \
  case $$AM_UPDATE_INFO_DIR in \
    n|no|NO) false;; \
    *) (install-info --version) >/dev/null 2>&1;; \
  esac
am__tagged_files = $(HEADERS) $(SOURCES) $(TAGS_FILES) $(LISP)
DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
distdir = $(PACKAGE)-$(VERSION)
top_distdir = $(distdir)
am__remove_distdir = \
  if test -d "$(distdir)"; then \
    find "$(distdir)" -type d ! -perm -200 -exec chmod u+w {} ';' \
      && rm -rf "$(distdir)" \
      || { sleep 5 && rm -rf "$(distdir)"; }; \
  else :; fi
am__post_remove_distdir = $(am__remove_distdir)
DIST_ARCHIVES = $(distdir).tar.gz
GZIP_ENV = --best
DIST_TARGETS = dist-gzip
distuninstallcheck_listfiles = find . -type f -print
am__distuninstallcheck_listfiles = $(distuninstallcheck_listfiles) \
  | sed 's|^\./|$(prefix)/|' | grep -v '$(infodir)/dir$$'
distcleancheck_listfiles = find . -type f -print
VPATH = $(D)
ACLOCAL = ${SHELL} /home/marcinkk/GitHub/Duckbox-Developers/cdk/missing aclocal-1.14
ADB5800 = adb5800
ADB_BOX = 
AMTAR = $${TAR-tar}
AM_DEFAULT_VERBOSITY = 1
ARIVALINK200 = 
ATEMIO520 = 
ATEMIO530 = 
ATEVIO7500 = 
AUTOCONF = ${SHELL} /home/marcinkk/GitHub/Duckbox-Developers/cdk/missing autoconf
AUTOHEADER = ${SHELL} /home/marcinkk/GitHub/Duckbox-Developers/cdk/missing autoheader
AUTOMAKE = ${SHELL} /home/marcinkk/GitHub/Duckbox-Developers/cdk/missing automake-1.14
AWK = gawk
BOXTYPE = adb5800
BUILDINPLAYER = 
BZIP2 = /bin/bzip2
CC = gcc
CCACHE = ccache
CCDEPMODE = depmode=gcc3
CFLAGS = -g -O2
CLEANUP = rm -rf linux-sh4-2.6.32.61_stm24_0217 host-u-boot-tools-1.3.1 mksquashfs ccache-3.1.9 cramfs-1.1 pkg-config-0.28 module-init-tools-3.16 mtd-utils-1.5.1 glib-2.45.4 libffi-3.2.1 u-boot-1.3.1 busybox-1.24.1 lsb-3.2 ipkg-0.99.163 module-init-tools-3.16 sysvinit-2.88dsf freetype-2.6 fontconfig-2.8.0 fribidi-0.19.7 giflib-5.0.6 giflib-4.1.6 libungif-4.1.4 jpeg-8d libjpeg-turbo-1.4.0 libpng-1.2.50 libpng-1.6.18 tiff-4.0.3 pixman-0.18.0 alsa-lib-1.0.29 alsa-utils-1.0.29 flac-1.3.1 a52dec-0.7.4 libao-1.1.0 libass-0.11.1 libbluray-0.5.0 libdvdcss-1.2.13 libdvdnav-4.2.1 libdvdread-4.9.9 libid3tag-0.15.1b libmad-0.15.1b libmpeg2-0.5.1 libogg-1.3.2 libsamplerate-0.1.8 libvorbis-1.3.4 libvorbisidec-1.0.2+svn18153 libdca-0.0.5 ncurses-5.9 gmp-6.0.0 lua-5.2.3 luacurl-v3 luaexpat-1.3.0 howl-1.0.0 openthreads pugixml-1.6 boost_1_53_0 zlib-1.2.8 libcap-2.22 readline-6.2 lirc-0.9.0 libsigc++-1.2.7 libsigc++-2.3.2 glib-2.45.4 libffi-3.2.1 libiconv-1.14 libmng-1.0.10 lcms-1.17 DirectFB-1.4.11 DFB++-1.0.0 libstgles-1.0 expat-2.1.0 libxmlccwrap-0.0.12 ffmpeg-2.6.3 fdk-aac-1.0 webkitdfb_2010-11-18 icu/source enchant-1.5.0 lite-0.9.0+git0.7982ccc sqlite-autoconf-3080600 cairo-1.8.10 evebrowser-0.0.1 BroFS1.2 rtmpdump-2.4 libdvbsi++-0.3.7 libmodplug-0.8.8.4 lzo-2.06 yajl-2.0.1 pcre-8.30 libcdio-0.83 jasper-1.900.1 mysql-5.1.40 libmicrohttpd-0.9.19 libexif-0.6.20 minidlna-1.1.5 djmount-0.71 libupnp-1.6.17 rarfs-0.1.0 sshfs-fuse-2.4 tinyxml2.6.2 libnfs-c0ebf57b21 taglib-1.8 libdaemon-0.14 libplist-1.10 libxml2-2.8.0 libxml2-2.9.0 libxslt-1.1.28 bzip2-1.0.6 grep-2.5.1 openrdate-1.1.2 mc-4.8.1.7 console-data-1.03 nano-2.4.2 rsync-2.6.9 curlftpfs-0.9.2 pngquant-1.1 mplayer-export-* mplayer-export-* opkg-0.2.0 sysstat-11.1.2 ImageMagick-6.7.7-7 shairport-1.0 dbus-dbus-1.8 avahi-0.6.31 mtd-utils-1.5.0 wget-1.15 host-python-2.7.9 python-2.7.9 gdata-2.0.18 elementtree-1.2.6-20050316 lxml-2.2.8 setuptools-5.2 Twisted-13.2.0 Imaging-1.1.7 pycrypto-2.5 pyusb-1.0.0a3 six-1.9.0 cffi-1.2.1 enum34-1.0.4 pyasn1-0.1.8 pyasn1-modules-0.0.7 pycparser-2.14 cryptography-0.8.1 pyOpenSSL-0.13.1 python-wifi-0.5.0 Cheetah-2.4.4 mechanize-0.2.5 zope.interface-4.1.1 requests-2.7.0 futures-2.1.6 singledispatch-3.4.0.3 livestreamer-1.0 livestreamersrv-1.0 orc-0.4.24 gmediarender-0.0.6 gst-plugins-dvbmediasink-1.0 gstreamer-1.6.1 gst-plugins-base-1.6.1 gst-plugins-good-1.6.1 gst-plugins-bad-1.6.1 gst-plugins-ugly-1.6.1 gst-libav-1.6.1 gst-fluendo-mpegdemux-0.10.71 gst-plugin-subsink-1.0 libtuxtxt tuxtxt enigma2-networkbrowser enigma2-webinterface e2openplugin-OpenWebif enigma2-plugins-all hotplug-e2-helper-1.0 libdreamdvd-1.0 graphlcd-base-touchcol lcd4linux-1.0 libusb-1.0.9 libusb-compat-0.1.5 libgd-2.1.0 dpf-ax openssl-1.0.2d openssl-0.9.8zf gnutls-3.4.3 nettle-3.1 dosfstools-3.0.16 e2fsprogs-1.42.13 fdisk-1.3.0a fuse-2.9.2 hddtemp-0.3-beta15 hdparm-9.43 jfsutils-1.1.15 lm_sensors-2.9.2 parted-3.0 sdparm-1.07 util-linux-2.25.2 xfsprogs-3.1.8 autofs-4.1.4 curl-7.44.0 portmap-6.0.0 nfs-utils-1.3.2 libevent-2.0.20-stable libnfsidmap-0.25 libsoup-2.50.0 vsftpd-3.0.3 samba-3.6.12 netio126 ntp-4.2.8 lighttpd-1.4.15 wireless_tools.29 ZD1211LnxDrv_2_15_0_0 libnl-2.0 wpa_supplicant-0.7.3 ethtool-6 xupnpd-1.0 udpxy-1.0.23-0 glib-networking-2.45.1 openvpn-2.3.8 openssh-7.1p1
CLEANUP_a52dec = rm -rf a52dec-0.7.4
CLEANUP_alsautils = rm -rf alsa-utils-1.0.29
CLEANUP_autofs = rm -rf autofs-4.1.4
CLEANUP_avahi = rm -rf avahi-0.6.31
CLEANUP_brofs = rm -rf BroFS1.2
CLEANUP_busybox = rm -rf busybox-1.24.1
CLEANUP_bzip2 = rm -rf bzip2-1.0.6
CLEANUP_cairo = rm -rf cairo-1.8.10
CLEANUP_ccache = rm -rf ccache-3.1.9
CLEANUP_console_data = rm -rf console-data-1.03
CLEANUP_cramfs = rm -rf cramfs-1.1
CLEANUP_curlftpfs = rm -rf curlftpfs-0.9.2
CLEANUP_dbus = rm -rf dbus-dbus-1.8
CLEANUP_dfbpp = rm -rf DFB++-1.0.0
CLEANUP_directfb = rm -rf DirectFB-1.4.11
CLEANUP_djmount = rm -rf djmount-0.71
CLEANUP_dosfstools = rm -rf dosfstools-3.0.16
CLEANUP_e2fsprogs = rm -rf e2fsprogs-1.42.13
CLEANUP_enchant = rm -rf enchant-1.5.0
CLEANUP_enigma2_networkbrowser = rm -rf enigma2-networkbrowser
CLEANUP_enigma2_openwebif = rm -rf e2openplugin-OpenWebif
CLEANUP_enigma2_plugins_all = rm -rf enigma2-plugins-all
CLEANUP_enigma2_webinterface = rm -rf enigma2-webinterface
CLEANUP_ethtool = rm -rf ethtool-6
CLEANUP_evebrowser = rm -rf evebrowser-0.0.1
CLEANUP_fdisk = rm -rf fdisk-1.3.0a
CLEANUP_ffmpeg = rm -rf ffmpeg-2.6.3
CLEANUP_fontconfig = rm -rf fontconfig-2.8.0
CLEANUP_fuse = rm -rf fuse-2.9.2
CLEANUP_glib2 = rm -rf glib-2.45.4
CLEANUP_glibnetworking = rm -rf glib-networking-2.45.1
CLEANUP_gmp = rm -rf gmp-6.0.0
CLEANUP_gnutls = rm -rf gnutls-3.4.3
CLEANUP_graphlcd = rm -rf graphlcd-base-touchcol
CLEANUP_grep = rm -rf grep-2.5.1
CLEANUP_gst_gmediarender = rm -rf gmediarender-0.0.6
CLEANUP_gst_libav = rm -rf gst-libav-1.6.1
CLEANUP_gst_plugin_subsink = rm -rf gst-plugin-subsink-1.0
CLEANUP_gst_plugins_bad = rm -rf gst-plugins-bad-1.6.1
CLEANUP_gst_plugins_base = rm -rf gst-plugins-base-1.6.1
CLEANUP_gst_plugins_dvbmediasink = rm -rf gst-plugins-dvbmediasink-1.0
CLEANUP_gst_plugins_fluendo_mpegdemux = rm -rf gst-fluendo-mpegdemux-0.10.71
CLEANUP_gst_plugins_good = rm -rf gst-plugins-good-1.6.1
CLEANUP_gst_plugins_ugly = rm -rf gst-plugins-ugly-1.6.1
CLEANUP_gstreamer = rm -rf gstreamer-1.6.1
CLEANUP_hddtemp = rm -rf hddtemp-0.3-beta15
CLEANUP_hdparm = rm -rf hdparm-9.43
CLEANUP_host_glib2_genmarshal = rm -rf glib-2.45.4
CLEANUP_host_libffi = rm -rf libffi-3.2.1
CLEANUP_host_module_init_tools = rm -rf module-init-tools-3.16
CLEANUP_host_mtd_utils = rm -rf mtd-utils-1.5.1
CLEANUP_host_pkgconfig = rm -rf pkg-config-0.28
CLEANUP_host_python = rm -rf host-python-2.7.9
CLEANUP_host_u_boot_tools = rm -rf host-u-boot-tools-1.3.1
CLEANUP_hotplug_e2 = rm -rf hotplug-e2-helper-1.0
CLEANUP_howl = rm -rf howl-1.0.0
CLEANUP_icu4c = rm -rf icu/source
CLEANUP_imagemagick = rm -rf ImageMagick-6.7.7-7
CLEANUP_ipkg = rm -rf ipkg-0.99.163
CLEANUP_jasper = rm -rf jasper-1.900.1
CLEANUP_jfsutils = rm -rf jfsutils-1.1.15
CLEANUP_lcd4_linux = rm -rf lcd4linux-1.0
CLEANUP_lcms = rm -rf lcms-1.17
CLEANUP_libalsa = rm -rf alsa-lib-1.0.29
CLEANUP_libao = rm -rf libao-1.1.0
CLEANUP_libass = rm -rf libass-0.11.1
CLEANUP_libbluray = rm -rf libbluray-0.5.0
CLEANUP_libboost = rm -rf boost_1_53_0
CLEANUP_libcap = rm -rf libcap-2.22
CLEANUP_libcdio = rm -rf libcdio-0.83
CLEANUP_libcurl = rm -rf curl-7.44.0
CLEANUP_libdaemon = rm -rf libdaemon-0.14
CLEANUP_libdca = rm -rf libdca-0.0.5
CLEANUP_libdpfax = rm -rf dpf-ax
CLEANUP_libdreamdvd = rm -rf libdreamdvd-1.0
CLEANUP_libdvbsipp = rm -rf libdvbsi++-0.3.7
CLEANUP_libdvdcss = rm -rf libdvdcss-1.2.13
CLEANUP_libdvdnav = rm -rf libdvdnav-4.2.1
CLEANUP_libdvdread = rm -rf libdvdread-4.9.9
CLEANUP_libevent = rm -rf libevent-2.0.20-stable
CLEANUP_libexif = rm -rf libexif-0.6.20
CLEANUP_libexpat = rm -rf expat-2.1.0
CLEANUP_libfdk_aac = rm -rf fdk-aac-1.0
CLEANUP_libffi = rm -rf libffi-3.2.1
CLEANUP_libflac = rm -rf flac-1.3.1
CLEANUP_libfreetype = rm -rf freetype-2.6
CLEANUP_libfribidi = rm -rf fribidi-0.19.7
CLEANUP_libgd2 = rm -rf libgd-2.1.0
CLEANUP_libgif = rm -rf giflib-5.0.6
CLEANUP_libgif_e2 = rm -rf giflib-4.1.6
CLEANUP_libiconv = rm -rf libiconv-1.14
CLEANUP_libid3tag = rm -rf libid3tag-0.15.1b
CLEANUP_libjpeg = rm -rf jpeg-8d
CLEANUP_libjpeg_turbo = rm -rf libjpeg-turbo-1.4.0
CLEANUP_libmad = rm -rf libmad-0.15.1b
CLEANUP_libmicrohttpd = rm -rf libmicrohttpd-0.9.19
CLEANUP_libmng = rm -rf libmng-1.0.10
CLEANUP_libmodplug = rm -rf libmodplug-0.8.8.4
CLEANUP_libmpeg2 = rm -rf libmpeg2-0.5.1
CLEANUP_libncurses = rm -rf ncurses-5.9
CLEANUP_libnfs = rm -rf libnfs-c0ebf57b21
CLEANUP_libnfsidmap = rm -rf libnfsidmap-0.25
CLEANUP_libnl = rm -rf libnl-2.0
CLEANUP_libogg = rm -rf libogg-1.3.2
CLEANUP_libopenthreads = rm -rf openthreads
CLEANUP_libpcre = rm -rf pcre-8.30
CLEANUP_libplist = rm -rf libplist-1.10
CLEANUP_libpng = rm -rf libpng-1.6.18
CLEANUP_libpng12 = rm -rf libpng-1.2.50
CLEANUP_libreadline = rm -rf readline-6.2
CLEANUP_librtmpdump = rm -rf rtmpdump-2.4
CLEANUP_libsamplerate = rm -rf libsamplerate-0.1.8
CLEANUP_libsigc = rm -rf libsigc++-2.3.2
CLEANUP_libsigc_e2 = rm -rf libsigc++-1.2.7
CLEANUP_libsoup = rm -rf libsoup-2.50.0
CLEANUP_libstgles = rm -rf libstgles-1.0
CLEANUP_libtiff = rm -rf tiff-4.0.3
CLEANUP_libungif = rm -rf libungif-4.1.4
CLEANUP_libupnp = rm -rf libupnp-1.6.17
CLEANUP_libusb = rm -rf libusb-1.0.9
CLEANUP_libusbcompat = rm -rf libusb-compat-0.1.5
CLEANUP_libvorbis = rm -rf libvorbis-1.3.4
CLEANUP_libvorbisidec = rm -rf libvorbisidec-1.0.2+svn18153
CLEANUP_libxml2 = rm -rf libxml2-2.8.0
CLEANUP_libxml2_e2 = rm -rf libxml2-2.9.0
CLEANUP_libxmlccwrap = rm -rf libxmlccwrap-0.0.12
CLEANUP_libxslt = rm -rf libxslt-1.1.28
CLEANUP_lighttpd = rm -rf lighttpd-1.4.15
CLEANUP_linuxp0209 = 
CLEANUP_linuxp0211 = 
CLEANUP_linuxp0214 = 
CLEANUP_linuxp0215 = 
CLEANUP_linuxp0217 = rm -rf linux-sh4-2.6.32.61_stm24_0217
CLEANUP_lirc = rm -rf lirc-0.9.0
CLEANUP_lite = rm -rf lite-0.9.0+git0.7982ccc
CLEANUP_lm_sensors = rm -rf lm_sensors-2.9.2
CLEANUP_lsb = rm -rf lsb-3.2
CLEANUP_lua = rm -rf lua-5.2.3
CLEANUP_luacurl = rm -rf luacurl-v3
CLEANUP_luaexpat = rm -rf luaexpat-1.3.0
CLEANUP_lzo = rm -rf lzo-2.06
CLEANUP_mc = rm -rf mc-4.8.1.7
CLEANUP_mencoder = rm -rf mplayer-export-*
CLEANUP_minidlna = rm -rf minidlna-1.1.5
CLEANUP_module_init_tools = rm -rf module-init-tools-3.16
CLEANUP_mplayer = rm -rf mplayer-export-*
CLEANUP_mtd_utils = rm -rf mtd-utils-1.5.0
CLEANUP_mysql = rm -rf mysql-5.1.40
CLEANUP_nano = rm -rf nano-2.4.2
CLEANUP_netio = rm -rf netio126
CLEANUP_nettle = rm -rf nettle-3.1
CLEANUP_nfs_utils = rm -rf nfs-utils-1.3.2
CLEANUP_ntp = rm -rf ntp-4.2.8
CLEANUP_openrdate = rm -rf openrdate-1.1.2
CLEANUP_openssh = rm -rf openssh-7.1p1
CLEANUP_openssl = rm -rf openssl-0.9.8zf
CLEANUP_openssl_e2 = rm -rf openssl-1.0.2d
CLEANUP_openvpn = rm -rf openvpn-2.3.8
CLEANUP_opkg = rm -rf opkg-0.2.0
CLEANUP_orc = rm -rf orc-0.4.24
CLEANUP_parted = rm -rf parted-3.0
CLEANUP_pixman = rm -rf pixman-0.18.0
CLEANUP_pngquant = rm -rf pngquant-1.1
CLEANUP_portmap = rm -rf portmap-6.0.0
CLEANUP_pugixml = rm -rf pugixml-1.6
CLEANUP_python = rm -rf python-2.7.9
CLEANUP_python_cffi = rm -rf cffi-1.2.1
CLEANUP_python_cheetah = rm -rf Cheetah-2.4.4
CLEANUP_python_cryptography = rm -rf cryptography-0.8.1
CLEANUP_python_elementtree = rm -rf elementtree-1.2.6-20050316
CLEANUP_python_enum34 = rm -rf enum34-1.0.4
CLEANUP_python_futures = rm -rf futures-2.1.6
CLEANUP_python_gdata = rm -rf gdata-2.0.18
CLEANUP_python_imaging = rm -rf Imaging-1.1.7
CLEANUP_python_livestreamer = rm -rf livestreamer-1.0
CLEANUP_python_livestreamersrv = rm -rf livestreamersrv-1.0
CLEANUP_python_lxml = rm -rf lxml-2.2.8
CLEANUP_python_mechanize = rm -rf mechanize-0.2.5
CLEANUP_python_pyasn1 = rm -rf pyasn1-0.1.8
CLEANUP_python_pyasn1_modules = rm -rf pyasn1-modules-0.0.7
CLEANUP_python_pycparser = rm -rf pycparser-2.14
CLEANUP_python_pycrypto = rm -rf pycrypto-2.5
CLEANUP_python_pyopenssl = rm -rf pyOpenSSL-0.13.1
CLEANUP_python_pyusb = rm -rf pyusb-1.0.0a3
CLEANUP_python_requests = rm -rf requests-2.7.0
CLEANUP_python_setuptools = rm -rf setuptools-5.2
CLEANUP_python_singledispatch = rm -rf singledispatch-3.4.0.3
CLEANUP_python_six = rm -rf six-1.9.0
CLEANUP_python_twisted = rm -rf Twisted-13.2.0
CLEANUP_python_wifi = rm -rf python-wifi-0.5.0
CLEANUP_python_zope_interface = rm -rf zope.interface-4.1.1
CLEANUP_rarfs = rm -rf rarfs-0.1.0
CLEANUP_rsync = rm -rf rsync-2.6.9
CLEANUP_samba = rm -rf samba-3.6.12
CLEANUP_sdparm = rm -rf sdparm-1.07
CLEANUP_shairport = rm -rf shairport-1.0
CLEANUP_sqlite = rm -rf sqlite-autoconf-3080600
CLEANUP_squashfs = rm -rf mksquashfs
CLEANUP_sshfs = rm -rf sshfs-fuse-2.4
CLEANUP_sysstat = rm -rf sysstat-11.1.2
CLEANUP_sysvinit = rm -rf sysvinit-2.88dsf
CLEANUP_taglib = rm -rf taglib-1.8
CLEANUP_tinyxml = rm -rf tinyxml2.6.2
CLEANUP_tuxtxt32bpp = rm -rf tuxtxt
CLEANUP_tuxtxtlib = rm -rf libtuxtxt
CLEANUP_uboot_tf7700 = rm -rf u-boot-1.3.1
CLEANUP_udpxy = rm -rf udpxy-1.0.23-0
CLEANUP_utillinux = rm -rf util-linux-2.25.2
CLEANUP_vsftpd = rm -rf vsftpd-3.0.3
CLEANUP_webkitdfb = rm -rf webkitdfb_2010-11-18
CLEANUP_wget = rm -rf wget-1.15
CLEANUP_wireless_tools = rm -rf wireless_tools.29
CLEANUP_wpa_supplicant = rm -rf wpa_supplicant-0.7.3
CLEANUP_xfsprogs = rm -rf xfsprogs-3.1.8
CLEANUP_xupnpd = rm -rf xupnpd-1.0
CLEANUP_yajl = rm -rf yajl-2.0.1
CLEANUP_zd1211 = rm -rf ZD1211LnxDrv_2_15_0_0
CLEANUP_zlib = rm -rf zlib-1.2.8
CPPFLAGS = 
CPU_ARCH = sh4
CPU_MODEL = sh4
CUBEREVO = 
CUBEREVO_2000HD = 
CUBEREVO_250HD = 
CUBEREVO_9500HD = 
CUBEREVO_MINI = 
CUBEREVO_MINI2 = 
CUBEREVO_MINI_FTA = 
CXX = g++
CXXDEPMODE = depmode=gcc3
CXXFLAGS = -g -O2
CYGPATH_W = echo
DEFS = -DPACKAGE_NAME=\"tuxbox-cdk\" -DPACKAGE_TARNAME=\"tuxbox-cdk\" -DPACKAGE_VERSION=\"0\" -DPACKAGE_STRING=\"tuxbox-cdk\ 0\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DHAVE_ADB5800_HARDWARE=1 -DPACKAGE=\"tuxbox-cdk\" -DVERSION=\"0\" -DYYTEXT_POINTER=1
# backwards compatibility
DEPDIR = $(D)
DEPENDS_a52dec = $(archivedir)/a52dec-0.7.4.tar.gz 
DEPENDS_alsautils = $(archivedir)/alsa-utils-1.0.29.tar.bz2 
DEPENDS_autofs = $(archivedir)/autofs-4.1.4.tar.gz 
DEPENDS_avahi = $(archivedir)/avahi-0.6.31.tar.gz 
DEPENDS_brofs = $(archivedir)/BroFS1.2.tgz 
DEPENDS_busybox = $(archivedir)/busybox-1.24.1.tar.bz2 
DEPENDS_bzip2 = $(archivedir)/bzip2-1.0.6.tar.gz Patches/bzip2.patch 
DEPENDS_cairo = $(archivedir)/cairo-1.8.10.tar.gz 
DEPENDS_ccache = $(archivedir)/ccache-3.1.9.tar.gz 
DEPENDS_console_data = $(archivedir)/console-data_1.03.orig.tar.gz 
DEPENDS_cramfs = $(archivedir)/cramfs-1.1.tar.gz 
DEPENDS_curlftpfs = $(archivedir)/curlftpfs-0.9.2.tar.gz 
DEPENDS_dbus = $(archivedir)/dbus-dbus-1.8.tar.gz 
DEPENDS_dfbpp = $(archivedir)/DFB++-1.0.0.tar.gz 
DEPENDS_directfb = $(archivedir)/DirectFB-1.4.11.tar.gz 
DEPENDS_djmount = $(archivedir)/djmount-0.71.tar.gz 
DEPENDS_dosfstools = $(archivedir)/dosfstools-3.0.16.tar.gz 
DEPENDS_e2fsprogs = $(archivedir)/e2fsprogs-1.42.13.tar.gz 
DEPENDS_enchant = $(archivedir)/enchant-1.5.0.tar.gz 
DEPENDS_enigma2_networkbrowser = $(archivedir)/enigma2-openpli-plugins-enigma2.git Patches/enigma2-networkbrowser-support_autofs.patch 
DEPENDS_enigma2_openwebif = $(archivedir)/e2openplugin-OpenWebif.git 
DEPENDS_enigma2_plugins_all = $(archivedir)/enigma2-openpli-plugins-enigma2.git 
DEPENDS_enigma2_webinterface = $(archivedir)/enigma2-openpli-plugins-enigma2.git 
DEPENDS_ethtool = $(archivedir)/ethtool-6.tar.gz 
DEPENDS_evebrowser = 
DEPENDS_fdisk = $(archivedir)/fdisk-1.3.0a.tar.gz 
DEPENDS_ffmpeg = $(archivedir)/ffmpeg-2.6.3.tar.bz2 
DEPENDS_fontconfig = $(archivedir)/fontconfig-2.8.0.tar.gz 
DEPENDS_fuse = $(archivedir)/fuse-2.9.2.tar.gz 
DEPENDS_glib2 = $(archivedir)/glib-2.45.4.tar.xz 
DEPENDS_glibnetworking = $(archivedir)/glib-networking-2.45.1.tar.xz 
DEPENDS_gmp = $(archivedir)/gmp-6.0.0a.tar.xz 
DEPENDS_gnutls = $(archivedir)/gnutls-3.4.3.tar.xz 
DEPENDS_graphlcd = $(archivedir)/graphlcd-base-touchcol.git Patches/graphlcd.patch 
DEPENDS_grep = $(archivedir)/grep-2.5.1.tar.bz2 $(archivedir)/grep_2.5.1.ds2-6.diff.gz 
DEPENDS_gst_gmediarender = $(archivedir)/gmediarender-0.0.6.tar.bz2 
DEPENDS_gst_libav = $(archivedir)/gst-libav-1.6.1.tar.xz 
DEPENDS_gst_plugin_subsink = $(archivedir)/gst-plugin-subsink.git 
DEPENDS_gst_plugins_bad = $(archivedir)/gst-plugins-bad-1.6.1.tar.xz 
DEPENDS_gst_plugins_base = $(archivedir)/gst-plugins-base-1.6.1.tar.xz 
DEPENDS_gst_plugins_dvbmediasink = $(archivedir)/gst-plugins-dvbmediasink.git 
DEPENDS_gst_plugins_fluendo_mpegdemux = $(archivedir)/gst-fluendo-mpegdemux-0.10.71.tar.gz 
DEPENDS_gst_plugins_good = $(archivedir)/gst-plugins-good-1.6.1.tar.xz 
DEPENDS_gst_plugins_ugly = $(archivedir)/gst-plugins-ugly-1.6.1.tar.xz 
DEPENDS_gstreamer = $(archivedir)/gstreamer-1.6.1.tar.xz 
DEPENDS_hddtemp = $(archivedir)/hddtemp-0.3-beta15.tar.bz2 
DEPENDS_hdparm = $(archivedir)/hdparm-9.43.tar.gz 
DEPENDS_host_glib2_genmarshal = $(archivedir)/glib-2.45.4.tar.xz 
DEPENDS_host_libffi = $(archivedir)/libffi-3.2.1.tar.gz 
DEPENDS_host_module_init_tools = $(archivedir)/module-init-tools-3.16.tar.bz2 
DEPENDS_host_mtd_utils = $(archivedir)/mtd-utils-1.5.1.tar.bz2 
DEPENDS_host_pkgconfig = $(archivedir)/pkg-config-0.28.tar.gz 
DEPENDS_host_python = $(archivedir)/Python-2.7.9.tar.xz 
DEPENDS_host_u_boot_tools = $(archivedir)/stlinux24-host-u-boot-tools-1.3.1_stm24-9.i386.rpm 
DEPENDS_hotplug_e2 = $(archivedir)/hotplug-e2-helper.git 
DEPENDS_howl = $(archivedir)/howl-1.0.0.tar.gz 
DEPENDS_icu4c = $(archivedir)/icu4c-4_4_1-src.tgz Patches/icu4c-4_4_1_locales.patch 
DEPENDS_imagemagick = $(archivedir)/ImageMagick-6.7.7-7.tar.bz2 
DEPENDS_ipkg = $(archivedir)/ipkg-0.99.163.tar.gz 
DEPENDS_jasper = $(archivedir)/jasper-1.900.1.zip 
DEPENDS_jfsutils = $(archivedir)/jfsutils-1.1.15.tar.gz 
DEPENDS_lcd4_linux = $(archivedir)/lcd4linux.svn 
DEPENDS_lcms = $(archivedir)/lcms-1.17.tar.gz Patches/lcms.patch 
DEPENDS_libalsa = $(archivedir)/alsa-lib-1.0.29.tar.bz2 
DEPENDS_libao = $(archivedir)/libao-1.1.0.tar.gz 
DEPENDS_libass = $(archivedir)/libass-0.11.1.tar.gz 
DEPENDS_libbluray = $(archivedir)/libbluray-0.5.0.tar.bz2 
DEPENDS_libboost = $(archivedir)/boost_1_53_0.tar.bz2 
DEPENDS_libcap = $(archivedir)/libcap-2.22.tar.bz2 
DEPENDS_libcdio = $(archivedir)/libcdio-0.83.tar.gz 
DEPENDS_libcurl = $(archivedir)/curl-7.44.0.tar.bz2 
DEPENDS_libdaemon = $(archivedir)/libdaemon-0.14.tar.gz 
DEPENDS_libdca = $(archivedir)/libdca-0.0.5.tar.bz2 
DEPENDS_libdpfax = $(archivedir)/dpf-ax.svn 
DEPENDS_libdreamdvd = $(archivedir)/libdreamdvd.git Patches/libdreamdvd-1.0-support_sh4.patch 
DEPENDS_libdvbsipp = $(archivedir)/libdvbsi++-0.3.7.tar.bz2 
DEPENDS_libdvdcss = $(archivedir)/libdvdcss-1.2.13.tar.bz2 
DEPENDS_libdvdnav = $(archivedir)/libdvdnav-4.2.1.tar.xz Patches/libdvdnav_4.2.0.patch 
DEPENDS_libdvdread = $(archivedir)/libdvdread-4.9.9.tar.xz Patches/libdvdread_4.9.9.patch 
DEPENDS_libevent = $(archivedir)/libevent-2.0.20-stable.tar.gz 
DEPENDS_libexif = $(archivedir)/libexif-0.6.20.tar.gz 
DEPENDS_libexpat = $(archivedir)/expat-2.1.0.tar.gz 
DEPENDS_libfdk_aac = $(archivedir)/fdk-aac.git 
DEPENDS_libffi = $(archivedir)/libffi-3.2.1.tar.gz 
DEPENDS_libflac = $(archivedir)/flac-1.3.1.tar.xz 
DEPENDS_libfreetype = $(archivedir)/freetype-2.6.tar.bz2 
DEPENDS_libfribidi = $(archivedir)/fribidi-0.19.7.tar.bz2 
DEPENDS_libgd2 = $(archivedir)/libgd-2.1.0.tar.gz 
DEPENDS_libgif = $(archivedir)/giflib-5.0.6.tar.bz2 
DEPENDS_libgif_e2 = $(archivedir)/giflib-4.1.6.tar.bz2 
DEPENDS_libiconv = $(archivedir)/libiconv-1.14.tar.gz 
DEPENDS_libid3tag = $(archivedir)/libid3tag-0.15.1b.tar.gz Patches/libid3tag.patch 
DEPENDS_libjpeg = $(archivedir)/jpegsrc.v8d.tar.gz Patches/jpeg.patch 
DEPENDS_libjpeg_turbo = $(archivedir)/libjpeg-turbo-1.4.0.tar.gz 
DEPENDS_libmad = $(archivedir)/libmad-0.15.1b.tar.gz Patches/libmad.patch 
DEPENDS_libmicrohttpd = $(archivedir)/libmicrohttpd-0.9.19.tar.gz 
DEPENDS_libmng = $(archivedir)/libmng-1.0.10.tar.bz2 
DEPENDS_libmodplug = $(archivedir)/libmodplug-0.8.8.4.tar.gz 
DEPENDS_libmpeg2 = $(archivedir)/libmpeg2-0.5.1.tar.gz 
DEPENDS_libncurses = $(archivedir)/ncurses-5.9.tar.gz 
DEPENDS_libnfs = $(archivedir)/libnfs.git 
DEPENDS_libnfsidmap = $(archivedir)/libnfsidmap-0.25.tar.gz 
DEPENDS_libnl = $(archivedir)/libnl-2.0.tar.gz 
DEPENDS_libogg = $(archivedir)/libogg-1.3.2.tar.gz 
DEPENDS_libopenthreads = 
DEPENDS_libpcre = $(archivedir)/pcre-8.30.tar.bz2 
DEPENDS_libplist = $(archivedir)/libplist-1.10.tar.gz 
DEPENDS_libpng = $(archivedir)/libpng-1.6.18.tar.gz 
DEPENDS_libpng12 = $(archivedir)/libpng-1.2.50.tar.bz2 
DEPENDS_libreadline = $(archivedir)/readline-6.2.tar.gz 
DEPENDS_librtmpdump = $(archivedir)/rtmpdump.git 
DEPENDS_libsamplerate = $(archivedir)/libsamplerate-0.1.8.tar.gz 
DEPENDS_libsigc = $(archivedir)/libsigc++-2.3.2.tar.xz 
DEPENDS_libsigc_e2 = $(archivedir)/libsigc++-1.2.7.tar.gz 
DEPENDS_libsoup = $(archivedir)/libsoup-2.50.0.tar.xz 
DEPENDS_libstgles = 
DEPENDS_libtiff = $(archivedir)/tiff-4.0.3.tar.gz 
DEPENDS_libungif = $(archivedir)/libungif-4.1.4.tar.bz2 
DEPENDS_libupnp = $(archivedir)/libupnp-1.6.17.tar.bz2 
DEPENDS_libusb = $(archivedir)/libusb-1.0.9.tar.bz2 
DEPENDS_libusbcompat = $(archivedir)/libusb-compat-0.1.5.tar.bz2 
DEPENDS_libvorbis = $(archivedir)/libvorbis-1.3.4.tar.gz 
DEPENDS_libvorbisidec = $(archivedir)/libvorbisidec_1.0.2+svn18153.orig.tar.gz Patches/tremor.patch 
DEPENDS_libxml2 = $(archivedir)/libxml2-2.8.0.tar.gz 
DEPENDS_libxml2_e2 = $(archivedir)/libxml2-2.9.0.tar.gz 
DEPENDS_libxmlccwrap = $(archivedir)/libxmlccwrap-0.0.12.tar.gz 
DEPENDS_libxslt = $(archivedir)/libxslt-1.1.28.tar.gz 
DEPENDS_lighttpd = $(archivedir)/lighttpd-1.4.15.tar.gz 
DEPENDS_linuxp0209 = 
DEPENDS_linuxp0211 = 
DEPENDS_linuxp0214 = 
DEPENDS_linuxp0215 = 
DEPENDS_linuxp0217 = 
DEPENDS_lirc = $(archivedir)/lirc-0.9.0.tar.gz Patches/lirc-0.9.0.patch 
DEPENDS_lite = $(archivedir)/lite-0.9.0+git0.7982ccc.tar.bz2 
DEPENDS_lm_sensors = $(archivedir)/lm_sensors-2.9.2.tar.gz 
DEPENDS_lsb = $(archivedir)/lsb_3.2-20.tar.gz 
DEPENDS_lua = $(archivedir)/lua-5.2.3.tar.gz 
DEPENDS_luacurl = $(archivedir)/luacurl.git 
DEPENDS_luaexpat = $(archivedir)/luaexpat-1.3.0.tar.gz 
DEPENDS_lzo = $(archivedir)/lzo-2.06.tar.gz 
DEPENDS_mc = $(archivedir)/mc-4.8.1.7.tar.bz2 
DEPENDS_mencoder = $(archivedir)/mplayer-export-snapshot.tar.bz2 
DEPENDS_minidlna = $(archivedir)/minidlna-1.1.5.tar.gz 
DEPENDS_module_init_tools = $(archivedir)/module-init-tools-3.16.tar.bz2 
DEPENDS_mplayer = $(archivedir)/mplayer-export-snapshot.tar.bz2 
DEPENDS_mtd_utils = $(archivedir)/mtd-utils-1.5.0.tar.bz2 
DEPENDS_mysql = $(archivedir)/mysql-5.1.40.tar.gz 
DEPENDS_nano = $(archivedir)/nano-2.4.2.tar.gz 
DEPENDS_netio = $(archivedir)/netio126.zip 
DEPENDS_nettle = $(archivedir)/nettle-3.1.tar.gz 
DEPENDS_nfs_utils = $(archivedir)/nfs-utils-1.3.2.tar.bz2 
DEPENDS_ntp = $(archivedir)/ntp-4.2.8.tar.gz 
DEPENDS_openrdate = $(archivedir)/openrdate-1.1.2.tar.gz 
DEPENDS_openssh = $(archivedir)/openssh-7.1p1.tar.gz 
DEPENDS_openssl = $(archivedir)/openssl-0.9.8zf.tar.gz 
DEPENDS_openssl_e2 = $(archivedir)/openssl-1.0.2d.tar.gz 
DEPENDS_openvpn = $(archivedir)/openvpn-2.3.8.tar.xz 
DEPENDS_opkg = $(archivedir)/opkg-0.2.0.tar.gz 
DEPENDS_orc = $(archivedir)/orc-0.4.24.tar.xz 
DEPENDS_parted = $(archivedir)/parted-3.0.tar.gz 
DEPENDS_pixman = $(archivedir)/pixman-0.18.0.tar.gz 
DEPENDS_pngquant = $(archivedir)/pngquant-1.1-src.tgz 
DEPENDS_portmap = $(archivedir)/portmap_6.0.0.orig.tar.gz Patches/portmap_6.0.patch $(archivedir)/portmap_6.0.0-2.diff.gz 
DEPENDS_pugixml = $(archivedir)/pugixml-1.6.tar.gz 
DEPENDS_python = $(archivedir)/Python-2.7.9.tar.xz 
DEPENDS_python_cffi = $(archivedir)/cffi-1.2.1.tar.gz 
DEPENDS_python_cheetah = $(archivedir)/Cheetah-2.4.4.tar.gz 
DEPENDS_python_cryptography = $(archivedir)/cryptography-0.8.1.tar.gz 
DEPENDS_python_elementtree = $(archivedir)/elementtree-1.2.6-20050316.tar.gz 
DEPENDS_python_enum34 = $(archivedir)/enum34-1.0.4.tar.gz 
DEPENDS_python_futures = $(archivedir)/futures-2.1.6.tar.gz 
DEPENDS_python_gdata = $(archivedir)/gdata-2.0.18.tar.gz 
DEPENDS_python_imaging = $(archivedir)/Imaging-1.1.7.tar.gz 
DEPENDS_python_livestreamer = $(archivedir)/livestreamer.git 
DEPENDS_python_livestreamersrv = $(archivedir)/livestreamersrv.git 
DEPENDS_python_lxml = $(archivedir)/lxml-2.2.8.tgz 
DEPENDS_python_mechanize = $(archivedir)/mechanize-0.2.5.tar.gz 
DEPENDS_python_pyasn1 = $(archivedir)/pyasn1-0.1.8.tar.gz 
DEPENDS_python_pyasn1_modules = $(archivedir)/pyasn1-modules-0.0.7.tar.gz 
DEPENDS_python_pycparser = $(archivedir)/pycparser-2.14.tar.gz 
DEPENDS_python_pycrypto = $(archivedir)/pycrypto-2.5.tar.gz 
DEPENDS_python_pyopenssl = $(archivedir)/pyOpenSSL-0.13.1.tar.gz 
DEPENDS_python_pyusb = $(archivedir)/pyusb-1.0.0a3.tar.gz 
DEPENDS_python_requests = $(archivedir)/requests-2.7.0.tar.gz 
DEPENDS_python_setuptools = $(archivedir)/setuptools-5.2.tar.gz 
DEPENDS_python_singledispatch = $(archivedir)/singledispatch-3.4.0.3.tar.gz 
DEPENDS_python_six = $(archivedir)/six-1.9.0.tar.gz 
DEPENDS_python_twisted = $(archivedir)/Twisted-13.2.0.tar.bz2 
DEPENDS_python_wifi = $(archivedir)/python-wifi-0.5.0.tar.bz2 
DEPENDS_python_zope_interface = $(archivedir)/zope.interface-4.1.1.tar.gz 
DEPENDS_rarfs = $(archivedir)/rarfs-0.1.0.tar.gz 
DEPENDS_rsync = $(archivedir)/rsync-2.6.9.tar.gz 
DEPENDS_samba = $(archivedir)/samba-3.6.12.tar.gz Patches/samba-3.6.12.patch 
DEPENDS_sdparm = $(archivedir)/sdparm-1.07.tgz 
DEPENDS_shairport = $(archivedir)/shairport.git 
DEPENDS_sqlite = $(archivedir)/sqlite-autoconf-3080600.tar.gz 
DEPENDS_squashfs = $(archivedir)/squashfs3.0.tar.gz Patches/mksquashfs_lzma.patch $(archivedir)/lzma442.tar.bz2 Patches/mksquashfs_lzma_zlib-stream.patch 
DEPENDS_sshfs = $(archivedir)/sshfs-fuse-2.4.tar.bz2 
DEPENDS_sysstat = $(archivedir)/sysstat-11.1.2.tar.bz2 
DEPENDS_sysvinit = $(archivedir)/sysvinit_2.88dsf.orig.tar.gz 
DEPENDS_taglib = $(archivedir)/taglib-1.8.tar.gz 
DEPENDS_tinyxml = $(archivedir)/tinyxml_2_6_2.tar.gz 
DEPENDS_tuxtxt32bpp = $(archivedir)/libtuxtxt.git Patches/tuxtxt32bpp-1.0-fix_dbox_headers.patch 
DEPENDS_tuxtxtlib = $(archivedir)/libtuxtxt.git Patches/tuxtxtlib-1.0-fix_dbox_headers.patch 
DEPENDS_uboot_tf7700 = $(archivedir)/u-boot-1.3.1.tar.bz2 
DEPENDS_udpxy = $(archivedir)/udpxy.1.0.23-0-prod.tar.gz 
DEPENDS_utillinux = $(archivedir)/util-linux-2.25.2.tar.gz 
DEPENDS_vsftpd = $(archivedir)/vsftpd-3.0.3.tar.gz Patches/vsftpd_3.0.3.patch 
DEPENDS_webkitdfb = $(archivedir)/webkitdfb_2010-11-18.tar.gz Patches/webkitdfb.patch 
DEPENDS_wget = $(archivedir)/wget-1.15.tar.gz 
DEPENDS_wireless_tools = $(archivedir)/wireless_tools.29.tar.gz 
DEPENDS_wpa_supplicant = $(archivedir)/wpa_supplicant-0.7.3.tar.gz 
DEPENDS_xfsprogs = $(archivedir)/xfsprogs-3.1.8.tar.gz 
DEPENDS_xupnpd = $(archivedir)/xupnpd.git 
DEPENDS_yajl = $(archivedir)/yajl.git 
DEPENDS_zd1211 = $(archivedir)/zd1211lnxdrv_2_15_0_0.tar.gz Patches/zd1211.patch 
DEPENDS_zlib = $(archivedir)/zlib-1.2.8.tar.gz 
DEPSCLEANUP = rm -f .deps/linuxp0217 .deps/host_u_boot_tools .deps/squashfs .deps/ccache .deps/cramfs .deps/host_pkgconfig .deps/host_module_init_tools .deps/host_mtd_utils .deps/host_glib2_genmarshal .deps/host_libffi .deps/uboot_tf7700 .deps/busybox .deps/lsb .deps/ipkg .deps/module_init_tools .deps/sysvinit .deps/libfreetype .deps/fontconfig .deps/libfribidi .deps/libgif .deps/libgif_e2 .deps/libungif .deps/libjpeg .deps/libjpeg_turbo .deps/libpng12 .deps/libpng .deps/libtiff .deps/pixman .deps/libalsa .deps/alsautils .deps/libflac .deps/a52dec .deps/libao .deps/libass .deps/libbluray .deps/libdvdcss .deps/libdvdnav .deps/libdvdread .deps/libid3tag .deps/libmad .deps/libmpeg2 .deps/libogg .deps/libsamplerate .deps/libvorbis .deps/libvorbisidec .deps/libdca .deps/libncurses .deps/gmp .deps/lua .deps/luacurl .deps/luaexpat .deps/howl .deps/libopenthreads .deps/pugixml .deps/libboost .deps/zlib .deps/libcap .deps/libreadline .deps/lirc .deps/libsigc_e2 .deps/libsigc .deps/glib2 .deps/libffi .deps/libiconv .deps/libmng .deps/lcms .deps/directfb .deps/dfbpp .deps/libstgles .deps/libexpat .deps/libxmlccwrap .deps/ffmpeg .deps/libfdk_aac .deps/webkitdfb .deps/icu4c .deps/enchant .deps/lite .deps/sqlite .deps/cairo .deps/evebrowser .deps/brofs .deps/librtmpdump .deps/libdvbsipp .deps/libmodplug .deps/lzo .deps/yajl .deps/libpcre .deps/libcdio .deps/jasper .deps/mysql .deps/libmicrohttpd .deps/libexif .deps/minidlna .deps/djmount .deps/libupnp .deps/rarfs .deps/sshfs .deps/tinyxml .deps/libnfs .deps/taglib .deps/libdaemon .deps/libplist .deps/libxml2 .deps/libxml2_e2 .deps/libxslt .deps/bzip2 .deps/grep .deps/openrdate .deps/mc .deps/console_data .deps/nano .deps/rsync .deps/curlftpfs .deps/pngquant .deps/mplayer .deps/mencoder .deps/opkg .deps/sysstat .deps/imagemagick .deps/shairport .deps/dbus .deps/avahi .deps/mtd_utils .deps/wget .deps/host_python .deps/python .deps/python_gdata .deps/python_elementtree .deps/python_lxml .deps/python_setuptools .deps/python_twisted .deps/python_imaging .deps/python_pycrypto .deps/python_pyusb .deps/python_six .deps/python_cffi .deps/python_enum34 .deps/python_pyasn1 .deps/python_pyasn1_modules .deps/python_pycparser .deps/python_cryptography .deps/python_pyopenssl .deps/python_wifi .deps/python_cheetah .deps/python_mechanize .deps/python_zope_interface .deps/python_requests .deps/python_futures .deps/python_singledispatch .deps/python_livestreamer .deps/python_livestreamersrv .deps/orc .deps/gst_gmediarender .deps/gst_plugins_dvbmediasink .deps/gstreamer .deps/gst_plugins_base .deps/gst_plugins_good .deps/gst_plugins_bad .deps/gst_plugins_ugly .deps/gst_libav .deps/gst_plugins_fluendo_mpegdemux .deps/gst_plugin_subsink .deps/tuxtxtlib .deps/tuxtxt32bpp .deps/enigma2_networkbrowser .deps/enigma2_webinterface .deps/enigma2_openwebif .deps/enigma2_plugins_all .deps/hotplug_e2 .deps/libdreamdvd .deps/graphlcd .deps/lcd4_linux .deps/libusb .deps/libusbcompat .deps/libgd2 .deps/libdpfax .deps/openssl_e2 .deps/openssl .deps/gnutls .deps/nettle .deps/dosfstools .deps/e2fsprogs .deps/fdisk .deps/fuse .deps/hddtemp .deps/hdparm .deps/jfsutils .deps/lm_sensors .deps/parted .deps/sdparm .deps/utillinux .deps/xfsprogs .deps/autofs .deps/libcurl .deps/portmap .deps/nfs_utils .deps/libevent .deps/libnfsidmap .deps/libsoup .deps/vsftpd .deps/samba .deps/netio .deps/ntp .deps/lighttpd .deps/wireless_tools .deps/zd1211 .deps/libnl .deps/wpa_supplicant .deps/ethtool .deps/xupnpd .deps/udpxy .deps/glibnetworking .deps/openvpn .deps/openssh
DIR_a52dec = a52dec-0.7.4
DIR_alsautils = alsa-utils-1.0.29
DIR_autofs = autofs-4.1.4
DIR_avahi = avahi-0.6.31
DIR_brofs = BroFS1.2
DIR_busybox = busybox-1.24.1
DIR_bzip2 = bzip2-1.0.6
DIR_cairo = cairo-1.8.10
DIR_ccache = ccache-3.1.9
DIR_console_data = console-data-1.03
DIR_cramfs = cramfs-1.1
DIR_curlftpfs = curlftpfs-0.9.2
DIR_dbus = dbus-dbus-1.8
DIR_dfbpp = DFB++-1.0.0
DIR_directfb = DirectFB-1.4.11
DIR_djmount = djmount-0.71
DIR_dosfstools = dosfstools-3.0.16
DIR_e2fsprogs = e2fsprogs-1.42.13
DIR_enchant = enchant-1.5.0
DIR_enigma2_networkbrowser = enigma2-networkbrowser
DIR_enigma2_openwebif = e2openplugin-OpenWebif
DIR_enigma2_plugins_all = enigma2-plugins-all
DIR_enigma2_webinterface = enigma2-webinterface
DIR_ethtool = ethtool-6
DIR_evebrowser = evebrowser-0.0.1
DIR_fdisk = fdisk-1.3.0a
DIR_ffmpeg = ffmpeg-2.6.3
DIR_fontconfig = fontconfig-2.8.0
DIR_fuse = fuse-2.9.2
DIR_glib2 = glib-2.45.4
DIR_glibnetworking = glib-networking-2.45.1
DIR_gmp = gmp-6.0.0
DIR_gnutls = gnutls-3.4.3
DIR_graphlcd = graphlcd-base-touchcol
DIR_grep = grep-2.5.1
DIR_gst_gmediarender = gmediarender-0.0.6
DIR_gst_libav = gst-libav-1.6.1
DIR_gst_plugin_subsink = gst-plugin-subsink-1.0
DIR_gst_plugins_bad = gst-plugins-bad-1.6.1
DIR_gst_plugins_base = gst-plugins-base-1.6.1
DIR_gst_plugins_dvbmediasink = gst-plugins-dvbmediasink-1.0
DIR_gst_plugins_fluendo_mpegdemux = gst-fluendo-mpegdemux-0.10.71
DIR_gst_plugins_good = gst-plugins-good-1.6.1
DIR_gst_plugins_ugly = gst-plugins-ugly-1.6.1
DIR_gstreamer = gstreamer-1.6.1
DIR_hddtemp = hddtemp-0.3-beta15
DIR_hdparm = hdparm-9.43
DIR_host_glib2_genmarshal = glib-2.45.4
DIR_host_libffi = libffi-3.2.1
DIR_host_module_init_tools = module-init-tools-3.16
DIR_host_mtd_utils = mtd-utils-1.5.1
DIR_host_pkgconfig = pkg-config-0.28
DIR_host_python = host-python-2.7.9
DIR_host_u_boot_tools = host-u-boot-tools-1.3.1
DIR_hotplug_e2 = hotplug-e2-helper-1.0
DIR_howl = howl-1.0.0
DIR_icu4c = icu/source
DIR_imagemagick = ImageMagick-6.7.7-7
DIR_ipkg = ipkg-0.99.163
DIR_jasper = jasper-1.900.1
DIR_jfsutils = jfsutils-1.1.15
DIR_lcd4_linux = lcd4linux-1.0
DIR_lcms = lcms-1.17
DIR_libalsa = alsa-lib-1.0.29
DIR_libao = libao-1.1.0
DIR_libass = libass-0.11.1
DIR_libbluray = libbluray-0.5.0
DIR_libboost = boost_1_53_0
DIR_libcap = libcap-2.22
DIR_libcdio = libcdio-0.83
DIR_libcurl = curl-7.44.0
DIR_libdaemon = libdaemon-0.14
DIR_libdca = libdca-0.0.5
DIR_libdpfax = dpf-ax
DIR_libdreamdvd = libdreamdvd-1.0
DIR_libdvbsipp = libdvbsi++-0.3.7
DIR_libdvdcss = libdvdcss-1.2.13
DIR_libdvdnav = libdvdnav-4.2.1
DIR_libdvdread = libdvdread-4.9.9
DIR_libevent = libevent-2.0.20-stable
DIR_libexif = libexif-0.6.20
DIR_libexpat = expat-2.1.0
DIR_libfdk_aac = fdk-aac-1.0
DIR_libffi = libffi-3.2.1
DIR_libflac = flac-1.3.1
DIR_libfreetype = freetype-2.6
DIR_libfribidi = fribidi-0.19.7
DIR_libgd2 = libgd-2.1.0
DIR_libgif = giflib-5.0.6
DIR_libgif_e2 = giflib-4.1.6
DIR_libiconv = libiconv-1.14
DIR_libid3tag = libid3tag-0.15.1b
DIR_libjpeg = jpeg-8d
DIR_libjpeg_turbo = libjpeg-turbo-1.4.0
DIR_libmad = libmad-0.15.1b
DIR_libmicrohttpd = libmicrohttpd-0.9.19
DIR_libmng = libmng-1.0.10
DIR_libmodplug = libmodplug-0.8.8.4
DIR_libmpeg2 = libmpeg2-0.5.1
DIR_libncurses = ncurses-5.9
DIR_libnfs = libnfs-c0ebf57b21
DIR_libnfsidmap = libnfsidmap-0.25
DIR_libnl = libnl-2.0
DIR_libogg = libogg-1.3.2
DIR_libopenthreads = openthreads
DIR_libpcre = pcre-8.30
DIR_libplist = libplist-1.10
DIR_libpng = libpng-1.6.18
DIR_libpng12 = libpng-1.2.50
DIR_libreadline = readline-6.2
DIR_librtmpdump = rtmpdump-2.4
DIR_libsamplerate = libsamplerate-0.1.8
DIR_libsigc = libsigc++-2.3.2
DIR_libsigc_e2 = libsigc++-1.2.7
DIR_libsoup = libsoup-2.50.0
DIR_libstgles = libstgles-1.0
DIR_libtiff = tiff-4.0.3
DIR_libungif = libungif-4.1.4
DIR_libupnp = libupnp-1.6.17
DIR_libusb = libusb-1.0.9
DIR_libusbcompat = libusb-compat-0.1.5
DIR_libvorbis = libvorbis-1.3.4
DIR_libvorbisidec = libvorbisidec-1.0.2+svn18153
DIR_libxml2 = libxml2-2.8.0
DIR_libxml2_e2 = libxml2-2.9.0
DIR_libxmlccwrap = libxmlccwrap-0.0.12
DIR_libxslt = libxslt-1.1.28
DIR_lighttpd = lighttpd-1.4.15
DIR_linuxp0209 = 
DIR_linuxp0211 = 
DIR_linuxp0214 = 
DIR_linuxp0215 = 
DIR_linuxp0217 = linux-sh4-2.6.32.61_stm24_0217
DIR_lirc = lirc-0.9.0
DIR_lite = lite-0.9.0+git0.7982ccc
DIR_lm_sensors = lm_sensors-2.9.2
DIR_lsb = lsb-3.2
DIR_lua = lua-5.2.3
DIR_luacurl = luacurl-v3
DIR_luaexpat = luaexpat-1.3.0
DIR_lzo = lzo-2.06
DIR_mc = mc-4.8.1.7
DIR_mencoder = mplayer-export-*
DIR_minidlna = minidlna-1.1.5
DIR_module_init_tools = module-init-tools-3.16
DIR_mplayer = mplayer-export-*
DIR_mtd_utils = mtd-utils-1.5.0
DIR_mysql = mysql-5.1.40
DIR_nano = nano-2.4.2
DIR_netio = netio126
DIR_nettle = nettle-3.1
DIR_nfs_utils = nfs-utils-1.3.2
DIR_ntp = ntp-4.2.8
DIR_openrdate = openrdate-1.1.2
DIR_openssh = openssh-7.1p1
DIR_openssl = openssl-0.9.8zf
DIR_openssl_e2 = openssl-1.0.2d
DIR_openvpn = openvpn-2.3.8
DIR_opkg = opkg-0.2.0
DIR_orc = orc-0.4.24
DIR_parted = parted-3.0
DIR_pixman = pixman-0.18.0
DIR_pngquant = pngquant-1.1
DIR_portmap = portmap-6.0.0
DIR_pugixml = pugixml-1.6
DIR_python = python-2.7.9
DIR_python_cffi = cffi-1.2.1
DIR_python_cheetah = Cheetah-2.4.4
DIR_python_cryptography = cryptography-0.8.1
DIR_python_elementtree = elementtree-1.2.6-20050316
DIR_python_enum34 = enum34-1.0.4
DIR_python_futures = futures-2.1.6
DIR_python_gdata = gdata-2.0.18
DIR_python_imaging = Imaging-1.1.7
DIR_python_livestreamer = livestreamer-1.0
DIR_python_livestreamersrv = livestreamersrv-1.0
DIR_python_lxml = lxml-2.2.8
DIR_python_mechanize = mechanize-0.2.5
DIR_python_pyasn1 = pyasn1-0.1.8
DIR_python_pyasn1_modules = pyasn1-modules-0.0.7
DIR_python_pycparser = pycparser-2.14
DIR_python_pycrypto = pycrypto-2.5
DIR_python_pyopenssl = pyOpenSSL-0.13.1
DIR_python_pyusb = pyusb-1.0.0a3
DIR_python_requests = requests-2.7.0
DIR_python_setuptools = setuptools-5.2
DIR_python_singledispatch = singledispatch-3.4.0.3
DIR_python_six = six-1.9.0
DIR_python_twisted = Twisted-13.2.0
DIR_python_wifi = python-wifi-0.5.0
DIR_python_zope_interface = zope.interface-4.1.1
DIR_rarfs = rarfs-0.1.0
DIR_rsync = rsync-2.6.9
DIR_samba = samba-3.6.12
DIR_sdparm = sdparm-1.07
DIR_shairport = shairport-1.0
DIR_sqlite = sqlite-autoconf-3080600
DIR_squashfs = mksquashfs
DIR_sshfs = sshfs-fuse-2.4
DIR_sysstat = sysstat-11.1.2
DIR_sysvinit = sysvinit-2.88dsf
DIR_taglib = taglib-1.8
DIR_tinyxml = tinyxml2.6.2
DIR_tuxtxt32bpp = tuxtxt
DIR_tuxtxtlib = libtuxtxt
DIR_uboot_tf7700 = u-boot-1.3.1
DIR_udpxy = udpxy-1.0.23-0
DIR_utillinux = util-linux-2.25.2
DIR_vsftpd = vsftpd-3.0.3
DIR_webkitdfb = webkitdfb_2010-11-18
DIR_wget = wget-1.15
DIR_wireless_tools = wireless_tools.29
DIR_wpa_supplicant = wpa_supplicant-0.7.3
DIR_xfsprogs = xfsprogs-3.1.8
DIR_xupnpd = xupnpd-1.0
DIR_yajl = yajl-2.0.1
DIR_zd1211 = ZD1211LnxDrv_2_15_0_0
DIR_zlib = zlib-1.2.8
DSI87 = 
ECHO_C = 
ECHO_N = -n
ECHO_T = 
ENIGMA2 = enigma2
EPLAYER3 = eplayer3
EXEEXT = 
EXTERNALLCD = no
EXTERNALLCD_DEP = 
FORTIS_DP7000 = 
FORTIS_HDBOX = 
HL101 = 
HOMECAST5101 = 
HS7110 = 
HS7119 = 
HS7810A = 
HS7819 = 
INSTALL = /usr/bin/install -c
INSTALL_DATA = ${INSTALL} -m 644
INSTALL_PROGRAM = ${INSTALL}
INSTALL_SCRIPT = ${INSTALL}
INSTALL_STRIP_PROGRAM = $(install_sh) -c -s
INSTALL_a52dec = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_alsautils = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_autofs = $(MAKE) install INSTALLROOT=$(targetprefix) SUBDIRS="lib daemon modules"
INSTALL_avahi = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_brofs = $(MAKE) install DESTDIR=$(targetprefix)/usr/bin
INSTALL_busybox = $(MAKE) install CONFIG_PREFIX=$(targetprefix)
INSTALL_bzip2 = $(MAKE) install PREFIX=$(targetprefix)/usr
INSTALL_cairo = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libcairo.la && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/cairo.pc $(targetprefix)/usr/lib/pkgconfig/cairo-directfb.pc $(targetprefix)/usr/lib/pkgconfig/cairo-ft.pc $(targetprefix)/usr/lib/pkgconfig/cairo-png.pc
INSTALL_ccache = $(MAKE) install DESTDIR=$(hostprefix)
INSTALL_console_data = $(MAKE) install
INSTALL_cramfs = $(INSTALL) mkcramfs $(hostprefix)/bin
INSTALL_curlftpfs = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_dbus = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," dbus-1.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_dfbpp = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," dfb++.pc && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdfb++.la
INSTALL_directfb = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," directfb.pc && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," directfb-internal.pc && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," lib/direct/direct.pc && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," lib/fusion/fusion.pc && $(MAKE) install DESTDIR=$(targetprefix) LD=sh4-linux-ld && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdirectfb.la && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdirect.la && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfusion.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libdirectfb.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libfusion.la
INSTALL_djmount = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_dosfstools = $(MAKE) install PREFIX=$(targetprefix)
INSTALL_e2fsprogs = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," lib/et/com_err.pc lib/e2p/e2p.pc lib/ext2fs/ext2fs.pc lib/quota/quota.pc lib/ss/ss.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/blkid.pc $(targetprefix)/usr/lib/pkgconfig/uuid.pc
INSTALL_enchant = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libenchant.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libenchant.la && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/enchant.pc
INSTALL_enigma2_networkbrowser = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_enigma2_openwebif = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_enigma2_plugins_all = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_enigma2_webinterface = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_ethtool = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_evebrowser = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_fdisk = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_ffmpeg = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libavcodec/libavcodec.pc libavdevice/libavdevice.pc libavfilter/libavfilter.pc libavformat/libavformat.pc libavutil/libavutil.pc libswresample/libswresample.pc libswscale/libswscale.pc && $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_fontconfig = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," fontconfig.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfontconfig.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libfontconfig.la
INSTALL_fuse = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," fuse.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfuse.la
INSTALL_glib2 = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," glib-2.0.pc gmodule-2.0.pc gio-2.0.pc gio-unix-2.0.pc gmodule-export-2.0.pc gmodule-no-export-2.0.pc gobject-2.0.pc gthread-2.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libglib-2.0.la $(targetprefix)/usr/lib/libgmodule-2.0.la $(targetprefix)/usr/lib/libgio-2.0.la $(targetprefix)/usr/lib/libgobject-2.0.la $(targetprefix)/usr/lib/libgthread-2.0.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libgmodule-2.0.la $(targetprefix)/usr/lib/libgio-2.0.la $(targetprefix)/usr/lib/libgobject-2.0.la $(targetprefix)/usr/lib/libgthread-2.0.la
INSTALL_glibnetworking = $(MAKE) install INSTALLROOT=$(targetprefix)
INSTALL_gmp = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgmp.la
INSTALL_gnutls = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," lib/gnutls.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgnutls.la $(targetprefix)/usr/lib/libgnutlsxx.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libgnutlsxx.la
INSTALL_graphlcd = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_grep = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_gst_gmediarender = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_gst_libav = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_gst_plugin_subsink = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_gst_plugins_bad = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," pkgconfig/gstreamer-plugins-bad.pc pkgconfig/gstreamer-basevideo.pc pkgconfig/gstreamer-codecparsers.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgstbasecamerabinsrc-1.0.la $(targetprefix)/usr/lib/libgstbasevideo-1.0.la $(targetprefix)/usr/lib/libgstcodecparsers-1.0.la $(targetprefix)/usr/lib/libgstphotography-1.0.la $(targetprefix)/usr/lib/libgstsignalprocessor-1.0.la
INSTALL_gst_plugins_base = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," pkgconfig/gstreamer-audio-1.0.pc pkgconfig/gstreamer-app-1.0.pc pkgconfig/gstreamer-cdda-1.0.pc pkgconfig/gstreamer-cdda.pc pkgconfig/gstreamer-fft-1.0.pc pkgconfig/gstreamer-floatcast-1.0.pc pkgconfig/gstreamer-interfaces-1.0.pc pkgconfig/gstreamer-netbuffer-1.0.pc pkgconfig/gstreamer-pbutils-1.0.pc pkgconfig/gstreamer-riff-1.0.pc pkgconfig/gstreamer-rtp-1.0.pc pkgconfig/gstreamer-rtsp-1.0.pc pkgconfig/gstreamer-sdp-1.0.pc pkgconfig/gstreamer-tag-1.0.pc pkgconfig/gstreamer-video-1.0.pc pkgconfig/gstreamer-plugins-base-1.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgstapp-1.0.la $(targetprefix)/usr/lib/libgstaudio-1.0.la $(targetprefix)/usr/lib/libgstalsa-1.0.la $(targetprefix)/usr/lib/libgstfft-1.0.la $(targetprefix)/usr/lib/libgstogg-1.0.la $(targetprefix)/usr/lib/libgstdp-1.0.la $(targetprefix)/usr/lib/libgstpbutils-1.0.la $(targetprefix)/usr/lib/libgstriff-1.0.la $(targetprefix)/usr/lib/libgstrtp-1.0.la $(targetprefix)/usr/lib/libgstrtsp-1.0.la $(targetprefix)/usr/lib/libgstsdp-1.0.la $(targetprefix)/usr/lib/libgsttag-1.0.la $(targetprefix)/usr/lib/libgstvideo-1.0.la $(targetprefix)/usr/lib/libgstallocators-1.0.la $(targetprefix)/usr/lib/libgstvideorate-1.0.la $(targetprefix)/usr/lib/libgstvideoconvert-1.0.la $(targetprefix)/usr/lib/libgstvideotestsrc-1.0.la $(targetprefix)/usr/lib/libgstvolume-1.0.la $(targetprefix)/usr/lib/libgstaudiorate-1.0.la $(targetprefix)/usr/lib/libgstgio-1.0.la $(targetprefix)/usr/lib/libgstaudiotestsrc-1.0.la $(targetprefix)/usr/lib/libgstencodebin-1.0.la $(targetprefix)/usr/lib/libgstplayback-1.0.la $(targetprefix)/usr/lib/libgsttypefindfunctions-1.0.la $(targetprefix)/usr/lib/libgstaudioconvert-1.0.la $(targetprefix)/usr/lib/libgstadder-1.0.la $(targetprefix)/usr/lib/libgstvideoscale-1.0.la $(targetprefix)/usr/lib/libgstaudioresample-1.0.la $(targetprefix)/usr/lib/libgstsubparse-1.0.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libgstapp-1.0.la $(targetprefix)/usr/lib/libgstaudio-1.0.la $(targetprefix)/usr/lib/libgstalsa-1.0.la $(targetprefix)/usr/lib/libgstfft-1.0.la $(targetprefix)/usr/lib/libgstogg-1.0.la $(targetprefix)/usr/lib/libgstdp-1.0.la $(targetprefix)/usr/lib/libgstpbutils-1.0.la $(targetprefix)/usr/lib/libgstriff-1.0.la $(targetprefix)/usr/lib/libgstrtp-1.0.la $(targetprefix)/usr/lib/libgstrtsp-1.0.la $(targetprefix)/usr/lib/libgstsdp-1.0.la $(targetprefix)/usr/lib/libgsttag-1.0.la $(targetprefix)/usr/lib/libgstvideo-1.0.la $(targetprefix)/usr/lib/libgstallocators-1.0.la $(targetprefix)/usr/lib/libgstvideorate-1.0.la $(targetprefix)/usr/lib/libgstvideoconvert-1.0.la $(targetprefix)/usr/lib/libgstvideotestsrc-1.0.la $(targetprefix)/usr/lib/libgstvolume-1.0.la $(targetprefix)/usr/lib/libgstaudiorate-1.0.la $(targetprefix)/usr/lib/libgstgio-1.0.la $(targetprefix)/usr/lib/libgstaudiotestsrc-1.0.la $(targetprefix)/usr/lib/libgstencodebin-1.0.la $(targetprefix)/usr/lib/libgstplayback-1.0.la $(targetprefix)/usr/lib/libgsttypefindfunctions-1.0.la $(targetprefix)/usr/lib/libgstaudioconvert-1.0.la $(targetprefix)/usr/lib/libgstadder-1.0.la $(targetprefix)/usr/lib/libgstvideoscale-1.0.la $(targetprefix)/usr/lib/libgstaudioresample-1.0.la $(targetprefix)/usr/lib/libgstsubparse-1.0.la
INSTALL_gst_plugins_dvbmediasink = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_gst_plugins_fluendo_mpegdemux = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_gst_plugins_good = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_gst_plugins_ugly = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_gstreamer = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," pkgconfig/gstreamer-1.0.pc pkgconfig/gstreamer-base-1.0.pc pkgconfig/gstreamer-controller-1.0.pc pkgconfig/gstreamer-dataprotocol-1.0.pc pkgconfig/gstreamer-net-1.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgstreamer-1.0.la $(targetprefix)/usr/lib/libgstbase-1.0.la $(targetprefix)/usr/lib/libgstcontroller-1.0.la $(targetprefix)/usr/lib/libgstnet-1.0.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libgstbase-1.0.la $(targetprefix)/usr/lib/libgstcontroller-1.0.la $(targetprefix)/usr/lib/libgstnet-1.0.la
INSTALL_hddtemp = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_hdparm = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_host_glib2_genmarshal = $(MAKE) install
INSTALL_host_libffi = $(MAKE) install
INSTALL_host_module_init_tools = $(MAKE) install
INSTALL_host_mtd_utils = $(MAKE) install DESTDIR=$(hostprefix)/bin
INSTALL_host_pkgconfig = $(MAKE) install
INSTALL_host_python = 
INSTALL_host_u_boot_tools = 
INSTALL_hotplug_e2 = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_howl = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," howl.pc && $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libhowl.la $(targetprefix)/usr/lib/libhowl.la
INSTALL_icu4c = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_imagemagick = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," magick/ImageMagick.pc magick/MagickCore.pc wand/MagickWand.pc wand/Wand.pc Magick++/lib/ImageMagick++.pc Magick++/lib/Magick++.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libMagickCore.la $(targetprefix)/usr/lib/libMagickWand.la $(targetprefix)/usr/lib/libMagick++.la
INSTALL_ipkg = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_jasper = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_jfsutils = $(MAKE) install mandir=/.remove DESTDIR=$(targetprefix)
INSTALL_lcd4_linux = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_lcms = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/liblcms.la
INSTALL_libalsa = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," utils/alsa.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libasound.la
INSTALL_libao = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libao.pc && $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libao.la $(targetprefix)/usr/lib/libao.la
INSTALL_libass = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libass.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libass.la
INSTALL_libbluray = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," src/libbluray.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libbluray.la
INSTALL_libboost = rm -rf $(targetprefix)/include/boost && mv boost $(targetprefix)/usr/include/boost
INSTALL_libcap = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_libcdio = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_libcurl = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libcurl.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libcurl.la
INSTALL_libdaemon = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_libdca = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libdca/libdca.pc libdca/libdts.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdca.la
INSTALL_libdpfax = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_libdreamdvd = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libdreamdvd.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdreamdvd.la
INSTALL_libdvbsipp = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libdvbsi++.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdvbsi++.la
INSTALL_libdvdcss = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," src/libdvdcss.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdvdcss.la
INSTALL_libdvdnav = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," misc/dvdnav.pc misc/dvdnavmini.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdvdnav.la $(targetprefix)/usr/lib/libdvdnavmini.la
INSTALL_libdvdread = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," misc/dvdread.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdvdread.la
INSTALL_libevent = $(MAKE) install
INSTALL_libexif = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libexif.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libexif.la
INSTALL_libexpat = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," expat.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libexpat.la
INSTALL_libfdk_aac = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," fdk-aac.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfdk-aac.la
INSTALL_libffi = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libffi/libffi.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libffi.la
INSTALL_libflac = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," src/libFLAC/flac.pc src/libFLAC++/flac++.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libFLAC.la $(targetprefix)/usr/lib/libFLAC++.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libFLAC++.la
INSTALL_libfreetype = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," builds/unix/freetype2.pc && $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfreetype.la
INSTALL_libfribidi = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/fribidi.pc && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfribidi.la
INSTALL_libgd2 = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgd.la
INSTALL_libgif = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgif.la
INSTALL_libgif_e2 = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgif.la
INSTALL_libiconv = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libiconv.la
INSTALL_libid3tag = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," id3tag.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libid3tag.la
INSTALL_libjpeg = $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libjpeg.la
INSTALL_libjpeg_turbo = $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libjpeg.la
INSTALL_libmad = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," mad.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libmad.la
INSTALL_libmicrohttpd = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_libmng = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libmng.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libmng.la
INSTALL_libmodplug = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libmodplug.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libmodplug.la
INSTALL_libmpeg2 = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_libncurses = $(MAKE) install.libs DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/form.pc $(targetprefix)/usr/lib/pkgconfig/menu.pc $(targetprefix)/usr/lib/pkgconfig/ncurses.pc $(targetprefix)/usr/lib/pkgconfig/panel.pc
INSTALL_libnfs = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_libnfsidmap = $(MAKE) install
INSTALL_libnl = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_libogg = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," ogg.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libogg.la
INSTALL_libopenthreads = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," packaging/pkgconfig/openthreads.pc && $(MAKE) install DESTDIR=$(targetprefix)/usr
INSTALL_libpcre = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libpcre.pc libpcrecpp.pc libpcreposix.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libpcre.la $(targetprefix)/usr/lib/libpcreposix.la
INSTALL_libplist = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libplist.pc && $(MAKE) install DESTDIR=$(targetprefix)/usr
INSTALL_libpng = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libpng16.pc && $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libpng.la $(targetprefix)/usr/lib/libpng16.la
INSTALL_libpng12 = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libpng12.pc && $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libpng.la $(targetprefix)/usr/lib/libpng12.la
INSTALL_libreadline = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_librtmpdump = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/librtmp.pc
INSTALL_libsamplerate = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_libsigc = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," sigc++-2.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libsigc-2.0.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libsigc-2.0.la
INSTALL_libsigc_e2 = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," sigc++-1.2.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libsigc-1.2.la
INSTALL_libsoup = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libsoup-2.4.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libsoup-2.4.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libsoup-2.4.la
INSTALL_libstgles = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_libtiff = 
INSTALL_libungif = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libungif.la
INSTALL_libupnp = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libupnp.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libupnp.la $(targetprefix)/usr/lib/libixml.la $(targetprefix)/usr/lib/libthreadutil.la
INSTALL_libusb = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libusb-1.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libusb-1.0.la
INSTALL_libusbcompat = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libusb.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libusb.la
INSTALL_libvorbis = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," vorbis.pc vorbisenc.pc vorbisfile.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libvorbis.la $(targetprefix)/usr/lib/libvorbisenc.la $(targetprefix)/usr/lib/libvorbisfile.la
INSTALL_libvorbisidec = $(MAKE) install DESTDIR=$(targetprefix) && $(INSTALL) -m644 vorbisidec.pc $(targetprefix)/usr/lib/pkgconfig && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/vorbisidec.pc && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libvorbisidec.la
INSTALL_libxml2 = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libxml-2.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libxml2.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libxml2.la
INSTALL_libxml2_e2 = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libxml-2.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libxml2.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libxml2.la
INSTALL_libxmlccwrap = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libxmlccwrap.la
INSTALL_libxslt = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libxslt.pc libexslt.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libxslt.la $(targetprefix)/usr/lib/libexslt.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libexslt.la
INSTALL_lighttpd = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_linuxp0209 = 
INSTALL_linuxp0211 = 
INSTALL_linuxp0214 = 
INSTALL_linuxp0215 = 
INSTALL_linuxp0217 = 
INSTALL_lirc = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/liblirc_client.la
INSTALL_lite = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/liblite.la $(targetprefix)/usr/lib/libleck.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/liblite.la $(targetprefix)/usr/lib/libleck.la && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/lite.pc $(targetprefix)/usr/lib/pkgconfig/leck.pc
INSTALL_lm_sensors = $(MAKE) user_install MACHINE=sh PREFIX=/usr MANDIR=/.remove DESTDIR=$(targetprefix)
INSTALL_lsb = $(INSTALL) -d $(targetprefix)/lib/lsb && $(INSTALL) -m644 init-functions $(targetprefix)/lib/lsb
INSTALL_lua = $(MAKE) install INSTALL_TOP=$(targetprefix)/usr
INSTALL_luacurl = $(MAKE) install DESTDIR=$(targetprefix) LUA_CMOD=/usr/lib/lua/5.2 LUA_LMOD=/usr/share/lua/5.2
INSTALL_luaexpat = $(MAKE) install DESTDIR=$(targetprefix)/usr
INSTALL_lzo = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_mc = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_mencoder = $(MAKE) install INSTALLSTRIP="" DESTDIR=$(targetprefix)
INSTALL_minidlna = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_module_init_tools = $(MAKE) INSTALL=install install sbin_PROGRAMS="depmod modinfo" bin_PROGRAMS= DESTDIR=$(targetprefix)
INSTALL_mplayer = $(MAKE) install INSTALLSTRIP="" DESTDIR=$(targetprefix)
INSTALL_mtd_utils = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_mysql = 
INSTALL_nano = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_netio = $(INSTALL) -m755 netio $(targetprefix)/usr/bin && $(INSTALL) -m755 bin/linux-i386 $(hostprefix)/bin/netio
INSTALL_nettle = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," nettle.pc hogweed.pc && $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_nfs_utils = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_ntp = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_openrdate = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_openssh = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_openssl = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libcrypto.pc libssl.pc openssl.pc && $(MAKE) install_sw INSTALL_PREFIX=$(targetprefix)
INSTALL_openssl_e2 = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libcrypto.pc libssl.pc openssl.pc && $(MAKE) install_sw INSTALL_PREFIX=$(targetprefix)
INSTALL_openvpn = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_opkg = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libopkg.pc && $(MAKE) install DESTDIR=$(targetprefix) && ln -sf /usr/bin/opkg-cl $(targetprefix)/usr/bin/opkg && mkdir -p $(targetprefix)/var/opkg && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libopkg.la
INSTALL_orc = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," orc-0.4.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/liborc-0.4.la $(targetprefix)/usr/lib/liborc-test-0.4.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/liborc-test-0.4.la
INSTALL_parted = $(MAKE) install
INSTALL_pixman = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libpixman-1.la && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/pixman-1.pc
INSTALL_pngquant = $(INSTALL) -m755 pngquant $(targetprefix)/usr/bin
INSTALL_portmap = $(MAKE) install BASEDIR=$(targetprefix) && $(INSTALL) -m755 debian/init.d $(targetprefix)/etc/init.d/portmap
INSTALL_pugixml = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_python = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/python-2.7.pc
INSTALL_python_cffi = 
INSTALL_python_cheetah = 
INSTALL_python_cryptography = 
INSTALL_python_elementtree = 
INSTALL_python_enum34 = 
INSTALL_python_futures = 
INSTALL_python_gdata = 
INSTALL_python_imaging = 
INSTALL_python_livestreamer = 
INSTALL_python_livestreamersrv = 
INSTALL_python_lxml = 
INSTALL_python_mechanize = 
INSTALL_python_pyasn1 = 
INSTALL_python_pyasn1_modules = 
INSTALL_python_pycparser = 
INSTALL_python_pycrypto = 
INSTALL_python_pyopenssl = 
INSTALL_python_pyusb = 
INSTALL_python_requests = 
INSTALL_python_setuptools = 
INSTALL_python_singledispatch = 
INSTALL_python_six = 
INSTALL_python_twisted = 
INSTALL_python_wifi = 
INSTALL_python_zope_interface = 
INSTALL_rarfs = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_rsync = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_samba = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_sdparm = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_shairport = $(MAKE) install PREFIX=$(targetprefix)/usr
INSTALL_sqlite = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," sqlite3.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libsqlite3.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libsqlite3.la
INSTALL_squashfs = 
INSTALL_sshfs = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_sysstat = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_sysvinit = $(MAKE) install ROOT=$(targetprefix)
INSTALL_taglib = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_tinyxml = $(MAKE) install PREFIX=$(targetprefix)/usr
INSTALL_tuxtxt32bpp = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libtuxtxt32bpp.la
INSTALL_tuxtxtlib = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," tuxbox-tuxtxt.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libtuxtxt.la
INSTALL_uboot_tf7700 = 
INSTALL_udpxy = $(MAKE) install INSTALLROOT=$(targetprefix)/usr
INSTALL_utillinux = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libsmartcols/smartcols.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libsmartcols.la
INSTALL_vsftpd = $(MAKE) install PREFIX=$(targetprefix)
INSTALL_webkitdfb = $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libwebkitgtk-1.0.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libwebkitgtk-1.0.la && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/webkit-1.0.pc
INSTALL_wget = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_wireless_tools = $(MAKE) install INSTALL_MAN=$(targetprefix)/.remove PREFIX=$(targetprefix)/usr
INSTALL_wpa_supplicant = $(MAKE) install BINDIR=/usr/sbin DESTDIR=$(targetprefix)
INSTALL_xfsprogs = $(MAKE) install prefix=$(targetprefix)/usr
INSTALL_xupnpd = $(MAKE) install DESTDIR=$(targetprefix)
INSTALL_yajl = $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
INSTALL_zd1211 = 
INSTALL_zlib = perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," zlib.pc && $(MAKE) install prefix=$(targetprefix)/usr
IPBOX55 = 
IPBOX99 = 
IPBOX9900 = 
KERNELLABEL = 217
KERNELSTMLABEL = _stm24_0217
KERNELVERSION = 2.6.32.61_stm24_0217
KERNEL_DIR = linux-sh4-2.6.32.61_stm24_0217
LDFLAGS = 
LEX = flex
LEXLIB = -lfl
LEX_OUTPUT_ROOT = lex.yy
LIBOBJS = 
LIBS = 
LTLIBOBJS = 
M4 = /usr/bin/m4
MAINT = 
MAKEINFO = /usr/bin/makeinfo
MEDIAFW = gstreamer
MEDIAFWGSTREAMER = 
MEDIAFW_DEP = gst_plugins_dvbmediasink
MKDIR_P = /bin/mkdir -p
MULTICOM324 = multicom324
MULTICOM406 = 
NEUTRINO = 
OBJEXT = o
OCTAGON1008 = 
P0209 = 
P0211 = 
P0214 = 
P0215 = 
P0217 = p0217
PACKAGE = tuxbox-cdk
PACKAGE_BUGREPORT = 
PACKAGE_NAME = tuxbox-cdk
PACKAGE_STRING = tuxbox-cdk 0
PACKAGE_TARNAME = tuxbox-cdk
PACKAGE_URL = 
PACKAGE_VERSION = 0
PATCH_STR = _0217
PATH_SEPARATOR = :
PLAYER191 = player191
PREPARE_a52dec = ( rm -rf a52dec-0.7.4 || /bin/true ) && gunzip -cd $(archivedir)/a52dec-0.7.4.tar.gz | TAPE=- tar -x
PREPARE_alsautils = ( rm -rf alsa-utils-1.0.29 || /bin/true ) && bunzip2 -cd $(archivedir)/alsa-utils-1.0.29.tar.bz2 | TAPE=- tar -x
PREPARE_autofs = ( rm -rf autofs-4.1.4 || /bin/true ) && gunzip -cd $(archivedir)/autofs-4.1.4.tar.gz | TAPE=- tar -x && ( cd autofs-4.1.4 && chmod +w -R .; patch -p1 < ../Patches/autofs-4.1.4.patch )
PREPARE_avahi = ( rm -rf avahi-0.6.31 || /bin/true ) && gunzip -cd $(archivedir)/avahi-0.6.31.tar.gz | TAPE=- tar -x
PREPARE_brofs = ( rm -rf BroFS1.2 || /bin/true ) && gunzip -cd $(archivedir)/BroFS1.2.tgz | TAPE=- tar -x
PREPARE_busybox = ( rm -rf busybox-1.24.1 || /bin/true ) && bunzip2 -cd $(archivedir)/busybox-1.24.1.tar.bz2 | TAPE=- tar -x
PREPARE_bzip2 = ( rm -rf bzip2-1.0.6 || /bin/true ) && gunzip -cd $(archivedir)/bzip2-1.0.6.tar.gz | TAPE=- tar -x && ( cd bzip2-1.0.6 && chmod +w -R .; patch -p1 < ../Patches/bzip2.patch )
PREPARE_cairo = ( rm -rf cairo-1.8.10 || /bin/true ) && gunzip -cd $(archivedir)/cairo-1.8.10.tar.gz | TAPE=- tar -x && ( cd cairo-1.8.10 && chmod +w -R .; patch -p1 < ../Patches/cairo-1.8.10.patch )
PREPARE_ccache = ( rm -rf ccache-3.1.9 || /bin/true ) && gunzip -cd $(archivedir)/ccache-3.1.9.tar.gz | TAPE=- tar -x
PREPARE_console_data = ( rm -rf console-data-1.03 || /bin/true ) && gunzip -cd $(archivedir)/console-data_1.03.orig.tar.gz | TAPE=- tar -x
PREPARE_cramfs = ( rm -rf cramfs-1.1 || /bin/true ) && gunzip -cd $(archivedir)/cramfs-1.1.tar.gz | TAPE=- tar -x
PREPARE_curlftpfs = ( rm -rf curlftpfs-0.9.2 || /bin/true ) && gunzip -cd $(archivedir)/curlftpfs-0.9.2.tar.gz | TAPE=- tar -x
PREPARE_dbus = ( rm -rf dbus-dbus-1.8 || /bin/true ) && gunzip -cd $(archivedir)/dbus-dbus-1.8.tar.gz | TAPE=- tar -x
PREPARE_dfbpp = ( rm -rf DFB++-1.0.0 || /bin/true ) && gunzip -cd $(archivedir)/DFB++-1.0.0.tar.gz | TAPE=- tar -x
PREPARE_directfb = ( rm -rf DirectFB-1.4.11 || /bin/true ) && gunzip -cd $(archivedir)/DirectFB-1.4.11.tar.gz | TAPE=- tar -x && ( cd DirectFB-1.4.11 && chmod +w -R .; patch -p1 < ../Patches/directfb-1.4.11+STM2010.12.15-4.patch ) && ( cd DirectFB-1.4.11 && chmod +w -R .; patch -p1 < ../Patches/directfb-1.4.11+STM2010.12.15-4.no-vt.patch ) && ( cd DirectFB-1.4.11 && chmod +w -R .; patch -p1 < ../Patches/directfb-1.4.11+STM2010.12.15-4.libpng.patch ) && ( cd DirectFB-1.4.11 && chmod +w -R .; patch -p1 < ../Patches/directfb-1.4.11+STM2010.12.15-4.enigma2remote.patch )
PREPARE_djmount = ( rm -rf djmount-0.71 || /bin/true ) && gunzip -cd $(archivedir)/djmount-0.71.tar.gz | TAPE=- tar -x
PREPARE_dosfstools = ( rm -rf dosfstools-3.0.16 || /bin/true ) && gunzip -cd $(archivedir)/dosfstools-3.0.16.tar.gz | TAPE=- tar -x
PREPARE_e2fsprogs = ( rm -rf e2fsprogs-1.42.13 || /bin/true ) && gunzip -cd $(archivedir)/e2fsprogs-1.42.13.tar.gz | TAPE=- tar -x && ( cd e2fsprogs-1.42.13 && chmod +w -R .; patch -p1 < ../Patches/e2fsprogs-1.42.13.patch )
PREPARE_enchant = ( rm -rf enchant-1.5.0 || /bin/true ) && gunzip -cd $(archivedir)/enchant-1.5.0.tar.gz | TAPE=- tar -x
PREPARE_enigma2_networkbrowser = ( rm -rf enigma2-networkbrowser || /bin/true ) && (rm -rf enigma2-networkbrowser; cp -a $(archivedir)/enigma2-openpli-plugins-enigma2.git/networkbrowser enigma2-networkbrowser) && ( cd enigma2-networkbrowser && chmod +w -R .; patch -p1 < ../Patches/enigma2-networkbrowser-support_autofs.patch )
PREPARE_enigma2_openwebif = ( rm -rf e2openplugin-OpenWebif || /bin/true ) && (rm -rf e2openplugin-OpenWebif; cp -a $(archivedir)/e2openplugin-OpenWebif.git e2openplugin-OpenWebif)
PREPARE_enigma2_plugins_all = ( rm -rf enigma2-plugins-all || /bin/true ) && (rm -rf enigma2-plugins-all; cp -a $(archivedir)/enigma2-openpli-plugins-enigma2.git enigma2-plugins-all) && ( cd enigma2-plugins-all && chmod +w -R .; patch -p1 < ../Patches/enigma2-plugins.patch )
PREPARE_enigma2_webinterface = ( rm -rf enigma2-webinterface || /bin/true ) && (rm -rf enigma2-webinterface; cp -a $(archivedir)/enigma2-openpli-plugins-enigma2.git/webinterface enigma2-webinterface)
PREPARE_ethtool = ( rm -rf ethtool-6 || /bin/true ) && gunzip -cd $(archivedir)/ethtool-6.tar.gz | TAPE=- tar -x
PREPARE_evebrowser = ( rm -rf evebrowser-0.0.1 || /bin/true )
PREPARE_fdisk = ( rm -rf fdisk-1.3.0a || /bin/true ) && gunzip -cd $(archivedir)/fdisk-1.3.0a.tar.gz | TAPE=- tar -x
PREPARE_ffmpeg = ( rm -rf ffmpeg-2.6.3 || /bin/true ) && bunzip2 -cd $(archivedir)/ffmpeg-2.6.3.tar.bz2 | TAPE=- tar -x && ( cd ffmpeg-2.6.3 && chmod +w -R .; patch -p1 < ../Patches/ffmpeg-2.6.patch ) && ( cd ffmpeg-2.6.3 && chmod +w -R .; patch -p1 < ../Patches/ffmpeg-hds-2.6.patch ) && ( cd ffmpeg-2.6.3 && chmod +w -R .; patch -p1 < ../Patches/ffmpeg-aac-2.6.patch )
PREPARE_fontconfig = ( rm -rf fontconfig-2.8.0 || /bin/true ) && gunzip -cd $(archivedir)/fontconfig-2.8.0.tar.gz | TAPE=- tar -x && ( cd fontconfig-2.8.0 && chmod +w -R .; patch -p1 < ../Patches/fontconfig-2.8.0.patch )
PREPARE_fuse = ( rm -rf fuse-2.9.2 || /bin/true ) && gunzip -cd $(archivedir)/fuse-2.9.2.tar.gz | TAPE=- tar -x
PREPARE_glib2 = ( rm -rf glib-2.45.4 || /bin/true ) && tar -xpf $(archivedir)/glib-2.45.4.tar.xz
PREPARE_glibnetworking = ( rm -rf glib-networking-2.45.1 || /bin/true ) && tar -xpf $(archivedir)/glib-networking-2.45.1.tar.xz
PREPARE_gmp = ( rm -rf gmp-6.0.0 || /bin/true ) && tar -xpf $(archivedir)/gmp-6.0.0a.tar.xz
PREPARE_gnutls = ( rm -rf gnutls-3.4.3 || /bin/true ) && tar -xpf $(archivedir)/gnutls-3.4.3.tar.xz
PREPARE_graphlcd = ( rm -rf graphlcd-base-touchcol || /bin/true ) && (rm -rf graphlcd-base-touchcol; cp -a $(archivedir)/graphlcd-base-touchcol.git graphlcd-base-touchcol) && ( cd graphlcd-base-touchcol && chmod +w -R .; patch -p1 < ../Patches/graphlcd.patch )
PREPARE_grep = ( rm -rf grep-2.5.1 || /bin/true ) && bunzip2 -cd $(archivedir)/grep-2.5.1.tar.bz2 | TAPE=- tar -x
PREPARE_gst_gmediarender = ( rm -rf gmediarender-0.0.6 || /bin/true ) && bunzip2 -cd $(archivedir)/gmediarender-0.0.6.tar.bz2 | TAPE=- tar -x && ( cd gmediarender-0.0.6 && chmod +w -R .; patch -p1 < ../Patches/gst-gmediarender-0.0.6.patch )
PREPARE_gst_libav = ( rm -rf gst-libav-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gst-libav-1.6.1.tar.xz && ( cd gst-libav-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-libav-disable-yasm-for-libav-when-disable-yasm.patch ) && ( cd gst-libav-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-libav-fix-sh4-compile-gcc48.patch )
PREPARE_gst_plugin_subsink = ( rm -rf gst-plugin-subsink-1.0 || /bin/true ) && (rm -rf gst-plugin-subsink-1.0; cp -a $(archivedir)/gst-plugin-subsink.git gst-plugin-subsink-1.0)
PREPARE_gst_plugins_bad = ( rm -rf gst-plugins-bad-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gst-plugins-bad-1.6.1.tar.xz && ( cd gst-plugins-bad-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-bad-configure-allow-to-disable-libssh2.patch ) && ( cd gst-plugins-bad-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-bad-dvbapi5-fix-old-kernel.patch ) && ( cd gst-plugins-bad-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-bad-rtmp-fix-seeking-and-potential-segfault.patch )
PREPARE_gst_plugins_base = ( rm -rf gst-plugins-base-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gst-plugins-base-1.6.1.tar.xz && ( cd gst-plugins-base-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-base-get-caps-from-src-pad-when-query-caps.patch ) && ( cd gst-plugins-base-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-base-riff-media-added-fourcc-to-all-mpeg4-video-caps.patch ) && ( cd gst-plugins-base-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-base-subparse-avoid-false-negatives-dealing-with-UTF-8.patch ) && ( cd gst-plugins-base-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-base-taglist-not-send-to-down-stream-if-all-the-frame-cor.patch )
PREPARE_gst_plugins_dvbmediasink = ( rm -rf gst-plugins-dvbmediasink-1.0 || /bin/true ) && (rm -rf gst-plugins-dvbmediasink-1.0; cp -a $(archivedir)/gst-plugins-dvbmediasink.git gst-plugins-dvbmediasink-1.0) && ( cd gst-plugins-dvbmediasink-1.0 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-dvbmediasink-sh4.patch )
PREPARE_gst_plugins_fluendo_mpegdemux = ( rm -rf gst-fluendo-mpegdemux-0.10.71 || /bin/true ) && gunzip -cd $(archivedir)/gst-fluendo-mpegdemux-0.10.71.tar.gz | TAPE=- tar -x && ( cd gst-fluendo-mpegdemux-0.10.71 && chmod +w -R .; patch -p1 < ../Patches/gst-plugins-fluendo-mpegdemux-0.10.71.patch )
PREPARE_gst_plugins_good = ( rm -rf gst-plugins-good-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gst-plugins-good-1.6.1.tar.xz && ( cd gst-plugins-good-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-good-gstrtpmp4gpay-set-dafault-value-for-MPEG4-without-co.patch )
PREPARE_gst_plugins_ugly = ( rm -rf gst-plugins-ugly-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gst-plugins-ugly-1.6.1.tar.xz
PREPARE_gstreamer = ( rm -rf gstreamer-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gstreamer-1.6.1.tar.xz && ( cd gstreamer-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gstreamer-1.0-fix-crash-with-gst-inspect.patch ) && ( cd gstreamer-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gstreamer-1.0-revert-baseparse-fix-GST_BASE_PARSE_FLAG_LOST_SYNC.patch )
PREPARE_hddtemp = ( rm -rf hddtemp-0.3-beta15 || /bin/true ) && bunzip2 -cd $(archivedir)/hddtemp-0.3-beta15.tar.bz2 | TAPE=- tar -x
PREPARE_hdparm = ( rm -rf hdparm-9.43 || /bin/true ) && gunzip -cd $(archivedir)/hdparm-9.43.tar.gz | TAPE=- tar -x
PREPARE_host_glib2_genmarshal = ( rm -rf glib-2.45.4 || /bin/true ) && tar -xpf $(archivedir)/glib-2.45.4.tar.xz
PREPARE_host_libffi = ( rm -rf libffi-3.2.1 || /bin/true ) && gunzip -cd $(archivedir)/libffi-3.2.1.tar.gz | TAPE=- tar -x
PREPARE_host_module_init_tools = ( rm -rf module-init-tools-3.16 || /bin/true ) && bunzip2 -cd $(archivedir)/module-init-tools-3.16.tar.bz2 | TAPE=- tar -x && ( cd module-init-tools-3.16 && chmod +w -R .; patch -p1 < ../Patches/module-init-tools-no-man.patch )
PREPARE_host_mtd_utils = ( rm -rf mtd-utils-1.5.1 || /bin/true ) && bunzip2 -cd $(archivedir)/mtd-utils-1.5.1.tar.bz2 | TAPE=- tar -x && ( cd mtd-utils-1.5.1 && chmod +w -R .; patch -p1 < ../Patches/host-mtd-utils-1.5.0.patch )
PREPARE_host_pkgconfig = ( rm -rf pkg-config-0.28 || /bin/true ) && gunzip -cd $(archivedir)/pkg-config-0.28.tar.gz | TAPE=- tar -x && ( cd pkg-config-0.28 && chmod +w -R .; patch -p1 < ../Patches/pkg-config-0.28.patch )
PREPARE_host_python = ( rm -rf host-python-2.7.9 || /bin/true ) && tar -xpf $(archivedir)/Python-2.7.9.tar.xz && mv Python-2.7.9 host-python-2.7.9 && ( cd host-python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-xcompile.patch ) && ( cd host-python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-revert_use_of_sysconfigdata.patch ) && ( cd host-python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9.patch ) && ( cd host-python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-pgettext.patch )
PREPARE_host_u_boot_tools = ( rm -rf host-u-boot-tools-1.3.1 || /bin/true ) && ( mkdir host-u-boot-tools-1.3.1 || /bin/true ) && ( cd host-u-boot-tools-1.3.1; rpm2cpio $(archivedir)/stlinux24-host-u-boot-tools-1.3.1_stm24-9.i386.rpm | cpio --extract --unconditional --preserve-modification-time --make-directories --no-absolute-filenames )
PREPARE_hotplug_e2 = ( rm -rf hotplug-e2-helper-1.0 || /bin/true ) && (rm -rf hotplug-e2-helper-1.0; cp -a $(archivedir)/hotplug-e2-helper.git hotplug-e2-helper-1.0) && ( cd hotplug-e2-helper-1.0 && chmod +w -R .; patch -p1 < ../Patches/hotplug-e2-helper-support_fw_upload.patch )
PREPARE_howl = ( rm -rf howl-1.0.0 || /bin/true ) && gunzip -cd $(archivedir)/howl-1.0.0.tar.gz | TAPE=- tar -x
PREPARE_icu4c = ( rm -rf icu/source || /bin/true ) && gunzip -cd $(archivedir)/icu4c-4_4_1-src.tgz | TAPE=- tar -x
PREPARE_imagemagick = ( rm -rf ImageMagick-6.7.7-7 || /bin/true ) && bunzip2 -cd $(archivedir)/ImageMagick-6.7.7-7.tar.bz2 | TAPE=- tar -x
PREPARE_ipkg = ( rm -rf ipkg-0.99.163 || /bin/true ) && gunzip -cd $(archivedir)/ipkg-0.99.163.tar.gz | TAPE=- tar -x
PREPARE_jasper = ( rm -rf jasper-1.900.1 || /bin/true ) && unzip $(archivedir)/jasper-1.900.1.zip
PREPARE_jfsutils = ( rm -rf jfsutils-1.1.15 || /bin/true ) && gunzip -cd $(archivedir)/jfsutils-1.1.15.tar.gz | TAPE=- tar -x
PREPARE_lcd4_linux = ( rm -rf lcd4linux-1.0 || /bin/true ) && cp -a $(archivedir)/lcd4linux.svn lcd4linux-1.0 && ( cd lcd4linux-1.0 && chmod +w -R .; patch -p1 < ../Patches/lcd4linux.patch )
PREPARE_lcms = ( rm -rf lcms-1.17 || /bin/true ) && gunzip -cd $(archivedir)/lcms-1.17.tar.gz | TAPE=- tar -x && ( cd lcms-1.17 && chmod +w -R .; patch -p1 < ../Patches/lcms.patch )
PREPARE_libalsa = ( rm -rf alsa-lib-1.0.29 || /bin/true ) && bunzip2 -cd $(archivedir)/alsa-lib-1.0.29.tar.bz2 | TAPE=- tar -x
PREPARE_libao = ( rm -rf libao-1.1.0 || /bin/true ) && gunzip -cd $(archivedir)/libao-1.1.0.tar.gz | TAPE=- tar -x
PREPARE_libass = ( rm -rf libass-0.11.1 || /bin/true ) && gunzip -cd $(archivedir)/libass-0.11.1.tar.gz | TAPE=- tar -x && ( cd libass-0.11.1 && chmod +w -R .; patch -p1 < ../Patches/libass-0.11.1.patch )
PREPARE_libbluray = ( rm -rf libbluray-0.5.0 || /bin/true ) && bunzip2 -cd $(archivedir)/libbluray-0.5.0.tar.bz2 | TAPE=- tar -x && ( cd libbluray-0.5.0 && chmod +w -R .; patch -p1 < ../Patches/libbluray.patch )
PREPARE_libboost = ( rm -rf boost_1_53_0 || /bin/true ) && bunzip2 -cd $(archivedir)/boost_1_53_0.tar.bz2 | TAPE=- tar -x && ( cd boost_1_53_0 && chmod +w -R .; patch -p1 < ../Patches/libboost.patch )
PREPARE_libcap = ( rm -rf libcap-2.22 || /bin/true ) && bunzip2 -cd $(archivedir)/libcap-2.22.tar.bz2 | TAPE=- tar -x && ( cd libcap-2.22 && chmod +w -R .; patch -p1 < ../Patches/libcap-2.22.patch )
PREPARE_libcdio = ( rm -rf libcdio-0.83 || /bin/true ) && gunzip -cd $(archivedir)/libcdio-0.83.tar.gz | TAPE=- tar -x
PREPARE_libcurl = ( rm -rf curl-7.44.0 || /bin/true ) && bunzip2 -cd $(archivedir)/curl-7.44.0.tar.bz2 | TAPE=- tar -x && ( cd curl-7.44.0 && chmod +w -R .; patch -p1 < ../Patches/libcurl-7.44.0.patch )
PREPARE_libdaemon = ( rm -rf libdaemon-0.14 || /bin/true ) && gunzip -cd $(archivedir)/libdaemon-0.14.tar.gz | TAPE=- tar -x
PREPARE_libdca = ( rm -rf libdca-0.0.5 || /bin/true ) && bunzip2 -cd $(archivedir)/libdca-0.0.5.tar.bz2 | TAPE=- tar -x
PREPARE_libdpfax = ( rm -rf dpf-ax || /bin/true ) && cp -a $(archivedir)/dpf-ax.svn dpf-ax
PREPARE_libdreamdvd = ( rm -rf libdreamdvd-1.0 || /bin/true ) && (rm -rf libdreamdvd-1.0; cp -a $(archivedir)/libdreamdvd.git libdreamdvd-1.0) && ( cd libdreamdvd-1.0 && chmod +w -R .; patch -p1 < ../Patches/libdreamdvd-1.0-support_sh4.patch )
PREPARE_libdvbsipp = ( rm -rf libdvbsi++-0.3.7 || /bin/true ) && bunzip2 -cd $(archivedir)/libdvbsi++-0.3.7.tar.bz2 | TAPE=- tar -x && ( cd libdvbsi++-0.3.7 && chmod +w -R .; patch -p1 < ../Patches/libdvbsi++-0.3.7.patch )
PREPARE_libdvdcss = ( rm -rf libdvdcss-1.2.13 || /bin/true ) && bunzip2 -cd $(archivedir)/libdvdcss-1.2.13.tar.bz2 | TAPE=- tar -x
PREPARE_libdvdnav = ( rm -rf libdvdnav-4.2.1 || /bin/true ) && tar -xpf $(archivedir)/libdvdnav-4.2.1.tar.xz && ( cd libdvdnav-4.2.1 && chmod +w -R .; patch -p1 < ../Patches/libdvdnav_4.2.0.patch )
PREPARE_libdvdread = ( rm -rf libdvdread-4.9.9 || /bin/true ) && tar -xpf $(archivedir)/libdvdread-4.9.9.tar.xz && ( cd libdvdread-4.9.9 && chmod +w -R .; patch -p1 < ../Patches/libdvdread_4.9.9.patch )
PREPARE_libevent = ( rm -rf libevent-2.0.20-stable || /bin/true ) && gunzip -cd $(archivedir)/libevent-2.0.20-stable.tar.gz | TAPE=- tar -x
PREPARE_libexif = ( rm -rf libexif-0.6.20 || /bin/true ) && gunzip -cd $(archivedir)/libexif-0.6.20.tar.gz | TAPE=- tar -x
PREPARE_libexpat = ( rm -rf expat-2.1.0 || /bin/true ) && gunzip -cd $(archivedir)/expat-2.1.0.tar.gz | TAPE=- tar -x
PREPARE_libfdk_aac = ( rm -rf fdk-aac-1.0 || /bin/true ) && (rm -rf fdk-aac-1.0; cp -a $(archivedir)/fdk-aac.git fdk-aac-1.0)
PREPARE_libffi = ( rm -rf libffi-3.2.1 || /bin/true ) && gunzip -cd $(archivedir)/libffi-3.2.1.tar.gz | TAPE=- tar -x && ( cd libffi-3.2.1 && chmod +w -R .; patch -p1 < ../Patches/libffi-3.1.patch )
PREPARE_libflac = ( rm -rf flac-1.3.1 || /bin/true ) && tar -xpf $(archivedir)/flac-1.3.1.tar.xz && ( cd flac-1.3.1 && chmod +w -R .; patch -p1 < ../Patches/libflac-1.3.1.patch )
PREPARE_libfreetype = ( rm -rf freetype-2.6 || /bin/true ) && bunzip2 -cd $(archivedir)/freetype-2.6.tar.bz2 | TAPE=- tar -x
PREPARE_libfribidi = ( rm -rf fribidi-0.19.7 || /bin/true ) && bunzip2 -cd $(archivedir)/fribidi-0.19.7.tar.bz2 | TAPE=- tar -x
PREPARE_libgd2 = ( rm -rf libgd-2.1.0 || /bin/true ) && gunzip -cd $(archivedir)/libgd-2.1.0.tar.gz | TAPE=- tar -x
PREPARE_libgif = ( rm -rf giflib-5.0.6 || /bin/true ) && bunzip2 -cd $(archivedir)/giflib-5.0.6.tar.bz2 | TAPE=- tar -x
PREPARE_libgif_e2 = ( rm -rf giflib-4.1.6 || /bin/true ) && bunzip2 -cd $(archivedir)/giflib-4.1.6.tar.bz2 | TAPE=- tar -x
PREPARE_libiconv = ( rm -rf libiconv-1.14 || /bin/true ) && gunzip -cd $(archivedir)/libiconv-1.14.tar.gz | TAPE=- tar -x
PREPARE_libid3tag = ( rm -rf libid3tag-0.15.1b || /bin/true ) && gunzip -cd $(archivedir)/libid3tag-0.15.1b.tar.gz | TAPE=- tar -x && ( cd libid3tag-0.15.1b && chmod +w -R .; patch -p1 < ../Patches/libid3tag.patch )
PREPARE_libjpeg = ( rm -rf jpeg-8d || /bin/true ) && gunzip -cd $(archivedir)/jpegsrc.v8d.tar.gz | TAPE=- tar -x && ( cd jpeg-8d && chmod +w -R .; patch -p1 < ../Patches/jpeg.patch )
PREPARE_libjpeg_turbo = ( rm -rf libjpeg-turbo-1.4.0 || /bin/true ) && gunzip -cd $(archivedir)/libjpeg-turbo-1.4.0.tar.gz | TAPE=- tar -x
PREPARE_libmad = ( rm -rf libmad-0.15.1b || /bin/true ) && gunzip -cd $(archivedir)/libmad-0.15.1b.tar.gz | TAPE=- tar -x && ( cd libmad-0.15.1b && chmod +w -R .; patch -p1 < ../Patches/libmad.patch )
PREPARE_libmicrohttpd = ( rm -rf libmicrohttpd-0.9.19 || /bin/true ) && gunzip -cd $(archivedir)/libmicrohttpd-0.9.19.tar.gz | TAPE=- tar -x
PREPARE_libmng = ( rm -rf libmng-1.0.10 || /bin/true ) && bunzip2 -cd $(archivedir)/libmng-1.0.10.tar.bz2 | TAPE=- tar -x
PREPARE_libmodplug = ( rm -rf libmodplug-0.8.8.4 || /bin/true ) && gunzip -cd $(archivedir)/libmodplug-0.8.8.4.tar.gz | TAPE=- tar -x
PREPARE_libmpeg2 = ( rm -rf libmpeg2-0.5.1 || /bin/true ) && gunzip -cd $(archivedir)/libmpeg2-0.5.1.tar.gz | TAPE=- tar -x
PREPARE_libncurses = ( rm -rf ncurses-5.9 || /bin/true ) && gunzip -cd $(archivedir)/ncurses-5.9.tar.gz | TAPE=- tar -x
PREPARE_libnfs = ( rm -rf libnfs-c0ebf57b21 || /bin/true ) && (rm -rf libnfs-c0ebf57b21; cp -a $(archivedir)/libnfs.git libnfs-c0ebf57b21)
PREPARE_libnfsidmap = ( rm -rf libnfsidmap-0.25 || /bin/true ) && gunzip -cd $(archivedir)/libnfsidmap-0.25.tar.gz | TAPE=- tar -x
PREPARE_libnl = ( rm -rf libnl-2.0 || /bin/true ) && gunzip -cd $(archivedir)/libnl-2.0.tar.gz | TAPE=- tar -x
PREPARE_libogg = ( rm -rf libogg-1.3.2 || /bin/true ) && gunzip -cd $(archivedir)/libogg-1.3.2.tar.gz | TAPE=- tar -x && ( cd libogg-1.3.2 && chmod +w -R .; patch -p1 < ../Patches/libogg-1.3.1-nodoc.patch )
PREPARE_libopenthreads = ( rm -rf openthreads || /bin/true )
PREPARE_libpcre = ( rm -rf pcre-8.30 || /bin/true ) && bunzip2 -cd $(archivedir)/pcre-8.30.tar.bz2 | TAPE=- tar -x
PREPARE_libplist = ( rm -rf libplist-1.10 || /bin/true ) && gunzip -cd $(archivedir)/libplist-1.10.tar.gz | TAPE=- tar -x
PREPARE_libpng = ( rm -rf libpng-1.6.18 || /bin/true ) && gunzip -cd $(archivedir)/libpng-1.6.18.tar.gz | TAPE=- tar -x
PREPARE_libpng12 = ( rm -rf libpng-1.2.50 || /bin/true ) && bunzip2 -cd $(archivedir)/libpng-1.2.50.tar.bz2 | TAPE=- tar -x
PREPARE_libreadline = ( rm -rf readline-6.2 || /bin/true ) && gunzip -cd $(archivedir)/readline-6.2.tar.gz | TAPE=- tar -x
PREPARE_librtmpdump = ( rm -rf rtmpdump-2.4 || /bin/true ) && (rm -rf rtmpdump-2.4; cp -a $(archivedir)/rtmpdump.git rtmpdump-2.4) && ( cd rtmpdump-2.4 && chmod +w -R .; patch -p1 < ../Patches/rtmpdump-2.4.patch )
PREPARE_libsamplerate = ( rm -rf libsamplerate-0.1.8 || /bin/true ) && gunzip -cd $(archivedir)/libsamplerate-0.1.8.tar.gz | TAPE=- tar -x
PREPARE_libsigc = ( rm -rf libsigc++-2.3.2 || /bin/true ) && tar -xpf $(archivedir)/libsigc++-2.3.2.tar.xz
PREPARE_libsigc_e2 = ( rm -rf libsigc++-1.2.7 || /bin/true ) && gunzip -cd $(archivedir)/libsigc++-1.2.7.tar.gz | TAPE=- tar -x
PREPARE_libsoup = ( rm -rf libsoup-2.50.0 || /bin/true ) && tar -xpf $(archivedir)/libsoup-2.50.0.tar.xz
PREPARE_libstgles = ( rm -rf libstgles-1.0 || /bin/true ) && ( ln -sf ../apps/libs/libstgles libstgles-1.0 || /bin/true )
PREPARE_libtiff = ( rm -rf tiff-4.0.3 || /bin/true ) && gunzip -cd $(archivedir)/tiff-4.0.3.tar.gz | TAPE=- tar -x
PREPARE_libungif = ( rm -rf libungif-4.1.4 || /bin/true ) && bunzip2 -cd $(archivedir)/libungif-4.1.4.tar.bz2 | TAPE=- tar -x
PREPARE_libupnp = ( rm -rf libupnp-1.6.17 || /bin/true ) && bunzip2 -cd $(archivedir)/libupnp-1.6.17.tar.bz2 | TAPE=- tar -x
PREPARE_libusb = ( rm -rf libusb-1.0.9 || /bin/true ) && bunzip2 -cd $(archivedir)/libusb-1.0.9.tar.bz2 | TAPE=- tar -x && ( cd libusb-1.0.9 && chmod +w -R .; patch -p1 < ../Patches/libusb-1.0.9.patch )
PREPARE_libusbcompat = ( rm -rf libusb-compat-0.1.5 || /bin/true ) && bunzip2 -cd $(archivedir)/libusb-compat-0.1.5.tar.bz2 | TAPE=- tar -x
PREPARE_libvorbis = ( rm -rf libvorbis-1.3.4 || /bin/true ) && gunzip -cd $(archivedir)/libvorbis-1.3.4.tar.gz | TAPE=- tar -x && ( cd libvorbis-1.3.4 && chmod +w -R .; patch -p1 < ../Patches/libvorbis-1.3.4-nodoc.patch )
PREPARE_libvorbisidec = ( rm -rf libvorbisidec-1.0.2+svn18153 || /bin/true ) && gunzip -cd $(archivedir)/libvorbisidec_1.0.2+svn18153.orig.tar.gz | TAPE=- tar -x && ( cd libvorbisidec-1.0.2+svn18153 && chmod +w -R .; patch -p1 < ../Patches/tremor.patch )
PREPARE_libxml2 = ( rm -rf libxml2-2.8.0 || /bin/true ) && gunzip -cd $(archivedir)/libxml2-2.8.0.tar.gz | TAPE=- tar -x
PREPARE_libxml2_e2 = ( rm -rf libxml2-2.9.0 || /bin/true ) && gunzip -cd $(archivedir)/libxml2-2.9.0.tar.gz | TAPE=- tar -x && ( cd libxml2-2.9.0 && chmod +w -R .; patch -p1 < ../Patches/libxml2-2.9.0.patch )
PREPARE_libxmlccwrap = ( rm -rf libxmlccwrap-0.0.12 || /bin/true ) && gunzip -cd $(archivedir)/libxmlccwrap-0.0.12.tar.gz | TAPE=- tar -x
PREPARE_libxslt = ( rm -rf libxslt-1.1.28 || /bin/true ) && gunzip -cd $(archivedir)/libxslt-1.1.28.tar.gz | TAPE=- tar -x
PREPARE_lighttpd = ( rm -rf lighttpd-1.4.15 || /bin/true ) && gunzip -cd $(archivedir)/lighttpd-1.4.15.tar.gz | TAPE=- tar -x
PREPARE_linuxp0209 = 
PREPARE_linuxp0211 = 
PREPARE_linuxp0214 = 
PREPARE_linuxp0215 = 
PREPARE_linuxp0217 = ( rm -rf linux-sh4-2.6.32.61_stm24_0217 || /bin/true )
PREPARE_lirc = ( rm -rf lirc-0.9.0 || /bin/true ) && gunzip -cd $(archivedir)/lirc-0.9.0.tar.gz | TAPE=- tar -x && ( cd lirc-0.9.0 && chmod +w -R .; patch -p1 < ../Patches/lirc-0.9.0.patch )
PREPARE_lite = ( rm -rf lite-0.9.0+git0.7982ccc || /bin/true ) && bunzip2 -cd $(archivedir)/lite-0.9.0+git0.7982ccc.tar.bz2 | TAPE=- tar -x
PREPARE_lm_sensors = ( rm -rf lm_sensors-2.9.2 || /bin/true ) && gunzip -cd $(archivedir)/lm_sensors-2.9.2.tar.gz | TAPE=- tar -x
PREPARE_lsb = ( rm -rf lsb-3.2 || /bin/true ) && gunzip -cd $(archivedir)/lsb_3.2-20.tar.gz | TAPE=- tar -x
PREPARE_lua = ( rm -rf lua-5.2.3 || /bin/true ) && gunzip -cd $(archivedir)/lua-5.2.3.tar.gz | TAPE=- tar -x && ( cd lua-5.2.3 && chmod +w -R .; patch -p1 < ../Patches/lua-5.2.3-luaposix-31.patch )
PREPARE_luacurl = ( rm -rf luacurl-v3 || /bin/true ) && (rm -rf luacurl-v3; cp -a $(archivedir)/luacurl.git luacurl-v3)
PREPARE_luaexpat = ( rm -rf luaexpat-1.3.0 || /bin/true ) && gunzip -cd $(archivedir)/luaexpat-1.3.0.tar.gz | TAPE=- tar -x && ( cd luaexpat-1.3.0 && chmod +w -R .; patch -p1 < ../Patches/luaexpat-1.3.0.patch )
PREPARE_lzo = ( rm -rf lzo-2.06 || /bin/true ) && gunzip -cd $(archivedir)/lzo-2.06.tar.gz | TAPE=- tar -x
PREPARE_mc = ( rm -rf mc-4.8.1.7 || /bin/true ) && bunzip2 -cd $(archivedir)/mc-4.8.1.7.tar.bz2 | TAPE=- tar -x
PREPARE_mencoder = ( rm -rf mplayer-export-* || /bin/true ) && bunzip2 -cd $(archivedir)/mplayer-export-snapshot.tar.bz2 | TAPE=- tar -x
PREPARE_minidlna = ( rm -rf minidlna-1.1.5 || /bin/true ) && gunzip -cd $(archivedir)/minidlna-1.1.5.tar.gz | TAPE=- tar -x && ( cd minidlna-1.1.5 && chmod +w -R .; patch -p1 < ../Patches/minidlna-1.1.5.patch )
PREPARE_module_init_tools = ( rm -rf module-init-tools-3.16 || /bin/true ) && bunzip2 -cd $(archivedir)/module-init-tools-3.16.tar.bz2 | TAPE=- tar -x && ( cd module-init-tools-3.16 && chmod +w -R .; patch -p1 < ../Patches/module-init-tools-no-man.patch )
PREPARE_mplayer = ( rm -rf mplayer-export-* || /bin/true ) && bunzip2 -cd $(archivedir)/mplayer-export-snapshot.tar.bz2 | TAPE=- tar -x
PREPARE_mtd_utils = ( rm -rf mtd-utils-1.5.0 || /bin/true ) && bunzip2 -cd $(archivedir)/mtd-utils-1.5.0.tar.bz2 | TAPE=- tar -x
PREPARE_mysql = ( rm -rf mysql-5.1.40 || /bin/true ) && gunzip -cd $(archivedir)/mysql-5.1.40.tar.gz | TAPE=- tar -x
PREPARE_nano = ( rm -rf nano-2.4.2 || /bin/true ) && gunzip -cd $(archivedir)/nano-2.4.2.tar.gz | TAPE=- tar -x
PREPARE_netio = ( rm -rf netio126 || /bin/true ) && unzip $(archivedir)/netio126.zip
PREPARE_nettle = ( rm -rf nettle-3.1 || /bin/true ) && gunzip -cd $(archivedir)/nettle-3.1.tar.gz | TAPE=- tar -x
PREPARE_nfs_utils = ( rm -rf nfs-utils-1.3.2 || /bin/true ) && bunzip2 -cd $(archivedir)/nfs-utils-1.3.2.tar.bz2 | TAPE=- tar -x && ( cd nfs-utils-1.3.2 && chmod +w -R .; patch -p1 < ../Patches/nfs-utils-1.3.2.patch )
PREPARE_ntp = ( rm -rf ntp-4.2.8 || /bin/true ) && gunzip -cd $(archivedir)/ntp-4.2.8.tar.gz | TAPE=- tar -x && ( cd ntp-4.2.8 && chmod +w -R .; patch -p1 < ../Patches/ntp-4.2.8.patch )
PREPARE_openrdate = ( rm -rf openrdate-1.1.2 || /bin/true ) && gunzip -cd $(archivedir)/openrdate-1.1.2.tar.gz | TAPE=- tar -x
PREPARE_openssh = ( rm -rf openssh-7.1p1 || /bin/true ) && gunzip -cd $(archivedir)/openssh-7.1p1.tar.gz | TAPE=- tar -x
PREPARE_openssl = ( rm -rf openssl-0.9.8zf || /bin/true ) && gunzip -cd $(archivedir)/openssl-0.9.8zf.tar.gz | TAPE=- tar -x && ( cd openssl-0.9.8zf && chmod +w -R .; patch -p1 < ../Patches/openssl-0.9.8.patch ) && ( cd openssl-0.9.8zf && chmod +w -R .; patch -p1 < ../Patches/openssl-0.9.8-parallel-build.patch )
PREPARE_openssl_e2 = ( rm -rf openssl-1.0.2d || /bin/true ) && gunzip -cd $(archivedir)/openssl-1.0.2d.tar.gz | TAPE=- tar -x && ( cd openssl-1.0.2d && chmod +w -R .; patch -p1 < ../Patches/openssl-1.0.2.patch )
PREPARE_openvpn = ( rm -rf openvpn-2.3.8 || /bin/true ) && tar -xpf $(archivedir)/openvpn-2.3.8.tar.xz
PREPARE_opkg = ( rm -rf opkg-0.2.0 || /bin/true ) && gunzip -cd $(archivedir)/opkg-0.2.0.tar.gz | TAPE=- tar -x && ( cd opkg-0.2.0 && chmod +w -R .; patch -p1 < ../Patches/opkg-0.2.0-dont-segfault.patch )
PREPARE_orc = ( rm -rf orc-0.4.24 || /bin/true ) && tar -xpf $(archivedir)/orc-0.4.24.tar.xz
PREPARE_parted = ( rm -rf parted-3.0 || /bin/true ) && gunzip -cd $(archivedir)/parted-3.0.tar.gz | TAPE=- tar -x
PREPARE_pixman = ( rm -rf pixman-0.18.0 || /bin/true ) && gunzip -cd $(archivedir)/pixman-0.18.0.tar.gz | TAPE=- tar -x
PREPARE_pngquant = ( rm -rf pngquant-1.1 || /bin/true ) && gunzip -cd $(archivedir)/pngquant-1.1-src.tgz | TAPE=- tar -x
PREPARE_portmap = ( rm -rf portmap-6.0.0 || /bin/true ) && gunzip -cd $(archivedir)/portmap_6.0.0.orig.tar.gz | TAPE=- tar -x && ( cd portmap-6.0.0 && chmod +w -R .; patch -p1 < ../Patches/portmap_6.0.patch )
PREPARE_pugixml = ( rm -rf pugixml-1.6 || /bin/true ) && gunzip -cd $(archivedir)/pugixml-1.6.tar.gz | TAPE=- tar -x
PREPARE_python = ( rm -rf python-2.7.9 || /bin/true ) && tar -xpf $(archivedir)/Python-2.7.9.tar.xz && mv Python-2.7.9 python-2.7.9 && ( cd python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-xcompile.patch ) && ( cd python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-revert_use_of_sysconfigdata.patch ) && ( cd python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9.patch ) && ( cd python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-pgettext.patch )
PREPARE_python_cffi = ( rm -rf cffi-1.2.1 || /bin/true ) && gunzip -cd $(archivedir)/cffi-1.2.1.tar.gz | TAPE=- tar -x
PREPARE_python_cheetah = ( rm -rf Cheetah-2.4.4 || /bin/true ) && gunzip -cd $(archivedir)/Cheetah-2.4.4.tar.gz | TAPE=- tar -x
PREPARE_python_cryptography = ( rm -rf cryptography-0.8.1 || /bin/true ) && gunzip -cd $(archivedir)/cryptography-0.8.1.tar.gz | TAPE=- tar -x
PREPARE_python_elementtree = ( rm -rf elementtree-1.2.6-20050316 || /bin/true ) && gunzip -cd $(archivedir)/elementtree-1.2.6-20050316.tar.gz | TAPE=- tar -x
PREPARE_python_enum34 = ( rm -rf enum34-1.0.4 || /bin/true ) && gunzip -cd $(archivedir)/enum34-1.0.4.tar.gz | TAPE=- tar -x
PREPARE_python_futures = ( rm -rf futures-2.1.6 || /bin/true ) && gunzip -cd $(archivedir)/futures-2.1.6.tar.gz | TAPE=- tar -x
PREPARE_python_gdata = ( rm -rf gdata-2.0.18 || /bin/true ) && gunzip -cd $(archivedir)/gdata-2.0.18.tar.gz | TAPE=- tar -x
PREPARE_python_imaging = ( rm -rf Imaging-1.1.7 || /bin/true ) && gunzip -cd $(archivedir)/Imaging-1.1.7.tar.gz | TAPE=- tar -x && ( cd Imaging-1.1.7 && chmod +w -R .; patch -p1 < ../Patches/python-imaging-1.1.7-crosscompiling.patch )
PREPARE_python_livestreamer = ( rm -rf livestreamer-1.0 || /bin/true ) && (rm -rf livestreamer-1.0; cp -a $(archivedir)/livestreamer.git livestreamer-1.0)
PREPARE_python_livestreamersrv = ( rm -rf livestreamersrv-1.0 || /bin/true ) && (rm -rf livestreamersrv-1.0; cp -a $(archivedir)/livestreamersrv.git livestreamersrv-1.0)
PREPARE_python_lxml = ( rm -rf lxml-2.2.8 || /bin/true ) && gunzip -cd $(archivedir)/lxml-2.2.8.tgz | TAPE=- tar -x
PREPARE_python_mechanize = ( rm -rf mechanize-0.2.5 || /bin/true ) && gunzip -cd $(archivedir)/mechanize-0.2.5.tar.gz | TAPE=- tar -x
PREPARE_python_pyasn1 = ( rm -rf pyasn1-0.1.8 || /bin/true ) && gunzip -cd $(archivedir)/pyasn1-0.1.8.tar.gz | TAPE=- tar -x
PREPARE_python_pyasn1_modules = ( rm -rf pyasn1-modules-0.0.7 || /bin/true ) && gunzip -cd $(archivedir)/pyasn1-modules-0.0.7.tar.gz | TAPE=- tar -x
PREPARE_python_pycparser = ( rm -rf pycparser-2.14 || /bin/true ) && gunzip -cd $(archivedir)/pycparser-2.14.tar.gz | TAPE=- tar -x
PREPARE_python_pycrypto = ( rm -rf pycrypto-2.5 || /bin/true ) && gunzip -cd $(archivedir)/pycrypto-2.5.tar.gz | TAPE=- tar -x && ( cd pycrypto-2.5 && chmod +w -R .; patch -p1 < ../Patches/python-pycrypto-no-usr-include.patch )
PREPARE_python_pyopenssl = ( rm -rf pyOpenSSL-0.13.1 || /bin/true ) && gunzip -cd $(archivedir)/pyOpenSSL-0.13.1.tar.gz | TAPE=- tar -x && ( cd pyOpenSSL-0.13.1 && chmod +w -R .; patch -p1 < ../Patches/python_pyopenssl_x509_revoked_dup.patch )
PREPARE_python_pyusb = ( rm -rf pyusb-1.0.0a3 || /bin/true ) && gunzip -cd $(archivedir)/pyusb-1.0.0a3.tar.gz | TAPE=- tar -x
PREPARE_python_requests = ( rm -rf requests-2.7.0 || /bin/true ) && gunzip -cd $(archivedir)/requests-2.7.0.tar.gz | TAPE=- tar -x
PREPARE_python_setuptools = ( rm -rf setuptools-5.2 || /bin/true ) && gunzip -cd $(archivedir)/setuptools-5.2.tar.gz | TAPE=- tar -x
PREPARE_python_singledispatch = ( rm -rf singledispatch-3.4.0.3 || /bin/true ) && gunzip -cd $(archivedir)/singledispatch-3.4.0.3.tar.gz | TAPE=- tar -x
PREPARE_python_six = ( rm -rf six-1.9.0 || /bin/true ) && gunzip -cd $(archivedir)/six-1.9.0.tar.gz | TAPE=- tar -x
PREPARE_python_twisted = ( rm -rf Twisted-13.2.0 || /bin/true ) && bunzip2 -cd $(archivedir)/Twisted-13.2.0.tar.bz2 | TAPE=- tar -x
PREPARE_python_wifi = ( rm -rf python-wifi-0.5.0 || /bin/true ) && bunzip2 -cd $(archivedir)/python-wifi-0.5.0.tar.bz2 | TAPE=- tar -x
PREPARE_python_zope_interface = ( rm -rf zope.interface-4.1.1 || /bin/true ) && gunzip -cd $(archivedir)/zope.interface-4.1.1.tar.gz | TAPE=- tar -x
PREPARE_rarfs = ( rm -rf rarfs-0.1.0 || /bin/true ) && gunzip -cd $(archivedir)/rarfs-0.1.0.tar.gz | TAPE=- tar -x
PREPARE_rsync = ( rm -rf rsync-2.6.9 || /bin/true ) && gunzip -cd $(archivedir)/rsync-2.6.9.tar.gz | TAPE=- tar -x
PREPARE_samba = ( rm -rf samba-3.6.12 || /bin/true ) && gunzip -cd $(archivedir)/samba-3.6.12.tar.gz | TAPE=- tar -x && ( cd samba-3.6.12 && chmod +w -R .; patch -p1 < ../Patches/samba-3.6.12.patch )
PREPARE_sdparm = ( rm -rf sdparm-1.07 || /bin/true ) && gunzip -cd $(archivedir)/sdparm-1.07.tgz | TAPE=- tar -x
PREPARE_shairport = ( rm -rf shairport-1.0 || /bin/true ) && (rm -rf shairport-1.0; cp -a $(archivedir)/shairport.git shairport-1.0)
PREPARE_sqlite = ( rm -rf sqlite-autoconf-3080600 || /bin/true ) && gunzip -cd $(archivedir)/sqlite-autoconf-3080600.tar.gz | TAPE=- tar -x
PREPARE_squashfs = ( rm -rf mksquashfs || /bin/true ) && ( mkdir -p mksquashfs ) && bunzip2 -cd $(archivedir)/lzma442.tar.bz2 | TAPE=- tar -x && ( cd mksquashfs && chmod +w -R .; patch -p1 < ../Patches/mksquashfs_lzma_zlib-stream.patch ) && gunzip -cd $(archivedir)/squashfs3.0.tar.gz | TAPE=- tar -x && ( cd mksquashfs && chmod +w -R .; patch -p1 < ../Patches/mksquashfs_lzma.patch )
PREPARE_sshfs = ( rm -rf sshfs-fuse-2.4 || /bin/true ) && bunzip2 -cd $(archivedir)/sshfs-fuse-2.4.tar.bz2 | TAPE=- tar -x
PREPARE_sysstat = ( rm -rf sysstat-11.1.2 || /bin/true ) && bunzip2 -cd $(archivedir)/sysstat-11.1.2.tar.bz2 | TAPE=- tar -x
PREPARE_sysvinit = ( rm -rf sysvinit-2.88dsf || /bin/true ) && gunzip -cd $(archivedir)/sysvinit_2.88dsf.orig.tar.gz | TAPE=- tar -x
PREPARE_taglib = ( rm -rf taglib-1.8 || /bin/true ) && gunzip -cd $(archivedir)/taglib-1.8.tar.gz | TAPE=- tar -x
PREPARE_tinyxml = ( rm -rf tinyxml2.6.2 || /bin/true ) && gunzip -cd $(archivedir)/tinyxml_2_6_2.tar.gz | TAPE=- tar -x && mv tinyxml tinyxml2.6.2 && ( cd tinyxml2.6.2 && chmod +w -R .; patch -p1 < ../Patches/tinyxml2.6.2.patch )
PREPARE_tuxtxt32bpp = ( rm -rf tuxtxt || /bin/true ) && (rm -rf tuxtxt; cp -a $(archivedir)/libtuxtxt.git/tuxtxt tuxtxt) && ( cd tuxtxt && chmod +w -R .; patch -p1 < ../Patches/tuxtxt32bpp-1.0-fix_dbox_headers.patch )
PREPARE_tuxtxtlib = ( rm -rf libtuxtxt || /bin/true ) && (rm -rf libtuxtxt; cp -a $(archivedir)/libtuxtxt.git/libtuxtxt libtuxtxt) && ( cd libtuxtxt && chmod +w -R .; patch -p1 < ../Patches/tuxtxtlib-1.0-fix_dbox_headers.patch )
PREPARE_uboot_tf7700 = ( rm -rf u-boot-1.3.1 || /bin/true ) && bunzip2 -cd $(archivedir)/u-boot-1.3.1.tar.bz2 | TAPE=- tar -x && ( cd u-boot-1.3.1 && chmod +w -R .; patch -p1 < ../Patches/u-boot-1.3.1.patch ) && ( cd u-boot-1.3.1 && chmod +w -R .; patch -p1 < ../Patches/u-boot-1.3.1_stm23_0043_tf7700.patch )
PREPARE_udpxy = ( rm -rf udpxy-1.0.23-0 || /bin/true ) && gunzip -cd $(archivedir)/udpxy.1.0.23-0-prod.tar.gz | TAPE=- tar -x && ( cd udpxy-1.0.23-0 && chmod +w -R .; patch -p1 < ../Patches/udpxy-1.0.23-0.patch )
PREPARE_utillinux = ( rm -rf util-linux-2.25.2 || /bin/true ) && gunzip -cd $(archivedir)/util-linux-2.25.2.tar.gz | TAPE=- tar -x
PREPARE_vsftpd = ( rm -rf vsftpd-3.0.3 || /bin/true ) && gunzip -cd $(archivedir)/vsftpd-3.0.3.tar.gz | TAPE=- tar -x && ( cd vsftpd-3.0.3 && chmod +w -R .; patch -p1 < ../Patches/vsftpd_3.0.3.patch )
PREPARE_webkitdfb = ( rm -rf webkitdfb_2010-11-18 || /bin/true ) && gunzip -cd $(archivedir)/webkitdfb_2010-11-18.tar.gz | TAPE=- tar -x && ( cd webkitdfb_2010-11-18 && chmod +w -R .; patch -p1 < ../Patches/webkitdfb.patch )
PREPARE_wget = ( rm -rf wget-1.15 || /bin/true ) && gunzip -cd $(archivedir)/wget-1.15.tar.gz | TAPE=- tar -x
PREPARE_wireless_tools = ( rm -rf wireless_tools.29 || /bin/true ) && gunzip -cd $(archivedir)/wireless_tools.29.tar.gz | TAPE=- tar -x && ( cd wireless_tools.29 && chmod +w -R .; patch -p1 < ../Patches/wireless-tools.patch )
PREPARE_wpa_supplicant = ( rm -rf wpa_supplicant-0.7.3 || /bin/true ) && gunzip -cd $(archivedir)/wpa_supplicant-0.7.3.tar.gz | TAPE=- tar -x
PREPARE_xfsprogs = ( rm -rf xfsprogs-3.1.8 || /bin/true ) && gunzip -cd $(archivedir)/xfsprogs-3.1.8.tar.gz | TAPE=- tar -x
PREPARE_xupnpd = ( rm -rf xupnpd-1.0 || /bin/true ) && (rm -rf xupnpd-1.0; cp -a $(archivedir)/xupnpd.git xupnpd-1.0) && ( cd xupnpd-1.0 && chmod +w -R .; patch -p1 < ../Patches/xupnpd.patch )
PREPARE_yajl = ( rm -rf yajl-2.0.1 || /bin/true ) && (rm -rf yajl-2.0.1; cp -a $(archivedir)/yajl.git yajl-2.0.1)
PREPARE_zd1211 = ( rm -rf ZD1211LnxDrv_2_15_0_0 || /bin/true ) && gunzip -cd $(archivedir)/zd1211lnxdrv_2_15_0_0.tar.gz | TAPE=- tar -x && ( cd ZD1211LnxDrv_2_15_0_0 && chmod +w -R .; patch -p1 < ../Patches/zd1211.patch )
PREPARE_zlib = ( rm -rf zlib-1.2.8 || /bin/true ) && gunzip -cd $(archivedir)/zlib-1.2.8.tar.gz | TAPE=- tar -x && ( cd zlib-1.2.8 && chmod +w -R .; patch -p1 < ../Patches/zlib-1.2.8.patch )
SAGEMCOM88 = 
SET_MAKE = 
SHELL = /bin/sh
SPARK = 
SPARK7162 = 
STRIP = 
TARGET_CFLAGS = -pipe -Os -I/home/marcinkk/GitHub/Duckbox-Developers/tufsbox/cdkroot/usr/include
TARGET_CXXFLAGS = -pipe -Os -I/home/marcinkk/GitHub/Duckbox-Developers/tufsbox/cdkroot/usr/include
TARGET_LDFLAGS =  -Wl,-rpath -Wl,/usr/lib -Wl,-rpath-link -Wl,/home/marcinkk/GitHub/Duckbox-Developers/tufsbox/cdkroot/usr/lib -L/home/marcinkk/GitHub/Duckbox-Developers/tufsbox/cdkroot/usr/lib -L/home/marcinkk/GitHub/Duckbox-Developers/tufsbox/cdkroot/lib
TF7700 = 
TUXBOX_CUSTOMIZE = [ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(buildprefix) || true
TUXBOX_TOUCH = @[ "x$*" = "x" ] && touch $@ || true
TUXBOX_YAUD_CUSTOMIZE = [ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true
TVHEADEND = 
UFC960 = 
UFS910 = 
UFS912 = 
UFS913 = 
UFS922 = 
VERSION = 0
VERSION_a52dec = 0.7.4
VERSION_alsautils = 1.0.29
VERSION_autofs = 4.1.4
VERSION_avahi = 0.6.31
VERSION_brofs = 1.2
VERSION_busybox = 1.24.1
VERSION_bzip2 = 1.0.6
VERSION_cairo = 1.8.10
VERSION_ccache = 3.1.9
VERSION_console_data = 1.03
VERSION_cramfs = 1.1
VERSION_curlftpfs = 0.9.2
VERSION_dbus = 1.8
VERSION_dfbpp = 1.0.0
VERSION_directfb = 1.4.11
VERSION_djmount = 0.71
VERSION_dosfstools = 3.0.16
VERSION_e2fsprogs = 1.42.13
VERSION_enchant = 1.5.0
VERSION_enigma2_networkbrowser = 1.0
VERSION_enigma2_openwebif = 1.0
VERSION_enigma2_plugins_all = 1.0
VERSION_enigma2_webinterface = 1.0
VERSION_ethtool = 6
VERSION_evebrowser = 0.0.1
VERSION_fdisk = 1.3.0a
VERSION_ffmpeg = 2.6.3
VERSION_fontconfig = 2.8.0
VERSION_fuse = 2.9.2
VERSION_glib2 = 2.45.4
VERSION_glibnetworking = 2.45.1
VERSION_gmp = 6.0.0a
VERSION_gnutls = 3.4.3
VERSION_graphlcd = base-touchcol
VERSION_grep = 2.5.1
VERSION_gst_gmediarender = 0.0.6
VERSION_gst_libav = 1.6.1
VERSION_gst_plugin_subsink = 1.0
VERSION_gst_plugins_bad = 1.6.1
VERSION_gst_plugins_base = 1.6.1
VERSION_gst_plugins_dvbmediasink = 1.0
VERSION_gst_plugins_fluendo_mpegdemux = 0.10.71
VERSION_gst_plugins_good = 1.6.1
VERSION_gst_plugins_ugly = 1.6.1
VERSION_gstreamer = 1.6.1
VERSION_hddtemp = 0.3-beta15
VERSION_hdparm = 9.43
VERSION_host_glib2_genmarshal = 2.45.4
VERSION_host_libffi = 3.2.1
VERSION_host_module_init_tools = 3.16
VERSION_host_mtd_utils = 1.5.1
VERSION_host_pkgconfig = 0.28
VERSION_host_python = 2.7.9
VERSION_host_u_boot_tools = 1.3.1
VERSION_hotplug_e2 = 1.0
VERSION_howl = 1.0.0
VERSION_icu4c = 4_4_1
VERSION_imagemagick = 6.7.7-7
VERSION_ipkg = 0.99.163
VERSION_jasper = 1.900.1
VERSION_jfsutils = 1.1.15
VERSION_lcd4_linux = 1.0
VERSION_lcms = 1.17
VERSION_libalsa = 1.0.29
VERSION_libao = 1.1.0
VERSION_libass = 0.11.1
VERSION_libbluray = 0.5.0
VERSION_libboost = boost-1.53.0
VERSION_libcap = 2.22
VERSION_libcdio = 0.83
VERSION_libcurl = 7.44.0
VERSION_libdaemon = 0.14
VERSION_libdca = 0.0.5
VERSION_libdpfax = ax
VERSION_libdreamdvd = 1.0
VERSION_libdvbsipp = 0.3.7
VERSION_libdvdcss = 1.2.13
VERSION_libdvdnav = 4.2.1
VERSION_libdvdread = 4.9.9
VERSION_libevent = 2.0.20-stable
VERSION_libexif = 0.6.20
VERSION_libexpat = 2.1.0
VERSION_libfdk_aac = 1.0
VERSION_libffi = 3.2.1
VERSION_libflac = 1.3.1
VERSION_libfreetype = 2.6
VERSION_libfribidi = 0.19.7
VERSION_libgd2 = 2.1.0
VERSION_libgif = 5.0.6
VERSION_libgif_e2 = 4.1.6
VERSION_libiconv = 1.14
VERSION_libid3tag = 0.15.1b
VERSION_libjpeg = 8d
VERSION_libjpeg_turbo = 1.4.0
VERSION_libmad = 0.15.1b
VERSION_libmicrohttpd = 0.9.19
VERSION_libmng = 1.0.10
VERSION_libmodplug = 0.8.8.4
VERSION_libmpeg2 = 0.5.1
VERSION_libncurses = 5.9
VERSION_libnfs = c0ebf57b21
VERSION_libnfsidmap = 0.25
VERSION_libnl = 2.0
VERSION_libogg = 1.3.2
VERSION_libopenthreads = 1.00
VERSION_libpcre = 8.30
VERSION_libplist = 1.10
VERSION_libpng = 1.6.18
VERSION_libpng12 = 1.2.50
VERSION_libreadline = 6.2
VERSION_librtmpdump = 2.4
VERSION_libsamplerate = 0.1.8
VERSION_libsigc = 2.3.2
VERSION_libsigc_e2 = 1.2.7
VERSION_libsoup = 2.50.0
VERSION_libstgles = 1.0
VERSION_libtiff = 4.0.3
VERSION_libungif = 4.1.4
VERSION_libupnp = 1.6.17
VERSION_libusb = 1.0.9
VERSION_libusbcompat = 0.1.5
VERSION_libvorbis = 1.3.4
VERSION_libvorbisidec = 1.0.2+svn18153
VERSION_libxml2 = 2.8.0
VERSION_libxml2_e2 = 2.9.0
VERSION_libxmlccwrap = 0.0.12
VERSION_libxslt = 1.1.28
VERSION_lighttpd = 1.4.15
VERSION_linuxp0209 = 
VERSION_linuxp0211 = 
VERSION_linuxp0214 = 
VERSION_linuxp0215 = 
VERSION_linuxp0217 = 2.6.32.61_stm24_0217
VERSION_lirc = 0.9.0
VERSION_lite = 0.9.0
VERSION_lm_sensors = 2.9.2
VERSION_lsb = 3.2-20
VERSION_lua = 5.2.3
VERSION_luacurl = v3
VERSION_luaexpat = 1.3.0
VERSION_lzo = 2.06
VERSION_mc = 4.8.1.7
VERSION_mencoder = 1.0
VERSION_minidlna = 1.1.5
VERSION_module_init_tools = 3.16
VERSION_mplayer = 1.0
VERSION_mtd_utils = 1.5.0
VERSION_mysql = 5.1.40
VERSION_nano = 2.4.2
VERSION_netio = 1.26
VERSION_nettle = 3.1
VERSION_nfs_utils = 1.3.2
VERSION_ntp = 4.2.8
VERSION_openrdate = 1.1.2
VERSION_openssh = 7.1p1
VERSION_openssl = 0.9.8zf
VERSION_openssl_e2 = 1.0.2d
VERSION_openvpn = 2.3.8
VERSION_opkg = 0.2.0
VERSION_orc = 0.4.24
VERSION_parted = 3.0
VERSION_pixman = 0.18.0
VERSION_pngquant = 1.1
VERSION_portmap = 6.0.0
VERSION_pugixml = 1.6
VERSION_python = 2.7.9
VERSION_python_cffi = 1.2.1
VERSION_python_cheetah = 2.4.4
VERSION_python_cryptography = 0.8.1
VERSION_python_elementtree = 1.2.6-20050316
VERSION_python_enum34 = 1.0.4
VERSION_python_futures = 2.1.6
VERSION_python_gdata = 2.0.18
VERSION_python_imaging = 1.1.7
VERSION_python_livestreamer = 1.0
VERSION_python_livestreamersrv = 1.0
VERSION_python_lxml = 2.2.8
VERSION_python_mechanize = 0.2.5
VERSION_python_pyasn1 = 0.1.8
VERSION_python_pyasn1_modules = 0.0.7
VERSION_python_pycparser = 2.14
VERSION_python_pycrypto = 2.5
VERSION_python_pyopenssl = 0.13.1
VERSION_python_pyusb = 1.0.0a3
VERSION_python_requests = 2.7.0
VERSION_python_setuptools = 5.2
VERSION_python_singledispatch = 3.4.0.3
VERSION_python_six = 1.9.0
VERSION_python_twisted = 13.2.0
VERSION_python_wifi = 0.5.0
VERSION_python_zope_interface = 4.1.1
VERSION_rarfs = 0.1.0
VERSION_rsync = 2.6.9
VERSION_samba = 3.6.12
VERSION_sdparm = 1.07
VERSION_shairport = 1.0
VERSION_sqlite = 3.8.6
VERSION_squashfs = 3.0
VERSION_sshfs = 2.4
VERSION_sysstat = 11.1.2
VERSION_sysvinit = 2.88
VERSION_taglib = 1.8
VERSION_tinyxml = 2.6.2
VERSION_tuxtxt32bpp = 1.0
VERSION_tuxtxtlib = 1.0
VERSION_uboot_tf7700 = 1.3.1
VERSION_udpxy = 1.0.23-0
VERSION_utillinux = 2.25.2
VERSION_vsftpd = 3.0.3
VERSION_webkitdfb = 2010-11-18
VERSION_wget = 1.15
VERSION_wireless_tools = 29
VERSION_wpa_supplicant = 0.7.3
VERSION_xfsprogs = 3.1.8
VERSION_xupnpd = 1.0
VERSION_yajl = 2.0.1
VERSION_zd1211 = 2_15_0_0
VERSION_zlib = 1.2.8
VIP1_V2 = 
VIP2_V1 = 
VITAMIN_HD5000 = 
WLANDRIVER = wlandriver
YACC = bison -y
YFLAGS = 
abs_builddir = /home/marcinkk/GitHub/Duckbox-Developers/cdk
abs_srcdir = /home/marcinkk/GitHub/Duckbox-Developers/cdk
abs_top_builddir = /home/marcinkk/GitHub/Duckbox-Developers/cdk
abs_top_srcdir = /home/marcinkk/GitHub/Duckbox-Developers/cdk
ac_ct_CC = gcc
ac_ct_CXX = g++
am__include = include
am__leading_dot = .
am__quote = 
am__tar = $${TAR-tar} chof - "$$tardir"
am__untar = $${TAR-tar} xf -
appsdir = /home/marcinkk/GitHub/Duckbox-Developers/apps
archivedir = /root/Archive
bindir = ${exec_prefix}/bin
bootprefix = /home/marcinkk/GitHub/Duckbox-Developers/tufsbox/cdkroot-tftpboot
build = i686-pc-linux-gnu
build_alias = i686-pc-linux-gnu
build_cpu = i686
build_os = linux-gnu
build_vendor = pc
builddir = .
buildprefix = /home/marcinkk/GitHub/Duckbox-Developers/cdk
buildtmp = /home/marcinkk/GitHub/Duckbox-Developers/build_tmp
ccachedir = /usr/bin
crossprefix = /home/marcinkk/GitHub/Duckbox-Developers/tufsbox/cross
customizationsdir = /home/marcinkk/GitHub/Duckbox-Developers/cdk/custom
cvsdir = /home/marcinkk/GitHub/Duckbox-Developers
datadir = ${datarootdir}
datarootdir = ${prefix}/share
defaultserver = 
docdir = ${datarootdir}/doc/${PACKAGE_TARNAME}
driverdir = /home/marcinkk/GitHub/Duckbox-Developers/driver
dvidir = ${docdir}
exec_prefix = ${prefix}
flashscriptdir = /home/marcinkk/GitHub/Duckbox-Developers/flash
gnuserver = ftp.gwdg.de/pub/misc/gnu/ftp/gnu
host = i686-pc-linux-gnu
host_alias = i686-pc-linux-gnu
host_cpu = i686
host_os = linux-gnu
host_vendor = pc
hostprefix = /home/marcinkk/GitHub/Duckbox-Developers/tufsbox/host
htmldir = ${docdir}
includedir = ${prefix}/include
infodir = ${datarootdir}/info
install_sh = ${SHELL} /home/marcinkk/GitHub/Duckbox-Developers/cdk/install-sh
kernelprefix = /home/marcinkk/GitHub/Duckbox-Developers/cdk
libdir = ${exec_prefix}/lib
libexecdir = ${exec_prefix}/libexec
localedir = ${datarootdir}/locale
localstatedir = ${prefix}/var
mandir = ${datarootdir}/man
maxcachefiles = -1
maxcachesize = 3
mkdir_p = $(MKDIR_P)
oldincludedir = /usr/include
pdfdir = ${docdir}
prefix = /home/marcinkk/GitHub/Duckbox-Developers/tufsbox
program_transform_name = s&^&sh4-linux-&
psdir = ${docdir}
sbindir = ${exec_prefix}/sbin
serversupport = /home/marcinkk/GitHub/Duckbox-Developers/tufsbox/serversupport
sharedstatedir = ${prefix}/com
sourcedir = /home/marcinkk/GitHub/Duckbox-Developers/source
srcdir = .
sysconfdir = ${prefix}/etc
target = sh4-linux
target_alias = sh4-linux
target_cpu = sh4
target_os = linux-gnu
target_vendor = unknown
targetprefix = /home/marcinkk/GitHub/Duckbox-Developers/tufsbox/cdkroot
top_build_prefix = 
top_builddir = .
top_srcdir = .
updatehttpprefix = 

#
# Python Version
#
PYTHON_VERSION = $(word 1,$(subst ., ,$(VERSION_python))).$(word 2,$(subst ., ,$(VERSION_python)))
PYTHON_DIR = /usr/lib/python$(PYTHON_VERSION)
PYTHON_INCLUDE_DIR = /usr/include/python$(PYTHON_VERSION)

#
# python helpers
#
PYTHON_BUILD = \
	CC="$(target)-gcc" \
	CFLAGS="$(TARGET_CFLAGS)" \
	LDFLAGS="$(TARGET_LDFLAGS)" \
	LDSHARED="$(target)-gcc -shared" \
	PYTHONPATH=$(targetprefix)$(PYTHON_DIR)/site-packages \
	CPPFLAGS="$(CPPFLAGS) -I$(targetprefix)/usr/include/python$(PYTHON_VERSION)" \
	$(hostprefix)/bin/python ./setup.py build --executable=/usr/bin/python

PYTHON_INSTALL = \
	CC="$(target)-gcc" \
	CFLAGS="$(TARGET_CFLAGS)" \
	LDFLAGS="$(TARGET_LDFLAGS)" \
	LDSHARED="$(target)-gcc -shared" \
	PYTHONPATH=$(targetprefix)$(PYTHON_DIR)/site-packages \
	CPPFLAGS="$(CPPFLAGS) -I$(targetprefix)/usr/include/python$(PYTHON_VERSION)" \
	$(hostprefix)/bin/python ./setup.py install --root=$(targetprefix) --prefix=/usr


#
#
#
PATH := $(hostprefix)/bin:$(crossprefix)/bin:$(PATH):/sbin:/usr/sbin:/usr/local/sbin

#PKG_CONFIG = $(hostprefix)/bin/$(target)-pkg-config
#PKG_CONFIG_LIBDIR = $(targetprefix)/usr/lib
#PKG_CONFIG_PATH = $(PKG_CONFIG_LIBDIR)/pkgconfig
PATCHES = $(buildprefix)/Patches
INSTALL_DIR = $(INSTALL) -d
INSTALL_BIN = $(INSTALL) -m 755
INSTALL_FILE = $(INSTALL) -m 644
LN_SF = $(shell which ln) -sf
CP_D = $(shell which cp) -d
CP_P = $(shell which cp) -p
CP_RD = $(shell which cp) -rd
SED = $(shell which sed)
ADAPTED_ETC_FILES = 
ETC_RW_FILES = host.conf init.d/nscd ld.so.cache ld.so.conf \
	nsswitch.conf rpc passwd passwd.org group group.org shadow \
	hostname vdstandby.cfg init.d/autofs init.d/bootclean.sh \
	init.d/checkroot.sh init.d/getfb.awk init.d/hostname \
	init.d/makedev init.d/mountvirtfs init.d/mountall \
	init.d/network init.d/networking init.d/rc init.d/reboot \
	init.d/rmnologin init.d/sendsigs init.d/udhcpc init.d/umountfs \
	init.d/vsftpd init.d/rdate.sh localtime modules \
	init.d/module-init-tools auto.master auto.ufs910 timezone.xml \
	init.d/autofs auto.misc hosts.allow hosts.deny init.d/portmap \
	exports init.d/nfs-common init.d/nfs-kernel-server \
	samba/smb.conf init.d/samba mke2fs.conf init.d/swap
SOCKSIFY = 
WGET = $(SOCKSIFY) wget --progress=bar

#
#
#
BUILDENV := \
	unset CONFIG_SITE && \
	CC=$(target)-gcc \
	CXX=$(target)-g++ \
	LD=$(target)-ld \
	NM=$(target)-nm \
	AR=$(target)-ar \
	AS=$(target)-as \
	RANLIB=$(target)-ranlib \
	STRIP=$(target)-strip \
	OBJCOPY=$(target)-objcopy \
	OBJDUMP=$(target)-objdump \
	LN_S="ln -s" \
	CFLAGS="$(TARGET_CFLAGS)" \
	CPPFLAGS="$(TARGET_CFLAGS)" \
	CXXFLAGS="$(TARGET_CFLAGS)" \
	LDFLAGS="$(TARGET_LDFLAGS)" \
	PKG_CONFIG_PATH="$(targetprefix)/usr/lib/pkgconfig"

CONFIGURE_OPTS = \
	--build=$(build) --host=$(target)

CONFIGURE = \
	test -f ./configure || ./autogen.sh && \
	$(BUILDENV) \
	./configure $(CONFIGURE_OPTS)

MAKE_OPTS := \
	CC=$(target)-gcc \
	CXX=$(target)-g++ \
	LD=$(target)-ld \
	NM=$(target)-nm \
	AR=$(target)-ar \
	AS=$(target)-as \
	RANLIB=$(target)-ranlib \
	STRIP=$(target)-strip \
	OBJCOPY=$(target)-objcopy \
	OBJDUMP=$(target)-objdump \
	LN_S="ln -s" \
	ARCH=sh \
	CROSS_COMPILE=$(target)-

PLATFORM_CPPFLAGS := \
	$(if $(UFS910),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_UFS910 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(UFS912),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_UFS912 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(UFS913),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_UFS913 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(UFS922),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_UFS922 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(UFC960),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_UFC960 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(FORTIS_HDBOX),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_FORTIS_HDBOX -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(ATEVIO7500),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_ATEVIO7500 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(OCTAGON1008),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_OCTAGON1008 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(HS7110),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_HS7110 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(HS7810A),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_HS7810A -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(HS7119),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_HS7119 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(HS7819),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_HS7819 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(ATEMIO520),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_ATEMIO520 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(ATEMIO530),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_ATEMIO530 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(TF7700),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_TF7700 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-tf7700) \
	$(if $(HL101),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_HL101 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-hl101) \
	$(if $(VIP1_V2),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_VIP1_V2 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-vip1_v2) \
	$(if $(VIP2_V1),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_VIP2_V1 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-vip2_v1) \
	$(if $(SPARK),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_SPARK -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(SPARK7162),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_SPARK7162 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(ADB_BOX),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_ADB_BOX -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-adb_box) \
	$(if $(CUBEREVO),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_CUBEREVO -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-cuberevo) \
	$(if $(CUBEREVO_MINI),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_CUBEREVO_MINI -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-cuberevo) \
	$(if $(CUBEREVO_MINI2),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_CUBEREVO_MINI2 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-cuberevo) \
	$(if $(CUBEREVO_MINI_FTA),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_CUBEREVO_MINI_FTA -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-cuberevo) \
	$(if $(CUBEREVO_250HD),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_CUBEREVO_250HD -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-cuberevo) \
	$(if $(CUBEREVO_2000HD),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_CUBEREVO_2000HD -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-cuberevo) \
	$(if $(CUBEREVO_9500HD),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_CUBEREVO_9500HD -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-cuberevo) \
	$(if $(IPBOX9900),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_IPBOX9900 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(IPBOX99),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_IPBOX99 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(IPBOX55),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_IPBOX55 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(VITAMIN_HD5000),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_VITAMIN_HD5000 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(SAGEMCOM88),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_SAGEMCOM88 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(ARIVALINK200),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_ARIVALINK200 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(FORTIS_DP7000),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_FORTIS_DP7000 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include") \
	$(if $(ADB5800),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_ADB5800 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-adb5800) \
	$(if $(ADB2850),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_ADB2850 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-adb2850) \
	$(if $(DSI87),CPPFLAGS="$(CPPFLAGS) -DPLATFORM_DSI87 -I$(driverdir)/include -I $(buildprefix)/$(KERNEL_DIR)/include" --enable-dsi87)

DRIVER_PLATFORM := \
	$(if $(UFS910),UFS910=$(UFS910)) \
	$(if $(UFS912),UFS912=$(UFS912)) \
	$(if $(UFS913),UFS913=$(UFS913)) \
	$(if $(UFS922),UFS922=$(UFS922)) \
	$(if $(UFC960),UFC960=$(UFC960)) \
	$(if $(FORTIS_HDBOX),FORTIS_HDBOX=$(FORTIS_HDBOX)) \
	$(if $(ATEVIO7500),ATEVIO7500=$(ATEVIO7500)) \
	$(if $(OCTAGON1008),OCTAGON1008=$(OCTAGON1008)) \
	$(if $(HS7110),HS7110=$(HS7110)) \
	$(if $(HS7810A),HS7810A=$(HS7810A)) \
	$(if $(HS7119),HS7119=$(HS7119)) \
	$(if $(HS7819),HS7819=$(HS7819)) \
	$(if $(ATEMIO520),ATEMIO520=$(ATEMIO520)) \
	$(if $(ATEMIO530),ATEMIO530=$(ATEMIO530)) \
	$(if $(TF7700),TF7700=$(TF7700)) \
	$(if $(HL101),HL101=$(HL101)) \
	$(if $(VIP1_V2),VIP1_V2=$(VIP1_V2)) \
	$(if $(VIP2_V1),VIP2_V1=$(VIP2_V1)) \
	$(if $(SPARK),SPARK=$(SPARK)) \
	$(if $(SPARK7162),SPARK7162=$(SPARK7162)) \
	$(if $(ADB_BOX),ADB_BOX=$(ADB_BOX)) \
	$(if $(CUBEREVO),CUBEREVO=$(CUBEREVO)) \
	$(if $(CUBEREVO_MINI),CUBEREVO_MINI=$(CUBEREVO_MINI)) \
	$(if $(CUBEREVO_MINI2),CUBEREVO_MINI2=$(CUBEREVO_MINI2)) \
	$(if $(CUBEREVO_MINI_FTA),CUBEREVO_MINI_FTA=$(CUBEREVO_MINI_FTA)) \
	$(if $(CUBEREVO_250HD),CUBEREVO_250HD=$(CUBEREVO_250HD)) \
	$(if $(CUBEREVO_2000HD),CUBEREVO_2000HD=$(CUBEREVO_2000HD)) \
	$(if $(CUBEREVO_9500HD),CUBEREVO_9500HD=$(CUBEREVO_9500HD)) \
	$(if $(HOMECAST5101),HOMECAST5101=$(HOMECAST5101)) \
	$(if $(IPBOX9900),IPBOX9900=$(IPBOX9900)) \
	$(if $(IPBOX99),IPBOX99=$(IPBOX99)) \
	$(if $(IPBOX55),IPBOX55=$(IPBOX55)) \
	$(if $(VITAMIN_HD5000),VITAMIN_HD5000=$(VITAMIN_HD5000)) \
	$(if $(SAGEMCOM88),SAGEMCOM88=$(SAGEMCOM88)) \
	$(if $(ARIVALINK200),ARIVALINK200=$(ARIVALINK200)) \
	$(if $(FORTIS_DP7000),FORTIS_DP7000=$(FORTIS_DP7000)) \
	$(if $(ADB5800),ADB5800=$(ADB5800)) \
	$(if $(ADB2850),ADB2850=$(ADB2850)) \
	$(if $(DSI87),DSI87=$(DSI87)) \
	$(if $(WLANDRIVER),WLANDRIVER=$(WLANDRIVER)) \
	$(if $(PLAYER191),PLAYER191=$(PLAYER191))

D = .deps
ACLOCAL_AMFLAGS = -I .
CONFIG_STATUS_DEPENDENCIES = \
	$(top_srcdir)/rules.pl \
	$(top_srcdir)/rules-install \
	$(top_srcdir)/rules-make \
	Makefile-archive


#
# IMPORTANT: it is expected that only one define is set
#
MODNAME = $(UFS910)$(UFS912)$(UFS913)$(UFS922)$(UFC960)$(TF7700)$(HL101)$(VIP1_V2)$(VIP2_V1)$(CUBEREVO)$(CUBEREVO_MINI)$(CUBEREVO_MINI2)$(CUBEREVO_MINI_FTA)$(CUBEREVO_250HD)$(CUBEREVO_2000HD)$(CUBEREVO_9500HD)$(FORTIS_HDBOX)$(ATEVIO7500)$(OCTAGON1008)$(HS7110)$(HS7810A)$(HS7119)$(HS7819)$(ATEMIO530)$(ATEMIO520)$(HOMECAST5101)$(IPBOX9900)$(IPBOX99)$(IPBOX55)$(ADB_BOX)$(SPARK)$(SPARK7162)$(VITAMIN_HD5000)$(SAGEMCOM88)$(ARIVALINK200)$(FORTIS_DP7000)$(ADB5800)$(ADB2850)$(DSI87)
DEPMOD = $(hostprefix)/bin/depmod

#
# Patches Kernel 24
#
COMMONPATCHES_24 = \
		linux-kbuild-generate-modules-builtin_stm24$(PATCH_STR).patch \
		linux-sh4-linuxdvb_stm24$(PATCH_STR).patch \
		$(if $(P0209),linux-sh4-makefile_stm24.patch) \
		linux-sh4-sound_stm24$(PATCH_STR).patch \
		linux-sh4-time_stm24$(PATCH_STR).patch \
		linux-sh4-init_mm_stm24$(PATCH_STR).patch \
		linux-sh4-copro_stm24$(PATCH_STR).patch \
		linux-sh4-strcpy_stm24$(PATCH_STR).patch \
		linux-sh4-ext23_as_ext4_stm24$(PATCH_STR).patch \
		linux-sh4-bpa2_procfs_stm24$(PATCH_STR).patch \
		linux-ftdi_sio.c_stm24$(PATCH_STR).patch \
		linux-sh4-lzma-fix_stm24$(PATCH_STR).patch \
		linux-tune_stm24.patch \
		linux-sh4-permit_gcc_command_line_sections_stm24.patch \
		linux-sh4-mmap_stm24.patch \
		$(if $(P0217),linux-defined_is_deprecated_timeconst.pl_stm24$(PATCH_STR).patch) \
		$(if $(P0217),linux-perf-warning-fix_stm24$(PATCH_STR).patch) \
		$(if $(P0215)$(P0217),linux-ratelimit-bug_stm24$(PATCH_STR).patch) \
		$(if $(P0215)$(P0217),linux-patch_swap_notify_core_support_stm24$(PATCH_STR).patch) \
		$(if $(P0209),linux-sh4-dwmac_stm24_0209.patch) \
		$(if $(P0209),linux-sh4-directfb_stm24$(PATCH_STR).patch) \
		$(if $(P0211)$(P0214)$(P0215)$(P0217),linux-sh4-console_missing_argument_stm24$(PATCH_STR).patch)


#		$(if $(P0209)$(P0211),linux-sh4-remove_pcm_reader_stm24.patch)
TF7700_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-tf7700_setup_stm24$(PATCH_STR).patch \
		linux-usbwait123_stm24.patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		$(if $(P0209),linux-sh4-sata-v06_stm24$(PATCH_STR).patch)

UFS910_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-stx7100_fdma_fix_stm24$(PATCH_STR).patch \
		linux-sh4-sata_32bit_fix_stm24$(PATCH_STR).patch \
		linux-sh4-sata_stx7100_B4Team_fix_stm24$(PATCH_STR).patch \
		linux-sh4-ufs910_setup_stm24$(PATCH_STR).patch \
		linux-usbwait123_stm24.patch \
		linux-sh4-ufs910_reboot_stm24$(PATCH_STR).patch \
		linux-sh4-smsc911x_dma_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-pcm_noise_fix_stm24$(PATCH_STR).patch

UFS912_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-ufs912_setup_stm24$(PATCH_STR).patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-lmb_stm24$(PATCH_STR).patch

UFS913_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-ufs913_setup_stm24$(PATCH_STR).patch \
		linux-sh4-lmb_stm24$(PATCH_STR).patch

OCTAGON1008_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-octagon1008_setup_stm24$(PATCH_STR).patch \
		linux-usbwait123_stm24.patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch

ATEVIO7500_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-lmb_stm24$(PATCH_STR).patch \
		linux-sh4-atevio7500_setup_stm24$(PATCH_STR).patch \
		$(if $(ENIGMA2),linux-sh4-atevio7500_mtdconcat_stm24$(PATCH_STR).patch) \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch

HS7110_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-lmb_stm24$(PATCH_STR).patch \
		linux-sh4-hs7110_setup_stm24$(PATCH_STR).patch \
		$(if $(NEUTRINO),linux-sh4-hs7110_mtdconcat_stm24$(PATCH_STR).patch) \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		$(if $(P0209)$(P0211),linux-sh4-i2c-stm-downgrade_stm24$(PATCH_STR).patch)

HS7810A_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-lmb_stm24$(PATCH_STR).patch \
		linux-sh4-hs7810a_setup_stm24$(PATCH_STR).patch \
		$(if $(NEUTRINO),linux-sh4-hs7810a_mtdconcat_stm24$(PATCH_STR).patch) \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		$(if $(P0209)$(P0211),linux-sh4-i2c-stm-downgrade_stm24$(PATCH_STR).patch)

HS7119_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-lmb_stm24$(PATCH_STR).patch \
		linux-sh4-hs7119_setup_stm24$(PATCH_STR).patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		$(if $(P0209)$(P0211),linux-sh4-i2c-stm-downgrade_stm24$(PATCH_STR).patch)

HS7819_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-lmb_stm24$(PATCH_STR).patch \
		linux-sh4-hs7819_setup_stm24$(PATCH_STR).patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		$(if $(P0209)$(P0211),linux-sh4-i2c-stm-downgrade_stm24$(PATCH_STR).patch)

ATEMIO520_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-lmb_stm24$(PATCH_STR).patch \
		linux-sh4-atemio520_setup_stm24$(PATCH_STR).patch \
		$(if $(P0209)$(P0211),linux-sh4-i2c-stm-downgrade_stm24$(PATCH_STR).patch) \
		linux-squashfs-downgrade-stm24$(PATCH_STR)-to-stm23.patch \
		linux-squashfs3.0_lzma_stm23.patch \
		linux-squashfs-downgrade-stm24-patch-2.6.25 \
		linux-squashfs-downgrade-stm24-rm_d_alloc_anon.patch

ATEMIO530_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-lmb_stm24$(PATCH_STR).patch \
		linux-sh4-atemio530_setup_stm24$(PATCH_STR).patch \
		$(if $(P0209)$(P0211),linux-sh4-i2c-stm-downgrade_stm24$(PATCH_STR).patch) \
		linux-squashfs-downgrade-stm24$(PATCH_STR)-to-stm23.patch \
		linux-squashfs3.0_lzma_stm23.patch \
		linux-squashfs-downgrade-stm24-patch-2.6.25 \
		linux-squashfs-downgrade-stm24-rm_d_alloc_anon.patch

UFS922_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-ufs922_setup_stm24$(PATCH_STR).patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-fortis_hdbox_i2c_st40_stm24$(PATCH_STR).patch

UFC960_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-ufs922_setup_stm24$(PATCH_STR).patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-fortis_hdbox_i2c_st40_stm24$(PATCH_STR).patch

HL101_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-hl101_setup_stm24$(PATCH_STR).patch \
		linux-usbwait123_stm24.patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch

VIP2_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-vip2_setup_stm24$(PATCH_STR).patch \
		linux-usbwait123_stm24.patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch

SPARK_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-lmb_stm24$(PATCH_STR).patch \
		linux-sh4-spark_setup_stm24$(PATCH_STR).patch \
		$(if $(P0209),linux-sh4-linux_yaffs2_stm24_0209.patch) \
		$(if $(P0209),linux-sh4-lirc_stm.patch) \
		$(if $(P0211)$(P0214)$(P0215)$(P0217),linux-sh4-lirc_stm_stm24$(PATCH_STR).patch)

SPARK7162_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-lmb_stm24$(PATCH_STR).patch \
		linux-sh4-spark7162_setup_stm24$(PATCH_STR).patch

FORTIS_HDBOX_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-fortis_hdbox_setup_stm24$(PATCH_STR).patch \
		linux-usbwait123_stm24.patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		$(if $(P0209),linux-sh4-fortis_hdbox_i2c_st40_stm24$(PATCH_STR).patch)

ADB_BOX_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-stx7100_fdma_fix_stm24$(PATCH_STR).patch \
		linux-sh4-sata_32bit_fix_stm24$(PATCH_STR).patch \
		linux-sh4-adb_box_setup_stm24$(PATCH_STR).patch \
		linux-usbwait123_stm24.patch \
		linux-sh4-ufs910_reboot_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-pcm_noise_fix_stm24$(PATCH_STR).patch

IPBOX9900_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-ipbox9900_setup_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-ipbox_bdinfo_stm24$(PATCH_STR).patch \
		linux-sh4-ipbox_dvb_ca_stm24$(PATCH_STR).patch

IPBOX99_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-ipbox99_setup_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-ipbox_bdinfo_stm24$(PATCH_STR).patch

IPBOX55_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-ipbox55_setup_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-ipbox_bdinfo_stm24$(PATCH_STR).patch

CUBEREVO_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-cuberevo_setup_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-cuberevo_rtl8201_stm24$(PATCH_STR).patch

CUBEREVO_MINI_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-cuberevo_mini_setup_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-cuberevo_rtl8201_stm24$(PATCH_STR).patch

CUBEREVO_MINI2_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-cuberevo_mini2_setup_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-cuberevo_rtl8201_stm24$(PATCH_STR).patch

CUBEREVO_MINI_FTA_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-cuberevo_setup_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-cuberevo_rtl8201_stm24$(PATCH_STR).patch

CUBEREVO_250HD_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-cuberevo_250hd_setup_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-cuberevo_rtl8201_stm24$(PATCH_STR).patch \
		$(if $(P0215)$(P0217),linux-sh4-cuberevo_250hd_sound_stm24$(PATCH_STR).patch)

CUBEREVO_2000HD_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-cuberevo_2000hd_setup_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-cuberevo_rtl8201_stm24$(PATCH_STR).patch

CUBEREVO_9500HD_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-cuberevo_9500hd_setup_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-cuberevo_rtl8201_stm24$(PATCH_STR).patch

VITAMIN_HD5000_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-vitamin_hd5000_setup_stm24$(PATCH_STR).patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-lmb_stm24$(PATCH_STR).patch

SAGEMCOM88_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-sagemcom88_setup_stm24$(PATCH_STR).patch \
		linux-sh4-stmmac_stm24$(PATCH_STR).patch \
		linux-sh4-lmb_stm24$(PATCH_STR).patch \
		linux-sh4-sagemcom88_sound_stm24$(PATCH_STR).patch

ARIVALINK200_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-arivalink200_setup_stm24$(PATCH_STR).patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-ipbox_bdinfo_stm24$(PATCH_STR).patch \
		linux-sh4-ipbox_dvb_ca_stm24$(PATCH_STR).patch

FORTIS_DP7000_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-fortis_dp7000_setup_stm24$(PATCH_STR).patch

ADB5800_PATCHES_24 = $(COMMONPATCHES_24) \
		linux-sh4-mini_fo_stm24$(PATCH_STR).patch \
		linux-squashfs-lzma_stm24$(PATCH_STR).patch \
		linux-usbwait123_stm24.patch \
		linux-sh4-i2c-st40-pio_stm24$(PATCH_STR).patch \
		linux-sh4-pcm_noise_fix_stm24$(PATCH_STR).patch \
		linux-sh4-adb5800_setup_stm24$(PATCH_STR).patch

KERNELPATCHES_24 = \
		$(if $(UFS910),$(UFS910_PATCHES_24)) \
		$(if $(UFS912),$(UFS912_PATCHES_24)) \
		$(if $(UFS913),$(UFS913_PATCHES_24)) \
		$(if $(UFS922),$(UFS922_PATCHES_24)) \
		$(if $(UFC960),$(UFC960_PATCHES_24)) \
		$(if $(TF7700),$(TF7700_PATCHES_24)) \
		$(if $(HL101),$(HL101_PATCHES_24)) \
		$(if $(VIP1_V2),$(VIP2_PATCHES_24)) \
		$(if $(VIP2_V1),$(VIP2_PATCHES_24)) \
		$(if $(SPARK),$(SPARK_PATCHES_24)) \
		$(if $(SPARK7162),$(SPARK7162_PATCHES_24)) \
		$(if $(FORTIS_HDBOX),$(FORTIS_HDBOX_PATCHES_24)) \
		$(if $(HS7110),$(HS7110_PATCHES_24)) \
		$(if $(HS7810A),$(HS7810A_PATCHES_24)) \
		$(if $(HS7119),$(HS7119_PATCHES_24)) \
		$(if $(HS7819),$(HS7819_PATCHES_24)) \
		$(if $(ATEMIO520),$(ATEMIO520_PATCHES_24)) \
		$(if $(ATEMIO530),$(ATEMIO530_PATCHES_24)) \
		$(if $(ATEVIO7500),$(ATEVIO7500_PATCHES_24)) \
		$(if $(OCTAGON1008),$(OCTAGON1008_PATCHES_24)) \
		$(if $(ADB_BOX),$(ADB_BOX_PATCHES_24)) \
		$(if $(IPBOX9900),$(IPBOX9900_PATCHES_24)) \
		$(if $(IPBOX99),$(IPBOX99_PATCHES_24)) \
		$(if $(IPBOX55),$(IPBOX55_PATCHES_24)) \
		$(if $(CUBEREVO),$(CUBEREVO_PATCHES_24)) \
		$(if $(CUBEREVO_MINI),$(CUBEREVO_MINI_PATCHES_24)) \
		$(if $(CUBEREVO_MINI2),$(CUBEREVO_MINI2_PATCHES_24)) \
		$(if $(CUBEREVO_MINI_FTA),$(CUBEREVO_MINI_FTA_PATCHES_24)) \
		$(if $(CUBEREVO_250HD),$(CUBEREVO_250HD_PATCHES_24)) \
		$(if $(CUBEREVO_2000HD),$(CUBEREVO_2000HD_PATCHES_24)) \
		$(if $(CUBEREVO_9500HD),$(CUBEREVO_9500HD_PATCHES_24)) \
		$(if $(VITAMIN_HD5000),$(VITAMIN_HD5000_PATCHES_24)) \
		$(if $(SAGEMCOM88),$(SAGEMCOM88_PATCHES_24)) \
		$(if $(ARIVALINK200),$(ARIVALINK200_PATCHES_24)) \
		$(if $(FORTIS_DP7000),$(FORTIS_DP7000_PATCHES_24)) \
		$(if $(ADB5800),$(ADB5800_PATCHES_24)) \
		$(if $(ADB2850),$(ADB2850_PATCHES_24)) \
		$(if $(DSI87),$(DSI87_PATCHES_24))

#BUILDCONFIG = build-neutrino
BUILDCONFIG = build-enigma2
DEBUG_STR = 
#DEBUG_STR = .debug

#
# HOST-KERNEL
#
#HOST_KERNEL_REVISION = 8c676f1a85935a94de1fb103c0de1dd25ff69014
#HOST_KERNEL_REVISION = 3bce06ff873fb5098c8cd21f1d0e8d62c00a4903
#HOST_KERNEL_REVISION = 5cf7f6f209d832a4cf645125598f86213f556fb3
#HOST_KERNEL_REVISION = 5384bd391266210e72b2ca34590bd9f543cdb5a3
HOST_KERNEL_REVISION = b43f8252e9f72e5b205c8d622db3ac97736351fc
HOST_KERNEL_PATCHES = $(KERNELPATCHES_24)
HOST_KERNEL_CONFIG = linux-sh4-$(subst _stm24_,_,$(KERNELVERSION))_$(MODNAME).config$(DEBUG_STR)

#
#
#
STM_RELOCATE = /opt/STM/STLinux-2.4
STMKERNEL_VER = 2.6.32.46-48

# 4.6.3
#BINUTILS_VER = 2.22-64
#GCC_VER = 4.6.3-111
#LIBGCC_VER = 4.6.3-111
#GLIBC_VER = 2.10.2-42

# 4.7.2
#BINUTILS_VER  = 2.23.2-68
#GCC_VER       = 4.7.2-119
#LIBGCC_VER    = 4.7.2-124
#GLIBC_VER     = 2.10.2-43

# 4.7.3
#BINUTILS_VER  = 2.23.2-68
#GCC_VER       = 4.7.3-124
#LIBGCC_VER    = 4.7.3-129
#GLIBC_VER     = 2.10.2-43

# 4.8.3
#BINUTILS_VER  = 2.24.51.0.3-75
#GCC_VER       = 4.8.3-138
#LIBGCC_VER    = 4.8.3-147
#GLIBC_VER     = 2.14.1-51

# 4.8.2
#BINUTILS_VER  = 2.23.2-73
#GCC_VER       = 4.8.2-131
#LIBGCC_VER    = 4.8.2-138
#GLIBC_VER     = 2.14.1-50

# 4.8.4
BINUTILS_VER = 2.24.51.0.3-77
GCC_VER = 4.8.4-139
LIBGCC_VER = 4.8.4-149
GLIBC_VER = 2.14.1-56
CCACHE_TUXBOX_BIN = $(ccachedir)/ccache

# tuxbox-cdk ccache environment dir
CCACHE_BINDIR = $(hostprefix)/bin

# generate links
CCACHE_LINKS = \
	ln -sfv $(CCACHE_TUXBOX_BIN) $(CCACHE_BINDIR)/cc;\
	ln -sfv $(CCACHE_TUXBOX_BIN) $(CCACHE_BINDIR)/gcc;\
	ln -sfv $(CCACHE_TUXBOX_BIN) $(CCACHE_BINDIR)/g++; \
	ln -sfv $(CCACHE_TUXBOX_BIN) $(CCACHE_BINDIR)/$(target)-gcc; \
	ln -sfv $(CCACHE_TUXBOX_BIN) $(CCACHE_BINDIR)/$(target)-g++


# ccache test will show you ccache statistics
CCACHE_TEST = $(CCACHE_TUXBOX_BIN) -s

# sets the options for ccache which are configured
CCACHE_SETUP = \
	test "$(maxcachesize)" != -1 && $(CCACHE_TUXBOX_BIN) -M $(maxcachesize); \
	test "$(maxcachefiles)" != -1 && $(CCACHE_TUXBOX_BIN) -F $(maxcachefiles); \
	true


# create ccache environment
CCACHE_ENV = $(INSTALL) -d $(CCACHE_BINDIR); \
		$(CCACHE_LINKS); \
		$(CCACHE_SETUP)

URL3 = ftp://ftp.stlinux.com/pub/stlinux/2.3/STLinux/sh4
URL3U = ftp://ftp.stlinux.com/pub/stlinux/2.3/updates/RPMS/sh4
URL4 = ftp://ftp.stlinux.com/pub/stlinux/2.4/STLinux/sh4
URL4U = ftp://ftp.stlinux.com/pub/stlinux/2.4/updates/RPMS/sh4
URL3S = ftp://ftp.stlinux.com/pub/stlinux/2.3/SRPMS
URL3SU = ftp://ftp.stlinux.com/pub/stlinux/2.3/updates/SRPMS
URL4S = ftp://ftp.stlinux.com/pub/stlinux/2.4/SRPMS
URL4SU = ftp://ftp.stlinux.com/pub/stlinux/2.4/updates/SRPMS
URL4HU = ftp://ftp.stlinux.com/pub/stlinux/2.4/updates/RPMS/host
#	rm -rf cramfs-1.1

#
# MKSQUASHFS with LZMA support
#
MKSQUASHFS = $(hostprefix)/bin/mksquashfs

#
# HOST-U-BOOT-TOOLS SMALL
#
HOST_U_BOOT_TOOLS := host_u_boot_tools

#
# TF7700 installer
#
TFINSTALLER_DIR := tfinstaller

#
# Adapted etc files and etc read-write files
#
GLIBC_ADAPTED_ETC_FILES = 
BASE_PASSWD_ADAPTED_ETC_FILES = 
BASE_FILES_ADAPTED_ETC_FILES = timezone.xml hosts fstab issue.net motd mtab profile resolv.conf shells shells.conf
NETBASE_ADAPTED_ETC_FILES = network/interfaces network/options protocols services
SYSVINIT_ADAPTED_ETC_FILES = inittab
INITSCRIPTS_ADAPTED_ETC_FILES = \
	hostname \
	vdstandby.cfg \
	init.d/autofs \
	init.d/bootclean.sh \
	init.d/checkroot.sh \
	init.d/getfb.awk \
	init.d/hostname \
	init.d/makedev \
	init.d/mountvirtfs \
	init.d/mountall \
	init.d/network \
	init.d/networking \
	init.d/rc \
	init.d/reboot \
	init.d/sendsigs \
	init.d/udhcpc \
	init.d/umountfs \
	init.d/vsftpd

OPENRDATE_ADAPTED_ETC_FILES = init.d/rdate.sh
MODULE_INIT_TOOLS_ADAPTED_ETC_FILES = modules init.d/module-init-tools
AUTOFS_ADAPTED_ETC_FILES = auto.master auto.ufs910 timezone.xml init.d/autofs
TCP_WRAPPERS_ADAPTED_ETC_FILES = 
PORTMAP_ADAPTED_ETC_FILES = 
NFS_UTILS_ADAPTED_ETC_FILES = exports init.d/nfs-common init.d/nfs-kernel-server
SAMBA_ADAPTED_ETC_FILES = samba/smb.conf init.d/samba
E2FSPROGS_ADAPTED_ETC_FILES = 
DIVERSE_TOOLS_ADAPTED_ETC_FILES = init.d/swap
FUSE_ADAPTED_ETC_FILES = init.d/fuse
LIRC_OPTS = -D__KERNEL_STRICT_NAMES
#LIRC_OPTS = -D__KERNEL_STRICT_NAMES

#
# lirc
#
##LIRC_OPTS = -D__KERNEL_STRICT_NAMES -DUINPUT_NEUTRINO_HACK -DSPARK -I$(driverdir)/frontcontroller/aotom_spark
#FFMPEG_EXTRA = --disable-iconv

#
# ffmpeg
#
FFMPEG_EXTRA = --enable-librtmp \
	--enable-protocol=librtmp \
	--enable-protocol=librtmpe \
	--enable-protocol=librtmps \
	--enable-protocol=librtmpt \
	--enable-protocol=librtmpte
#OPENSSL = openssl
OPENSSL = openssl_e2
LIBRTMPDUMP = librtmpdump
#LIBXML2 = libxml2

#
# zd1211
#
CONFIG_ZD1211B := 

#
# enigma2-pli-nightly
#
ENIGMA2_DEPS = bootstrap libncurses libcurl libid3tag libmad libpng \
	libjpeg libgif_e2 libfreetype libfribidi libsigc_e2 \
	libreadline libexpat libdvbsipp python libxml2_e2 libxslt \
	python_elementtree python_lxml python_zope_interface \
	python_twisted python_pyopenssl python_wifi python_imaging \
	python_pyusb python_pycrypto python_pyasn1 python_mechanize \
	python_six python_requests python_futures \
	python_singledispatch python_livestreamer \
	python_livestreamersrv libdreamdvd tuxtxt32bpp sdparm \
	hotplug_e2 wpa_supplicant wireless_tools minidlna opkg ethtool \
	$(MEDIAFW_DEP) $(EXTERNALLCD_DEP)
E_CONFIG_OPTS = --enable-duckbox $(am__append_1) $(am__append_2) \
	$(am__append_3)

#
#
#
NEUTRINO_DEPS = bootstrap libcurl libpng libjpeg libgif libfreetype \
	ffmpeg lua luaexpat luacurl libdvbsipp libsigc libopenthreads \
	libusb libalsa $(EXTERNALLCD_DEP) $(am__append_4)
NEUTRINO_DEPS2 = libid3tag libmad libvorbisidec
N_CFLAGS = -Wall -W -Wshadow -g0 -pipe -Os -fno-strict-aliasing -DCPU_FREQ
N_CPPFLAGS = -I$(driverdir)/bpamem -I$(targetprefix)/usr/include/ \
	-I$(buildprefix)/$(KERNEL_DIR)/include \
	-D__STDC_CONSTANT_MACROS $(am__append_5) $(am__append_6)
N_CONFIG_OPTS = --enable-silent-rules --enable-freesatepg \
	$(am__append_7) $(am__append_8) $(am__append_9)
OBJDIR = $(buildtmp)
N_OBJDIR = $(OBJDIR)/neutrino-mp
LH_OBJDIR = $(OBJDIR)/libstb-hal

################################################################################
#
# libstb-hal-github-old
#

# keeping all patches together in one file
# uncomment if needed
#
# STB-HAL from github
NEUTRINO_MP_LIBSTB_GH_OLD_PATCHES =

################################################################################
#
# libstb-hal-cst-next
#

# Neutrino MP from github
NEUTRINO_MP_LIBSTB_CST_NEXT_PATCHES =
NEUTRINO_MP_CST_NEXT_PATCHES =

#
# neutrino-mp-martii-github
#

# Neutrino MP from martii
NEUTRINO_MP_MARTII_GH_PATCHES =

#
# libstb-hal-next
#

# Neutrino MP Next from github
NEUTRINO_MP_LIBSTB_NEXT_PATCHES =

#
# neutrino-mp-next
#
NEUTRINO_MP_NEXT_PATCHES =

#
# neutrino-hd2-exp
#

# Neutrino HD2
NEUTRINO_HD2_PATCHES = $(PATCHES)/neutrino-hd2-exp.diff

#
# neutrino-mp-tangos
#

# Neutrino MP Tango
NEUTRINO_MP_TANGOS_PATCHES =
NEUTRINO_HD2_PLUGINS_PATCHES =
TVHEADEND_DEPS = bootstrap openssl python
EXTRA_DIST = \
	rules.pl rules-archive.pl rules-downcheck.pl.in \
	rules-archive \
	rules-install \
	rules-make

all: all-am

.SUFFIXES:
am--refresh: Makefile
	@:
$(srcdir)/Makefile.in:  $(srcdir)/Makefile.am $(srcdir)/make/buildenv.mk $(srcdir)/make/yaud.mk $(srcdir)/make/linux-kernel.mk $(srcdir)/make/bootstrap.mk $(srcdir)/make/ccache.mk $(srcdir)/make/archive-specs.mk $(srcdir)/make/driver.mk $(srcdir)/make/tools.mk $(srcdir)/make/hostapps.mk $(srcdir)/make/u-boot.mk $(srcdir)/make/root-etc.mk $(srcdir)/make/busybox.mk $(srcdir)/make/contrib-libs.mk $(srcdir)/make/python.mk $(srcdir)/make/gstreamer.mk $(srcdir)/make/contrib-apps.mk $(srcdir)/make/net-apps.mk $(srcdir)/make/enigma2-plugins.mk $(srcdir)/make/enigma2-pli-nightly.mk $(srcdir)/make/neutrino.mk $(srcdir)/make/neutrino-plugins.mk $(srcdir)/make/tvheadend.mk $(srcdir)/make/cleantargets.mk $(srcdir)/make/tags.mk $(srcdir)/make/disttargets.mk $(srcdir)/make/enigma2-release.mk $(srcdir)/make/neutrino-release.mk $(srcdir)/make/tvheadend-release.mk $(srcdir)/make/patches.mk $(am__configure_deps)
	@for dep in $?; do \
	  case '$(am__configure_deps)' in \
	    *$$dep*) \
	      echo ' cd $(srcdir) && $(AUTOMAKE) --gnu'; \
	      $(am__cd) $(srcdir) && $(AUTOMAKE) --gnu \
		&& exit 0; \
	      exit 1;; \
	  esac; \
	done; \
	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu Makefile'; \
	$(am__cd) $(top_srcdir) && \
	  $(AUTOMAKE) --gnu Makefile
.PRECIOUS: Makefile
Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
	@case '$?' in \
	  *config.status*) \
	    echo ' $(SHELL) ./config.status'; \
	    $(SHELL) ./config.status;; \
	  *) \
	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe)'; \
	    cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe);; \
	esac;
$(srcdir)/make/buildenv.mk $(srcdir)/make/yaud.mk $(srcdir)/make/linux-kernel.mk $(srcdir)/make/bootstrap.mk $(srcdir)/make/ccache.mk $(srcdir)/make/archive-specs.mk $(srcdir)/make/driver.mk $(srcdir)/make/tools.mk $(srcdir)/make/hostapps.mk $(srcdir)/make/u-boot.mk $(srcdir)/make/root-etc.mk $(srcdir)/make/busybox.mk $(srcdir)/make/contrib-libs.mk $(srcdir)/make/python.mk $(srcdir)/make/gstreamer.mk $(srcdir)/make/contrib-apps.mk $(srcdir)/make/net-apps.mk $(srcdir)/make/enigma2-plugins.mk $(srcdir)/make/enigma2-pli-nightly.mk $(srcdir)/make/neutrino.mk $(srcdir)/make/neutrino-plugins.mk $(srcdir)/make/tvheadend.mk $(srcdir)/make/cleantargets.mk $(srcdir)/make/tags.mk $(srcdir)/make/disttargets.mk $(srcdir)/make/enigma2-release.mk $(srcdir)/make/neutrino-release.mk $(srcdir)/make/tvheadend-release.mk $(srcdir)/make/patches.mk:

$(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
	$(SHELL) ./config.status --recheck

$(top_srcdir)/configure:  $(am__configure_deps)
	$(am__cd) $(srcdir) && $(AUTOCONF)
$(ACLOCAL_M4):  $(am__aclocal_m4_deps)
	$(am__cd) $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
$(am__aclocal_m4_deps):
rules-downcheck.pl: $(top_builddir)/config.status $(srcdir)/rules-downcheck.pl.in
	cd $(top_builddir) && $(SHELL) ./config.status $@
tags TAGS:

ctags CTAGS:

cscope cscopelist:


distdir: $(DISTFILES)
	$(am__remove_distdir)
	test -d "$(distdir)" || mkdir "$(distdir)"
	@srcdirstrip=`echo "$(srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
	list='$(DISTFILES)'; \
	  dist_files=`for file in $$list; do echo $$file; done | \
	  sed -e "s|^$$srcdirstrip/||;t" \
	      -e "s|^$$topsrcdirstrip/|$(top_builddir)/|;t"`; \
	case $$dist_files in \
	  */*) $(MKDIR_P) `echo "$$dist_files" | \
			   sed '/\//!d;s|^|$(distdir)/|;s,/[^/]*$$,,' | \
			   sort -u` ;; \
	esac; \
	for file in $$dist_files; do \
	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
	  if test -d $$d/$$file; then \
	    dir=`echo "/$$file" | sed -e 's,/[^/]*$$,,'`; \
	    if test -d "$(distdir)/$$file"; then \
	      find "$(distdir)/$$file" -type d ! -perm -700 -exec chmod u+rwx {} \;; \
	    fi; \
	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
	      cp -fpR $(srcdir)/$$file "$(distdir)$$dir" || exit 1; \
	      find "$(distdir)/$$file" -type d ! -perm -700 -exec chmod u+rwx {} \;; \
	    fi; \
	    cp -fpR $$d/$$file "$(distdir)$$dir" || exit 1; \
	  else \
	    test -f "$(distdir)/$$file" \
	    || cp -p $$d/$$file "$(distdir)/$$file" \
	    || exit 1; \
	  fi; \
	done
	-test -n "$(am__skip_mode_fix)" \
	|| find "$(distdir)" -type d ! -perm -755 \
		-exec chmod u+rwx,go+rx {} \; -o \
	  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
	  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
	  ! -type d ! -perm -444 -exec $(install_sh) -c -m a+r {} {} \; \
	|| chmod -R a+r "$(distdir)"
dist-gzip: distdir
	tardir=$(distdir) && $(am__tar) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
	$(am__post_remove_distdir)

dist-bzip2: distdir
	tardir=$(distdir) && $(am__tar) | BZIP2=$${BZIP2--9} bzip2 -c >$(distdir).tar.bz2
	$(am__post_remove_distdir)

dist-lzip: distdir
	tardir=$(distdir) && $(am__tar) | lzip -c $${LZIP_OPT--9} >$(distdir).tar.lz
	$(am__post_remove_distdir)

dist-xz: distdir
	tardir=$(distdir) && $(am__tar) | XZ_OPT=$${XZ_OPT--e} xz -c >$(distdir).tar.xz
	$(am__post_remove_distdir)

dist-tarZ: distdir
	@echo WARNING: "Support for shar distribution archives is" \
	               "deprecated." >&2
	@echo WARNING: "It will be removed altogether in Automake 2.0" >&2
	tardir=$(distdir) && $(am__tar) | compress -c >$(distdir).tar.Z
	$(am__post_remove_distdir)

dist-shar: distdir
	@echo WARNING: "Support for distribution archives compressed with" \
		       "legacy program 'compress' is deprecated." >&2
	@echo WARNING: "It will be removed altogether in Automake 2.0" >&2
	shar $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).shar.gz
	$(am__post_remove_distdir)

dist-zip: distdir
	-rm -f $(distdir).zip
	zip -rq $(distdir).zip $(distdir)
	$(am__post_remove_distdir)

dist dist-all:
	$(MAKE) $(AM_MAKEFLAGS) $(DIST_TARGETS) am__post_remove_distdir='@:'
	$(am__post_remove_distdir)

# This target untars the dist file and tries a VPATH configuration.  Then
# it guarantees that the distribution is self-contained by making another
# tarfile.
distcheck: dist
	case '$(DIST_ARCHIVES)' in \
	*.tar.gz*) \
	  GZIP=$(GZIP_ENV) gzip -dc $(distdir).tar.gz | $(am__untar) ;;\
	*.tar.bz2*) \
	  bzip2 -dc $(distdir).tar.bz2 | $(am__untar) ;;\
	*.tar.lz*) \
	  lzip -dc $(distdir).tar.lz | $(am__untar) ;;\
	*.tar.xz*) \
	  xz -dc $(distdir).tar.xz | $(am__untar) ;;\
	*.tar.Z*) \
	  uncompress -c $(distdir).tar.Z | $(am__untar) ;;\
	*.shar.gz*) \
	  GZIP=$(GZIP_ENV) gzip -dc $(distdir).shar.gz | unshar ;;\
	*.zip*) \
	  unzip $(distdir).zip ;;\
	esac
	chmod -R a-w $(distdir)
	chmod u+w $(distdir)
	mkdir $(distdir)/_build $(distdir)/_inst
	chmod a-w $(distdir)
	test -d $(distdir)/_build || exit 0; \
	dc_install_base=`$(am__cd) $(distdir)/_inst && pwd | sed -e 's,^[^:\\/]:[\\/],/,'` \
	  && dc_destdir="$${TMPDIR-/tmp}/am-dc-$$$$/" \
	  && am__cwd=`pwd` \
	  && $(am__cd) $(distdir)/_build \
	  && ../configure \
	    $(AM_DISTCHECK_CONFIGURE_FLAGS) \
	    $(DISTCHECK_CONFIGURE_FLAGS) \
	    --srcdir=.. --prefix="$$dc_install_base" \
	  && $(MAKE) $(AM_MAKEFLAGS) \
	  && $(MAKE) $(AM_MAKEFLAGS) dvi \
	  && $(MAKE) $(AM_MAKEFLAGS) check \
	  && $(MAKE) $(AM_MAKEFLAGS) install \
	  && $(MAKE) $(AM_MAKEFLAGS) installcheck \
	  && $(MAKE) $(AM_MAKEFLAGS) uninstall \
	  && $(MAKE) $(AM_MAKEFLAGS) distuninstallcheck_dir="$$dc_install_base" \
	        distuninstallcheck \
	  && chmod -R a-w "$$dc_install_base" \
	  && ({ \
	       (cd ../.. && umask 077 && mkdir "$$dc_destdir") \
	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" install \
	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" uninstall \
	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" \
	            distuninstallcheck_dir="$$dc_destdir" distuninstallcheck; \
	      } || { rm -rf "$$dc_destdir"; exit 1; }) \
	  && rm -rf "$$dc_destdir" \
	  && $(MAKE) $(AM_MAKEFLAGS) dist \
	  && rm -rf $(DIST_ARCHIVES) \
	  && $(MAKE) $(AM_MAKEFLAGS) distcleancheck \
	  && cd "$$am__cwd" \
	  || exit 1
	$(am__post_remove_distdir)
	@(echo "$(distdir) archives ready for distribution: "; \
	  list='$(DIST_ARCHIVES)'; for i in $$list; do echo $$i; done) | \
	  sed -e 1h -e 1s/./=/g -e 1p -e 1x -e '$$p' -e '$$x'
distuninstallcheck:
	@test -n '$(distuninstallcheck_dir)' || { \
	  echo 'ERROR: trying to run $@ with an empty' \
	       '$$(distuninstallcheck_dir)' >&2; \
	  exit 1; \
	}; \
	$(am__cd) '$(distuninstallcheck_dir)' || { \
	  echo 'ERROR: cannot chdir into $(distuninstallcheck_dir)' >&2; \
	  exit 1; \
	}; \
	test `$(am__distuninstallcheck_listfiles) | wc -l` -eq 0 \
	   || { echo "ERROR: files left after uninstall:" ; \
	        if test -n "$(DESTDIR)"; then \
	          echo "  (check DESTDIR support)"; \
	        fi ; \
	        $(distuninstallcheck_listfiles) ; \
	        exit 1; } >&2
distcleancheck: distclean
	@if test '$(srcdir)' = . ; then \
	  echo "ERROR: distcleancheck can only run from a VPATH build" ; \
	  exit 1 ; \
	fi
	@test `$(distcleancheck_listfiles) | wc -l` -eq 0 \
	  || { echo "ERROR: files left in build directory after distclean:" ; \
	       $(distcleancheck_listfiles) ; \
	       exit 1; } >&2
check-am: all-am
check: check-am
all-am: Makefile
installdirs:
install: install-am
install-exec: install-exec-am
install-data: install-data-am
uninstall: uninstall-am

install-am: all-am
	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am

installcheck: installcheck-am
install-strip:
	if test -z '$(STRIP)'; then \
	  $(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
	    install_sh_PROGRAM="$(INSTALL_STRIP_PROGRAM)" INSTALL_STRIP_FLAG=-s \
	      install; \
	else \
	  $(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
	    install_sh_PROGRAM="$(INSTALL_STRIP_PROGRAM)" INSTALL_STRIP_FLAG=-s \
	    "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'" install; \
	fi
mostlyclean-generic:

clean-generic:

distclean-generic:
	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)

maintainer-clean-generic:
	@echo "This command is intended for maintainers to use"
	@echo "it deletes files that may require special tools to rebuild."
clean: clean-am

clean-am: clean-generic clean-local mostlyclean-am

distclean: distclean-am
	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
	-rm -f Makefile
distclean-am: clean-am distclean-generic distclean-local

dvi: dvi-am

dvi-am:

html: html-am

html-am:

info: info-am

info-am:

install-data-am:

install-dvi: install-dvi-am

install-dvi-am:

install-exec-am:

install-html: install-html-am

install-html-am:

install-info: install-info-am

install-info-am:

install-man:

install-pdf: install-pdf-am

install-pdf-am:

install-ps: install-ps-am

install-ps-am:

installcheck-am:

maintainer-clean: maintainer-clean-am
	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
	-rm -rf $(top_srcdir)/autom4te.cache
	-rm -f Makefile
maintainer-clean-am: distclean-am maintainer-clean-generic

mostlyclean: mostlyclean-am

mostlyclean-am: mostlyclean-generic mostlyclean-local

pdf: pdf-am

pdf-am:

ps: ps-am

ps-am:

uninstall-am:

.MAKE: install-am install-strip

.PHONY: all all-am am--refresh check check-am clean clean-generic \
	clean-local cscopelist-am ctags-am dist dist-all dist-bzip2 \
	dist-gzip dist-lzip dist-shar dist-tarZ dist-xz dist-zip \
	distcheck distclean distclean-generic distclean-local \
	distcleancheck distdir distuninstallcheck dvi dvi-am html \
	html-am info info-am install install-am install-data \
	install-data-am install-dvi install-dvi-am install-exec \
	install-exec-am install-html install-html-am install-info \
	install-info-am install-man install-pdf install-pdf-am \
	install-ps install-ps-am install-strip installcheck \
	installcheck-am installdirs maintainer-clean \
	maintainer-clean-generic mostlyclean mostlyclean-generic \
	mostlyclean-local pdf pdf-am ps ps-am tags-am uninstall \
	uninstall-am

#TARGETLIB       = $(targetprefix)/usr/lib
#REWRITE_LIBDIR  = sed -i "s,^libdir=.*,libdir='$(TARGETLIB)'," $(TARGETLIB)
#REWRITE_LIBDEP  = sed -i -e "s,\(^dependency_libs='\| \|-L\|^dependency_libs='\)/usr/lib,\$(TARGETLIB)," $(TARGETLIB)
#REWRITE_PKGCONF = sed -i "s,^prefix=.*,prefix=$(targetprefix)/usr,"

#
#
#
export RM=$(shell which rm) -f
$(D)/bootstrap: \
	$(CCACHE) \
	crosstool \
	host_pkgconfig \
	host_module_init_tools \
	host_mtd_utils
	touch $@

#
# BARE-OS
#
$(D)/bare-os: \
	module_init_tools \
	busybox \
	zlib \
	sysvinit \
	diverse-tools
	touch $@

#
# NET-UTILS
#
$(D)/net-utils: \
	portmap \
	nfs_utils \
	vsftpd \
	autofs
	touch $@

#
# DISK-UTILS
#
$(D)/disk-utils: \
	e2fsprogs \
	jfsutils
	touch $@

#
# YAUD NONE
#
$(D)/yaud-none: \
	bootstrap \
	bare-os \
	linux-kernel \
	disk-utils \
	net-utils \
	driver \
	tools
	touch $@

$(D)/linux-kernel: $(D)/bootstrap $(buildprefix)/Patches/$(BUILDCONFIG)/$(HOST_KERNEL_CONFIG) | $(HOST_U_BOOT_TOOLS) \
	$(if $(HOST_KERNEL_PATCHES),$(HOST_KERNEL_PATCHES:%=$(PATCHES)/$(BUILDCONFIG)/%))
	rm -rf linux-sh4*
	REPO=git://git.stlinux.com/stm/linux-sh4-2.6.32.y.git;protocol=git;branch=stmicro; \
	[ -d "$(archivedir)/linux-sh4-2.6.32.y.git" ] && \
	(echo "Updating STlinux kernel source"; cd $(archivedir)/linux-sh4-2.6.32.y.git; git pull;); \
	[ -d "$(archivedir)/linux-sh4-2.6.32.y.git" ] || \
	(echo "Getting STlinux kernel source"; git clone -n $$REPO $(archivedir)/linux-sh4-2.6.32.y.git); \
	(echo "Copying kernel source code to build environment"; cp -ra $(archivedir)/linux-sh4-2.6.32.y.git $(buildprefix)/$(KERNEL_DIR)); \
	(echo "Applying patch level P0$(KERNELLABEL)"; cd $(KERNEL_DIR); git checkout -q $(HOST_KERNEL_REVISION))
	set -e; cd $(KERNEL_DIR); \
		for i in $(HOST_KERNEL_PATCHES); do \
			echo -e "==> \033[31mApplying Patch:\033[0m $$i"; \
			patch -p1 -i $(buildprefix)/Patches/$(BUILDCONFIG)/$$i; \
		done
	$(INSTALL) -m644 $(PATCHES)/$(BUILDCONFIG)/$(HOST_KERNEL_CONFIG) $(buildprefix)/$(KERNEL_DIR)/.config
	-rm $(buildprefix)/$(KERNEL_DIR)/localversion*
	echo "$(KERNELSTMLABEL)" > $(buildprefix)/$(KERNEL_DIR)/localversion-stm
	$(MAKE) -C $(KERNEL_DIR) ARCH=sh oldconfig
	$(MAKE) -C $(KERNEL_DIR) ARCH=sh include/asm
	$(MAKE) -C $(KERNEL_DIR) ARCH=sh include/linux/version.h
	$(MAKE) -C $(KERNEL_DIR) uImage modules \
		ARCH=sh \
		CROSS_COMPILE=$(target)-
	$(MAKE) -C $(KERNEL_DIR) modules_install \
		ARCH=sh \
		CROSS_COMPILE=$(target)- \
		DEPMOD=$(DEPMOD) \
		INSTALL_MOD_PATH=$(targetprefix)
	$(INSTALL) -m644 $(KERNEL_DIR)/arch/sh/boot/uImage $(bootprefix)/vmlinux.ub && \
	$(INSTALL) -m644 $(KERNEL_DIR)/vmlinux $(targetprefix)/boot/vmlinux-sh4-$(KERNELVERSION) && \
	$(INSTALL) -m644 $(KERNEL_DIR)/System.map $(targetprefix)/boot/System.map-sh4-$(KERNELVERSION) && \
	$(INSTALL) -m644 $(KERNEL_DIR)/COPYING $(targetprefix)/boot/LICENSE && \
	cp $(KERNEL_DIR)/arch/sh/boot/uImage $(targetprefix)/boot/ && \
	rm $(targetprefix)/lib/modules/$(KERNELVERSION)/build || true && \
	rm $(targetprefix)/lib/modules/$(KERNELVERSION)/source || true
	touch $@

$(D)/tfkernel.do_compile:
	cd $(KERNEL_DIR) && \
		$(MAKE) $(if $(TF7700),TF7700=y) ARCH=sh CROSS_COMPILE=$(target)- uImage
	touch $@

linux-kernel-clean:
	rm -f $(DEPDIR)/linux-kernel

#
# Helper
#
linux-kernel.menuconfig linux-kernel.xconfig: \
linux-kernel.%:
	$(MAKE) -C $(KERNEL_DIR) ARCH=sh CROSS_COMPILE=sh4-linux- $*
	@echo
	@echo "You have to edit m a n u a l l y Patches/linux-$(KERNELVERSION).config to make changes permanent !!!"
	@echo ""
	diff $(KERNEL_DIR)/.config.old $(KERNEL_DIR)/.config
	@echo ""

$(hostprefix)/bin/unpack-rpm.sh:
	ln -sf $(buildprefix)/scripts/$(shell basename $@) $(hostprefix)/bin

crosstool-rpminstall: \
$(archivedir)/stlinux24-cross-sh4-binutils-$(BINUTILS_VER).i386.rpm \
$(archivedir)/stlinux24-cross-sh4-binutils-dev-$(BINUTILS_VER).i386.rpm \
$(archivedir)/stlinux24-cross-sh4-cpp-$(GCC_VER).i386.rpm \
$(archivedir)/stlinux24-cross-sh4-gcc-$(GCC_VER).i386.rpm \
$(archivedir)/stlinux24-cross-sh4-g++-$(GCC_VER).i386.rpm \
$(archivedir)/stlinux24-sh4-linux-kernel-headers-$(STMKERNEL_VER).noarch.rpm \
$(archivedir)/stlinux24-sh4-glibc-$(GLIBC_VER).sh4.rpm \
$(archivedir)/stlinux24-sh4-glibc-dev-$(GLIBC_VER).sh4.rpm \
$(archivedir)/stlinux24-sh4-libgcc-$(LIBGCC_VER).sh4.rpm \
$(archivedir)/stlinux24-sh4-libstdc++-$(LIBGCC_VER).sh4.rpm \
$(archivedir)/stlinux24-sh4-libstdc++-dev-$(LIBGCC_VER).sh4.rpm
	unpack-rpm.sh $(buildtmp) $(STM_RELOCATE)/devkit/sh4 $(crossprefix) \
		$^
	touch .deps/$@

# install the RPMs
crosstool: directories \
$(hostprefix)/bin/unpack-rpm.sh \
crosstool-rpminstall
	if [ -e $(crossprefix)/target/usr/lib/libstdc++.la ]; then \
		sed -i "s,^libdir=.*,libdir='$(crossprefix)/target/usr/lib'," $(crossprefix)/target/usr/lib/lib{std,sup}c++.la; \
	fi
	if test -e $(crossprefix)/target/usr/lib/libstdc++.so; then \
		cp -a $(crossprefix)/target/usr/lib/libstdc++.s*[!y] $(targetprefix)/lib; \
		cp -a $(crossprefix)/target/usr/lib/libdl.so $(targetprefix)/usr/lib; \
		cp -a $(crossprefix)/target/usr/lib/libm.so $(targetprefix)/usr/lib; \
		cp -a $(crossprefix)/target/usr/lib/librt.so $(targetprefix)/usr/lib; \
		cp -a $(crossprefix)/target/usr/lib/libutil.so $(targetprefix)/usr/lib; \
		cp -a $(crossprefix)/target/usr/lib/libpthread.so $(targetprefix)/usr/lib; \
		cp -a $(crossprefix)/target/usr/lib/libresolv.so $(targetprefix)/usr/lib; \
		ln -s $(crossprefix)/target/usr/lib/libc.so $(targetprefix)/usr/lib/libc.so; \
		ln -s $(crossprefix)/target/usr/lib/libc_nonshared.a $(targetprefix)/usr/lib/libc_nonshared.a; \
	fi
	if test -e $(crossprefix)/target/lib; then \
		cp -a $(crossprefix)/target/lib/*so* $(targetprefix)/lib; \
	fi
	if test -e $(crossprefix)/target/sbin/ldconfig; then \
		cp -a $(crossprefix)/target/sbin/ldconfig $(targetprefix)/sbin; \
		cp -a $(crossprefix)/target/etc/ld.so.conf $(targetprefix)/etc; \
		cp -a $(crossprefix)/target/etc/host.conf $(targetprefix)/etc; \
	fi
	touch .deps/$@

#
# FILESYSTEM
#
$(D)/directories:
	$(INSTALL) -d $(targetprefix)
	$(INSTALL) -d $(crossprefix)
	$(INSTALL) -d $(bootprefix)
	$(INSTALL) -d $(hostprefix)
	$(INSTALL) -d $(hostprefix)/{bin,lib,share}
	$(INSTALL) -d $(targetprefix)/{bin,boot,etc,lib,sbin,tmp,usr,var}
	$(INSTALL) -d $(targetprefix)/etc/{init.d,mdev,network,rc.d}
	$(INSTALL) -d $(targetprefix)/etc/rc.d/{rc0.d,rc1.d,rc2.d,rc3.d,rc4.d,rc5.d,rc6.d,rcS.d}
	ln -s ../init.d $(targetprefix)/etc/rc.d/init.d
	$(INSTALL) -d $(targetprefix)/lib/lsb
	$(INSTALL) -d $(targetprefix)/usr/{bin,lib,local,sbin,share}
	$(INSTALL) -d $(targetprefix)/usr/lib/pkgconfig
	$(INSTALL) -d $(targetprefix)/usr/include/linux
	$(INSTALL) -d $(targetprefix)/usr/include/linux/dvb
	$(INSTALL) -d $(targetprefix)/usr/local/{bin,sbin,share}
	$(INSTALL) -d $(targetprefix)/var/{etc,lib,run}
	$(INSTALL) -d $(targetprefix)/var/lib/{misc,nfs}
	$(INSTALL) -d $(targetprefix)/var/bin
	touch $@

# tuxbox-cdk ccache install path
export CCACHE_DIR=$(HOME)/.ccache-ddt

# use ccache from your host if is installed
$(D)/ccache:
	$(CCACHE_ENV); \
	$(CCACHE_TEST)
	touch $@

#
# build own tuxbox-cdk ccache
#
#$(D)/ccache.do_prepare: $(archivedir)/ccache-3.1.9.tar.gz 
#	( rm -rf ccache-3.1.9 || /bin/true ) && gunzip -cd $(archivedir)/ccache-3.1.9.tar.gz | TAPE=- tar -x
#	touch $@

#$(D)/ccache.do_compile: $(D)/ccache.do_prepare
#	cd ccache-3.1.9 && \
#		./configure \
#			--build=$(build) \
#			--host=$(build) \
#			--prefix= && \
#			$(MAKE) all && \
#			$(MAKE) install DESTDIR=$(hostprefix)
#	touch $@

#$(D)/ccache: \
#$(D)/%ccache: $(D)/ccache.do_compile
#	cd ccache-3.1.9 && \
#		$(CCACHE_ENV); \
#		$(CCACHE_TEST); \
#		$(MAKE) install DESTDIR=$(hostprefix)
#	rm -rf ccache-3.1.9
#	[ "x$*" = "x" ] && touch $@ || true

$(archivedir)/stlinux23-sh4-%.sh4.rpm:
	[ ! -f $(archivedir)/$(notdir $@) ] && \
	(cd $(archivedir) && $(WGET) $(URL3)/$(notdir $@) || $(WGET) $(URL3U)/$(notdir $@)) || true
$(archivedir)/stlinux24-sh4-%.sh4.rpm:
	[ ! -f $(archivedir)/$(notdir $@) ] && \
	(cd $(archivedir) && $(WGET) $(URL4U)/$(notdir $@) || $(WGET) $(URL4)/$(notdir $@)) || true

$(archivedir)/stlinux23-host-%.src.rpm:
	[ ! -f $(archivedir)/$(notdir $@) ] && \
	(cd $(archivedir) && $(WGET) $(URL3SU)/$(notdir $@) || $(WGET) $(URL3S)/$(notdir $@)) || true
$(archivedir)/stlinux24-host-%.src.rpm:
	[ ! -f $(archivedir)/$(notdir $@) ] && \
	(cd $(archivedir) && $(WGET) $(URL4SU)/$(notdir $@) || $(WGET) $(URL4S)/$(notdir $@)) || true

$(archivedir)/stlinux23-cross-%.src.rpm:
	[ ! -f $(archivedir)/$(notdir $@) ] && \
	(cd $(archivedir) && $(WGET) $(URL3SU)/$(notdir $@) || $(WGET) $(URL3S)/$(notdir $@)) || true
$(archivedir)/stlinux24-cross-%.src.rpm:
	[ ! -f $(archivedir)/$(notdir $@) ] && \
	(cd $(archivedir) && $(WGET) $(URL4SU)/$(notdir $@) || $(WGET) $(URL4S)/$(notdir $@)) || true

$(archivedir)/stlinux23-target-%.src.rpm:
	[ ! -f $(archivedir)/$@ ] && \
	(cd $(archivedir) && $(WGET) $(URL3SU)/$(notdir $@) || $(WGET) $(URL3S)/$(notdir $@)) || true
$(archivedir)/stlinux24-target-%.src.rpm:
	[ ! -f $(archivedir)/$@ ] && \
	(cd $(archivedir) && $(WGET) $(URL4SU)/$(notdir $@) || $(WGET) $(URL4S)/$(notdir $@)) || true

$(archivedir)/stlinux24-cross-%.i386.rpm:
	[ ! -f $(archivedir)/$(notdir $@) ] && \
	(cd $(archivedir) && $(WGET) $(URL4U)/$(notdir $@)) || true

$(archivedir)/stlinux24-sh4-%.noarch.rpm:
	[ ! -f $(archivedir)/$(notdir $@) ] && \
	(cd $(archivedir) && $(WGET) $(URL4U)/$(notdir $@)) || true

$(archivedir)/stlinux24-host-%.i386.rpm:
	[ ! -f $(archivedir)/$(notdir $@) ] && \
	(cd $(archivedir) && $(WGET) $(URL4HU)/$(notdir $@)) || true

$(archivedir)/stlinux24-host-%.noarch.rpm:
	[ ! -f $(archivedir)/$(notdir $@) ] && \
	(cd $(archivedir) && $(WGET) $(URL4HU)/$(notdir $@)) || true

$(archivedir)/lcd4linux.svn:
	false || mkdir -p $(archivedir) && ( \
	svn co https://ssl.bulix.org/svn/lcd4linux/trunk $(archivedir)/lcd4linux.svn || \
	false )
	@touch $@

#
# driver
#
$(D)/driver: $(driverdir)/Makefile $(D)/bootstrap $(D)/linux-kernel
	cp $(driverdir)/stgfb/stmfb/linux/drivers/video/stmfb.h $(targetprefix)/usr/include/linux
	cp $(driverdir)/player2/linux/include/linux/dvb/stm_ioctls.h $(targetprefix)/usr/include/linux/dvb
	$(MAKE) -C $(driverdir) ARCH=sh \
		CONFIG_MODULES_PATH=$(crossprefix)/target \
		KERNEL_LOCATION=$(buildprefix)/$(KERNEL_DIR) \
		DRIVER_TOPDIR=$(driverdir) \
		$(DRIVER_PLATFORM) \
		CROSS_COMPILE=$(target)-
	$(MAKE) -C $(driverdir) ARCH=sh \
		CONFIG_MODULES_PATH=$(crossprefix)/target \
		KERNEL_LOCATION=$(buildprefix)/$(KERNEL_DIR) \
		DRIVER_TOPDIR=$(driverdir) \
		$(DRIVER_PLATFORM) \
		CROSS_COMPILE=$(target)- \
		BIN_DEST=$(targetprefix)/bin \
		INSTALL_MOD_PATH=$(targetprefix) \
		install
	$(DEPMOD) -ae -b $(targetprefix) -F $(buildprefix)/$(KERNEL_DIR)/System.map -r $(KERNELVERSION)
	touch $@

driver-clean:
	rm -f $(D)/driver
	$(MAKE) -C $(driverdir) ARCH=sh \
		KERNEL_LOCATION=$(buildprefix)/$(KERNEL_DIR) \
		distclean

#
# tools
#
tools-clean:
	-$(MAKE) -C $(appsdir)/tools distclean

$(appsdir)/tools/config.status: bootstrap driver bzip2 libpng libjpeg ffmpeg
	cd $(appsdir)/tools && \
	$(CONFIGURE) \
	--prefix=$(targetprefix)/usr \
	--with-boxtype=$(BOXTYPE) \
	$(if $(MULTICOM324), --enable-multicom324) \
	$(if $(MULTICOM406), --enable-multicom406) \
	$(if $(EPLAYER3), --enable-eplayer3)

$(D)/tools: $(appsdir)/tools/config.status
	$(MAKE) -C $(appsdir)/tools all prefix=$(targetprefix) \
	CPPFLAGS="\
	-I$(targetprefix)/usr/include \
	-I$(driverdir)/bpamem \
	-I$(driverdir)/include/multicom \
	-I$(driverdir)/multicom/mme \
	-I$(driverdir)/include/player2 \
	$(if $(PLAYER191), -DPLAYER191) \
	" && \
	$(MAKE) -C $(appsdir)/tools install prefix=$(targetprefix)
	touch $@

#
# host_pkgconfig
#
$(D)/host_pkgconfig: $(archivedir)/pkg-config-0.28.tar.gz 
	( rm -rf pkg-config-0.28 || /bin/true ) && gunzip -cd $(archivedir)/pkg-config-0.28.tar.gz | TAPE=- tar -x && ( cd pkg-config-0.28 && chmod +w -R .; patch -p1 < ../Patches/pkg-config-0.28.patch )
	cd pkg-config-0.28 && \
		./configure \
			--prefix=$(hostprefix) \
			--program-prefix=$(target)- \
			--disable-host-tool \
			--with-pc_path=$(targetprefix)/usr/lib/pkgconfig \
		&& \
		$(MAKE) && \
		$(MAKE) install
	rm -rf pkg-config-0.28
	touch $@

#
# host_module_init_tools
#
$(D)/host_module_init_tools: $(archivedir)/module-init-tools-3.16.tar.bz2  directories
	( rm -rf module-init-tools-3.16 || /bin/true ) && bunzip2 -cd $(archivedir)/module-init-tools-3.16.tar.bz2 | TAPE=- tar -x && ( cd module-init-tools-3.16 && chmod +w -R .; patch -p1 < ../Patches/module-init-tools-no-man.patch )
	cd module-init-tools-3.16 && \
		autoreconf -fi && \
		./configure \
			--prefix=$(hostprefix) \
			--sbindir=$(hostprefix)/bin \
		&& \
		$(MAKE) && \
		$(MAKE) install
	rm -rf module-init-tools-3.16
	touch $@

#
# host_mtd_utils
#
$(D)/host_mtd_utils: $(archivedir)/mtd-utils-1.5.1.tar.bz2 
	( rm -rf mtd-utils-1.5.1 || /bin/true ) && bunzip2 -cd $(archivedir)/mtd-utils-1.5.1.tar.bz2 | TAPE=- tar -x && ( cd mtd-utils-1.5.1 && chmod +w -R .; patch -p1 < ../Patches/host-mtd-utils-1.5.0.patch )
	cd mtd-utils-1.5.1 && \
		$(MAKE) `pwd`/mkfs.jffs2 `pwd`/sumtool BUILDDIR=`pwd` WITHOUT_XATTR=1 DESTDIR=$(hostprefix) && \
		$(MAKE) install DESTDIR=$(hostprefix)/bin
	rm -rf mtd-utils-1.5.1
	touch $@

#
# host_libffi
#
$(D)/host_libffi: $(archivedir)/libffi-3.2.1.tar.gz 
	( rm -rf libffi-3.2.1 || /bin/true ) && gunzip -cd $(archivedir)/libffi-3.2.1.tar.gz | TAPE=- tar -x
	cd libffi-3.2.1 && \
		./configure \
			--prefix=$(hostprefix) \
			--disable-static \
		&& \
		$(MAKE) && \
		$(MAKE) install
	rm -rf libffi-3.2.1
	touch $@

#
# host_glib2_genmarshal
#
$(D)/host_glib2_genmarshal: $(archivedir)/glib-2.45.4.tar.xz 
	( rm -rf glib-2.45.4 || /bin/true ) && tar -xpf $(archivedir)/glib-2.45.4.tar.xz
	export PKG_CONFIG=/usr/bin/pkg-config && \
	cd glib-2.45.4 && \
		./configure \
			--enable-static=yes \
			--enable-shared=no \
			--prefix=`pwd`/out \
		&& \
		$(MAKE) install && \
		cp -a out/bin/glib-* $(hostprefix)/bin
	rm -rf glib-2.45.4
	touch $@

#
# mkcramfs
#
mkcramfs: @MKCRAMFS@

$(hostprefix)/bin/mkcramfs: $(archivedir)/cramfs-1.1.tar.gz 
	( rm -rf cramfs-1.1 || /bin/true ) && gunzip -cd $(archivedir)/cramfs-1.1.tar.gz | TAPE=- tar -x
	cd cramfs-1.1 && \
		$(MAKE) mkcramfs && \
		$(INSTALL) mkcramfs $(hostprefix)/bin
mksquashfs: $(MKSQUASHFS)

$(hostprefix)/bin/mksquashfs: $(archivedir)/squashfs3.0.tar.gz Patches/mksquashfs_lzma.patch $(archivedir)/lzma442.tar.bz2 Patches/mksquashfs_lzma_zlib-stream.patch 
	rm -rf mksquashfs
	mkdir -p mksquashfs
	cd mksquashfs && \
	bunzip2 -cd $(archivedir)/lzma465.tar.bz2 | TAPE=- tar -x && \
	gunzip -cd $(archivedir)/squashfs4.0.tar.gz | TAPE=- tar -x && \
	cd squashfs4.0/squashfs-tools && patch -p1 < $(buildprefix)/Patches/squashfs-tools-4.0-lzma.patch
	$(MAKE) -C mksquashfs/squashfs4.0/squashfs-tools
	$(INSTALL) -d $(@D)
	$(INSTALL) -m755 mksquashfs/squashfs4.0/squashfs-tools/mksquashfs $@
	$(INSTALL) -m755 mksquashfs/squashfs4.0/squashfs-tools/unsquashfs $(@D)
#	rm -rf mksquashfs
$(D)/host_u_boot_tools: $(archivedir)/stlinux24-host-u-boot-tools-1.3.1_stm24-9.i386.rpm 
	( rm -rf host-u-boot-tools-1.3.1 || /bin/true ) && ( mkdir host-u-boot-tools-1.3.1 || /bin/true ) && ( cd host-u-boot-tools-1.3.1; rpm2cpio $(archivedir)/stlinux24-host-u-boot-tools-1.3.1_stm24-9.i386.rpm | cpio --extract --unconditional --preserve-modification-time --make-directories --no-absolute-filenames )
	cp -Ppr host-u-boot-tools-1.3.1/opt/STM/STLinux-2.4/host/bin/* $(hostprefix)/bin
	rm -rf host-u-boot-tools-1.3.1
	touch $@

tfinstaller:
	$(MAKE) $(MAKE_OPTS) -C tfinstaller

$(TFINSTALLER_DIR)/u-boot.ftfd: u-boot-1.3.1/u-boot.bin $(TFINSTALLER_DIR)/tfpacker
	$(TFINSTALLER_DIR)/tfpacker $< $@
	$(TFINSTALLER_DIR)/tfpacker -t $< $(@D)/Enigma_Installer.tfd
	rm -rf u-boot-1.3.1

$(TFINSTALLER_DIR)/tfpacker:
	$(MAKE) -C $(TFINSTALLER_DIR) tfpacker

$(D)/uboot_tf7700: bootstrap $(archivedir)/u-boot-1.3.1.tar.bz2 
	( rm -rf u-boot-1.3.1 || /bin/true ) && bunzip2 -cd $(archivedir)/u-boot-1.3.1.tar.bz2 | TAPE=- tar -x && ( cd u-boot-1.3.1 && chmod +w -R .; patch -p1 < ../Patches/u-boot-1.3.1.patch ) && ( cd u-boot-1.3.1 && chmod +w -R .; patch -p1 < ../Patches/u-boot-1.3.1_stm23_0043_tf7700.patch )
	cd u-boot-1.3.1 && \
		$(MAKE) tf7700_config && \
		$(MAKE)
#	rm -rf u-boot-1.3.1
	touch $@

#Trick: ich haue mal das kopieren von /boot mal hier rein. ist fuer m82 und m84
$(D)/boot-elf:
	$(INSTALL_DIR) $(targetprefix)/boot
	for elf in video_7109.elf video_7100.elf video_7111.elf video_7105.elf audio.elf audio_7111.elf audio_7105.elf \
	;do \
		if [ -e $(buildprefix)/root/boot/$$elf ] ; then \
			cp $(buildprefix)/root/boot/$$elf $(targetprefix)/boot/ ; \
		else \
			touch $(targetprefix)/boot/$$elf; \
		fi; \
	done
	$(INSTALL_DIR) $(targetprefix)/lib/firmware
	cp $(buildprefix)/root/firmware/*.fw $(targetprefix)/lib/firmware/
	touch $@

$(D)/misc-cp:
	cp $(buildprefix)/root/sbin/hotplug $(targetprefix)/sbin
	cp $(buildprefix)/root/etc/$(LIRCD_CONF) $(targetprefix)/etc/lircd.conf
	cp -rd $(buildprefix)/root/etc/hotplug $(targetprefix)/etc
	cp -rd $(buildprefix)/root/etc/hotplug.d $(targetprefix)/etc
	touch $@

$(D)/misc-e2:
	$(INSTALL_DIR) $(targetprefix)/media/hdd
	$(INSTALL_DIR) $(targetprefix)/media/dvd
	$(INSTALL_DIR) $(targetprefix)/hdd
	$(INSTALL_DIR) $(targetprefix)/hdd/music
	$(INSTALL_DIR) $(targetprefix)/hdd/picture
	$(INSTALL_DIR) $(targetprefix)/hdd/movie
	touch $@

#
# DIVERSE STUFF / TOOLS
#
$(D)/diverse-tools: $(DIVERSE_TOOLS_ADAPTED_ETC_FILES:%=root/etc/%)
	( cd root/etc && for i in $(DIVERSE_TOOLS_ADAPTED_ETC_FILES); do \
		[ -f $$i ] && $(INSTALL) -m644 $$i $(prefix)/$*cdkroot/etc/$$i || true; \
		[ "$${i%%/*}" = "init.d" ] && chmod 755 $(prefix)/$*cdkroot/etc/$$i || true; done ) && \
	( cd root/etc && for i in $(SYSVINIT_ADAPTED_ETC_FILES); do \
		[ -f $$i ] && $(INSTALL) -m644 $$i $(prefix)/$*cdkroot/etc/$$i || true; \
		[ "$${i%%/*}" = "init.d" ] && chmod 755 $(prefix)/$*cdkroot/etc/$$i || true; done ) && \
	( cd root/etc && for i in $(INITSCRIPTS_ADAPTED_ETC_FILES); do \
		[ -f $$i ] && $(INSTALL) -m644 $$i $(prefix)/$*cdkroot/etc/$$i || true; \
		[ "$${i%%/*}" = "init.d" ] && chmod 755 $(prefix)/$*cdkroot/etc/$$i || true; done ) || true && \
	( cd root/etc && for i in $(BASE_FILES_ADAPTED_ETC_FILES); do \
		[ -f $$i ] && $(INSTALL) -m644 $$i $(prefix)/$*cdkroot/etc/$$i || true; \
		[ "$${i%%/*}" = "init.d" ] && chmod 755 $(prefix)/$*cdkroot/etc/$$i || true; done ) && \
	( cd root/etc && for i in $(NETBASE_ADAPTED_ETC_FILES); do \
		[ -f $$i ] && $(INSTALL) -m644 $$i $(prefix)/$*cdkroot/etc/$$i || true; \
		[ "$${i%%/*}" = "init.d" ] && chmod 755 $(prefix)/$*cdkroot/etc/$$i || true; done ) && \
	ln -sf /usr/share/zoneinfo/CET $(prefix)/$*cdkroot/etc/localtime
	touch $@
#ETC_RW_FILES +=

#
# Functions for copying customized etc files from cdk/root/etc into yaud targets and
# for updating init scripts in runlevel for yaud targets
#
define adapted-etc-files
	cd root/etc && \
	for i in $(1); do \
		[ -f $$i ] && $(INSTALL) -m644 $$i $(prefix)/$*cdkroot/etc/$$i || true; \
		[ "$${i%%/*}" = "init.d" ] && chmod 755 $(prefix)/$*cdkroot/etc/$$i || true; \
	done
endef

define initdconfig
	export HHL_CROSS_TARGET_DIR=$(prefix)/$*cdkroot && \
	cd $(prefix)/$*cdkroot/etc/init.d && \
		for s in $(1) ; do \
			$(hostprefix)/bin/target-initdconfig --add $$s || echo "Unable to enable initd service: $$s" ; \
		done && \
		rm *rpmsave 2>/dev/null || true
endef

#
# busybox
#
$(D)/busybox: $(D)/bootstrap $(archivedir)/busybox-1.24.1.tar.bz2  $(buildprefix)/Patches/busybox.config$(if $(UFS912)$(UFS913)$(SPARK)$(SPARK7162),_nandwrite)
	( rm -rf busybox-1.24.1 || /bin/true ) && bunzip2 -cd $(archivedir)/busybox-1.24.1.tar.bz2 | TAPE=- tar -x
	cd busybox-1.24.1 && \
		patch -p1 < $(PATCHES)/busybox-1.24.1-ifupdown.patch && \
		patch -p1 < $(PATCHES)/busybox-1.24.1-unicode.patch && \
		patch -p1 < $(PATCHES)/busybox-1.24.1-extra.patch && \
		$(INSTALL) -m644 $(lastword $^) .config && \
		sed -i -e 's#^CONFIG_PREFIX.*#CONFIG_PREFIX="$(targetprefix)"#' .config
	cd busybox-1.24.1 && \
		export CROSS_COMPILE=$(target)- && \
		$(MAKE) all \
			CROSS_COMPILE=$(target)- \
			CONFIG_EXTRA_CFLAGS="$(TARGET_CFLAGS)" \
		&& \
		$(MAKE) install CONFIG_PREFIX=$(targetprefix)
#	rm -rf busybox-1.24.1
	touch $@

#
# libncurses
#
$(D)/libncurses: $(D)/bootstrap $(archivedir)/ncurses-5.9.tar.gz 
	( rm -rf ncurses-5.9 || /bin/true ) && gunzip -cd $(archivedir)/ncurses-5.9.tar.gz | TAPE=- tar -x
	cd ncurses-5.9 && \
		$(CONFIGURE) \
			--target=$(target) \
			--prefix=/usr \
			--with-terminfo-dirs=/usr/share/terminfo \
			--with-pkg-config=/usr/lib/pkgconfig \
			--with-shared \
			--without-cxx \
			--without-cxx-binding \
			--without-ada \
			--without-progs \
			--without-tests \
			--disable-big-core \
			--without-profile \
			--disable-rpath \
			--disable-rpath-hack \
			--enable-echo \
			--enable-const \
			--enable-overwrite \
			--enable-pc-files \
			--without-manpages \
			--with-fallbacks='linux vt100 xterm' \
			--with-build-cppflags=-D_XOPEN_SOURCE \
			--enable-widec \
		&& \
		$(MAKE) libs \
			HOSTCC=gcc \
			HOSTCCFLAGS="$(CFLAGS) -DHAVE_CONFIG_H -I../ncurses -DNDEBUG -D_GNU_SOURCE -I../include" \
			HOSTLDFLAGS="$(LDFLAGS)" && \
		sed -e 's,^prefix="/usr",prefix="$(targetprefix)/usr",' < misc/ncurses-config > $(hostprefix)/bin/ncurses5-config && \
		chmod 755 $(hostprefix)/bin/ncurses5-config && \
		$(MAKE) install.libs DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/form.pc $(targetprefix)/usr/lib/pkgconfig/menu.pc $(targetprefix)/usr/lib/pkgconfig/ncurses.pc $(targetprefix)/usr/lib/pkgconfig/panel.pc
		rm -f $(targetprefix)/usr/bin/ncurses5-config
	rm -rf ncurses-5.9
	touch $@

#
# openssl_e2
#
$(D)/openssl_e2: $(D)/bootstrap $(archivedir)/openssl-1.0.2d.tar.gz 
	( rm -rf openssl-1.0.2d || /bin/true ) && gunzip -cd $(archivedir)/openssl-1.0.2d.tar.gz | TAPE=- tar -x && ( cd openssl-1.0.2d && chmod +w -R .; patch -p1 < ../Patches/openssl-1.0.2.patch )
	cd openssl-1.0.2d && \
		$(BUILDENV) \
		./Configure -DL_ENDIAN shared no-hw no-engine linux-generic32 \
			--prefix=/usr \
			--openssldir=/etc/ssl \
			--openssldir=/.remove \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libcrypto.pc libssl.pc openssl.pc && $(MAKE) install_sw INSTALL_PREFIX=$(targetprefix)
	rm -rf openssl-1.0.2d
	touch $@

#
# openssl
#
$(D)/openssl: $(D)/bootstrap $(archivedir)/openssl-0.9.8zf.tar.gz 
	( rm -rf openssl-0.9.8zf || /bin/true ) && gunzip -cd $(archivedir)/openssl-0.9.8zf.tar.gz | TAPE=- tar -x && ( cd openssl-0.9.8zf && chmod +w -R .; patch -p1 < ../Patches/openssl-0.9.8.patch ) && ( cd openssl-0.9.8zf && chmod +w -R .; patch -p1 < ../Patches/openssl-0.9.8-parallel-build.patch )
	cd openssl-0.9.8zf && \
		$(BUILDENV) \
		./Configure shared linux-sh no-hw \
			--prefix=/usr \
			--openssldir=/.remove \
		&& \
		$(MAKE) depend && \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libcrypto.pc libssl.pc openssl.pc && $(MAKE) install_sw INSTALL_PREFIX=$(targetprefix)
	rm -rf openssl-0.9.8zf
	touch $@

#
# libbluray
#
$(D)/libbluray: $(D)/bootstrap $(archivedir)/libbluray-0.5.0.tar.bz2 
	( rm -rf libbluray-0.5.0 || /bin/true ) && bunzip2 -cd $(archivedir)/libbluray-0.5.0.tar.bz2 | TAPE=- tar -x && ( cd libbluray-0.5.0 && chmod +w -R .; patch -p1 < ../Patches/libbluray.patch )
	cd libbluray-0.5.0 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--without-libxml2 \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," src/libbluray.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libbluray.la
	rm -rf libbluray-0.5.0
	touch $@

#
# lua
#
$(D)/lua: $(D)/bootstrap $(D)/libncurses $(archivedir)/luaposix.git $(archivedir)/lua-5.2.3.tar.gz 
	( rm -rf lua-5.2.3 || /bin/true ) && gunzip -cd $(archivedir)/lua-5.2.3.tar.gz | TAPE=- tar -x && ( cd lua-5.2.3 && chmod +w -R .; patch -p1 < ../Patches/lua-5.2.3-luaposix-31.patch )
	cd lua-5.2.3 && \
		cp -r $(archivedir)/luaposix.git .; \
		cd luaposix.git/ext; cp posix/posix.c include/lua52compat.h ../../src/; cd ../..; \
		sed -i 's/<config.h>/"config.h"/' src/posix.c; \
		sed -i '/^#define/d' src/lua52compat.h; \
		sed -i 's|man/man1|.remove|' Makefile; \
		$(MAKE) linux CC=$(target)-gcc LDFLAGS="-L$(targetprefix)/usr/lib" BUILDMODE=dynamic PKG_VERSION=5.2.3 && \
		$(MAKE) install INSTALL_TOP=$(targetprefix)/usr
	rm -rf lua-5.2.3
	touch $@

#
# luacurl
#
$(D)/luacurl: $(D)/bootstrap $(D)/libcurl $(D)/lua $(archivedir)/luacurl.git 
	( rm -rf luacurl-v3 || /bin/true ) && (rm -rf luacurl-v3; cp -a $(archivedir)/luacurl.git luacurl-v3)
	[ -d "$(archivedir)/luacurl.git" ] && \
	(cd $(archivedir)/luacurl.git; git pull; cd "$(buildprefix)";); \
	cd luacurl-v3 && \
		$(MAKE) CC=$(target)-gcc LDFLAGS="-L$(targetprefix)/usr/lib" \
			LIBDIR=$(targetprefix)/usr/lib \
			LUA_INC=$(targetprefix)/usr/include \
		&& \
		$(MAKE) install DESTDIR=$(targetprefix) LUA_CMOD=/usr/lib/lua/5.2 LUA_LMOD=/usr/share/lua/5.2
	rm -rf luacurl-v3
	touch $@

#
# luaexpat
#
$(D)/luaexpat: $(D)/bootstrap $(D)/lua $(D)/libexpat $(archivedir)/luaexpat-1.3.0.tar.gz 
	( rm -rf luaexpat-1.3.0 || /bin/true ) && gunzip -cd $(archivedir)/luaexpat-1.3.0.tar.gz | TAPE=- tar -x && ( cd luaexpat-1.3.0 && chmod +w -R .; patch -p1 < ../Patches/luaexpat-1.3.0.patch )
	cd luaexpat-1.3.0 && \
		$(MAKE) CC=$(target)-gcc LDFLAGS="-L$(targetprefix)/usr/lib" PREFIX=$(targetprefix)/usr && \
		$(MAKE) install DESTDIR=$(targetprefix)/usr
	rm -rf luaexpat-1.3.0
	touch $@

#
# libao
#
$(D)/libao: $(D)/bootstrap $(archivedir)/libao-1.1.0.tar.gz 
	( rm -rf libao-1.1.0 || /bin/true ) && gunzip -cd $(archivedir)/libao-1.1.0.tar.gz | TAPE=- tar -x
	cd libao-1.1.0 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libao.pc && $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libao.la $(targetprefix)/usr/lib/libao.la
	rm -rf libao-1.1.0
	touch $@

#
# howl
#
$(D)/howl: $(D)/bootstrap $(archivedir)/howl-1.0.0.tar.gz 
	( rm -rf howl-1.0.0 || /bin/true ) && gunzip -cd $(archivedir)/howl-1.0.0.tar.gz | TAPE=- tar -x
	cd howl-1.0.0 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," howl.pc && $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libhowl.la $(targetprefix)/usr/lib/libhowl.la
	rm -rf howl-1.0.0
	touch $@

#
# libboost
#
$(D)/libboost: $(D)/bootstrap $(archivedir)/boost_1_53_0.tar.bz2 
	( rm -rf boost_1_53_0 || /bin/true ) && bunzip2 -cd $(archivedir)/boost_1_53_0.tar.bz2 | TAPE=- tar -x && ( cd boost_1_53_0 && chmod +w -R .; patch -p1 < ../Patches/libboost.patch )
	cd boost_1_53_0 && \
		rm -rf $(targetprefix)/include/boost && mv boost $(targetprefix)/usr/include/boost
	rm -rf boost_1_53_0
	touch $@

#
# zlib
#
$(D)/zlib: $(D)/bootstrap $(archivedir)/zlib-1.2.8.tar.gz 
	( rm -rf zlib-1.2.8 || /bin/true ) && gunzip -cd $(archivedir)/zlib-1.2.8.tar.gz | TAPE=- tar -x && ( cd zlib-1.2.8 && chmod +w -R .; patch -p1 < ../Patches/zlib-1.2.8.patch )
	cd zlib-1.2.8 && \
		CC=$(target)-gcc CFLAGS="$(TARGET_CFLAGS)" \
		./configure \
			--prefix=/usr \
			--shared \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," zlib.pc && $(MAKE) install prefix=$(targetprefix)/usr
	rm -rf zlib-1.2.8
	touch $@

#
# bzip2
#
$(D)/bzip2: $(D)/bootstrap $(archivedir)/bzip2-1.0.6.tar.gz Patches/bzip2.patch 
	( rm -rf bzip2-1.0.6 || /bin/true ) && gunzip -cd $(archivedir)/bzip2-1.0.6.tar.gz | TAPE=- tar -x && ( cd bzip2-1.0.6 && chmod +w -R .; patch -p1 < ../Patches/bzip2.patch )
	cd bzip2-1.0.6 && \
	mv Makefile-libbz2_so Makefile && \
		CC=$(target)-gcc AR=$(target)-ar RANLIB=$(target)-ranlib \
		$(MAKE) all && \
		$(MAKE) install PREFIX=$(targetprefix)/usr
	rm -rf bzip2-1.0.6
	touch $@

#
# libreadline
#
$(D)/libreadline: $(D)/bootstrap $(archivedir)/readline-6.2.tar.gz 
	( rm -rf readline-6.2 || /bin/true ) && gunzip -cd $(archivedir)/readline-6.2.tar.gz | TAPE=- tar -x
	cd readline-6.2 && \
		autoconf && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			bash_cv_must_reinstall_sighandlers=no \
			bash_cv_func_sigsetjmp=present \
			bash_cv_func_strcoll_broken=no \
			bash_cv_have_mbstate_t=yes \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf readline-6.2
	touch $@

#
# libfreetype
#
$(D)/libfreetype: $(D)/bootstrap $(D)/zlib $(D)/bzip2 $(D)/libpng $(archivedir)/freetype-2.6.tar.bz2 
	( rm -rf freetype-2.6 || /bin/true ) && bunzip2 -cd $(archivedir)/freetype-2.6.tar.bz2 | TAPE=- tar -x
	cd freetype-2.6 && \
		sed -i  -e "/AUX.*.gxvalid/s@^# @@" \
			-e "/AUX.*.otvalid/s@^# @@" \
			modules.cfg && \
		sed -ri -e 's:.*(#.*SUBPIXEL.*) .*:\1:' include/config/ftoption.h && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=$(targetprefix)/usr \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," builds/unix/freetype2.pc && $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfreetype.la
		if [ ! -e $(targetprefix)/usr/include/freetype ] ; then \
			ln -sf freetype2 $(targetprefix)/usr/include/freetype; \
		fi; \
		mv $(targetprefix)/usr/bin/freetype-config $(hostprefix)/bin/freetype-config
	rm -rf freetype-2.6
	touch $@
$(D)/lirc: $(D)/bootstrap $(archivedir)/lirc-0.9.0.tar.gz Patches/lirc-0.9.0.patch 
	( rm -rf lirc-0.9.0 || /bin/true ) && gunzip -cd $(archivedir)/lirc-0.9.0.tar.gz | TAPE=- tar -x && ( cd lirc-0.9.0 && chmod +w -R .; patch -p1 < ../Patches/lirc-0.9.0.patch )
	cd lirc-0.9.0 && \
		$(CONFIGURE) \
		ac_cv_path_LIBUSB_CONFIG= \
		CFLAGS="$(TARGET_CFLAGS) $(LIRC_OPTS)" \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--with-kerneldir=$(buildprefix)/$(KERNEL_DIR) \
			--without-x \
			--with-devdir=/dev \
			--with-moduledir=/lib/modules \
			--with-major=61 \
			--with-driver=userspace \
			--enable-debug \
			--with-syslog=LOG_DAEMON \
			--enable-sandboxed \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/liblirc_client.la
	rm -rf lirc-0.9.0
	touch $@

#
# libjpeg
#
$(D)/libjpeg: $(D)/bootstrap $(archivedir)/jpegsrc.v8d.tar.gz Patches/jpeg.patch 
	( rm -rf jpeg-8d || /bin/true ) && gunzip -cd $(archivedir)/jpegsrc.v8d.tar.gz | TAPE=- tar -x && ( cd jpeg-8d && chmod +w -R .; patch -p1 < ../Patches/jpeg.patch )
	cd jpeg-8d && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libjpeg.la
	rm -rf jpeg-8d
	touch $@

#
# libjpeg_turbo
#
$(D)/libjpeg_turbo: $(D)/bootstrap $(archivedir)/libjpeg-turbo-1.4.0.tar.gz 
	( rm -rf libjpeg-turbo-1.4.0 || /bin/true ) && gunzip -cd $(archivedir)/libjpeg-turbo-1.4.0.tar.gz | TAPE=- tar -x
	cd libjpeg-turbo-1.4.0 && \
		export CC=$(target)-gcc && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--enable-shared \
			--disable-static \
			--with-jpeg8 \
			--mandir=/.remove \
			--bindir=/.remove \
			--prefix=/usr \
			&& \
		$(MAKE) && \
		$(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libjpeg.la
	cd libjpeg-turbo-1.4.0 && \
		make clean && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--enable-shared \
			--disable-static \
			--mandir=/.remove \
			--bindir=/.remove \
			--prefix=/usr \
			&& \
		$(MAKE) && \
		$(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libjpeg.la
	rm -rf libjpeg-turbo-1.4.0
	touch $@

#
# libpng12
#
$(D)/libpng12: $(D)/bootstrap $(archivedir)/libpng-1.2.50.tar.bz2 
	( rm -rf libpng-1.2.50 || /bin/true ) && bunzip2 -cd $(archivedir)/libpng-1.2.50.tar.bz2 | TAPE=- tar -x
	cd libpng-1.2.50 && \
		$(CONFIGURE) \
			--prefix=$(targetprefix)/usr \
			--mandir=$(targetprefix)/.remove \
			--bindir=$(hostprefix)/bin \
		&& \
		ECHO=echo $(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libpng16.pc && $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libpng.la $(targetprefix)/usr/lib/libpng16.la
	rm -rf libpng-1.2.50
	touch $@

#
# libpng
#
$(D)/libpng: $(D)/bootstrap $(D)/zlib $(archivedir)/libpng-1.6.18.tar.gz 
	( rm -rf libpng-1.6.18 || /bin/true ) && gunzip -cd $(archivedir)/libpng-1.6.18.tar.gz | TAPE=- tar -x
	cd libpng-1.6.18 && \
		$(CONFIGURE) \
			--prefix=$(targetprefix)/usr \
			--mandir=$(targetprefix)/.remove \
			--bindir=$(hostprefix)/bin \
		&& \
		ECHO=echo $(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libpng16.pc && $(MAKE) install prefix=$(targetprefix)/usr && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libpng.la $(targetprefix)/usr/lib/libpng16.la
	rm -rf libpng-1.6.18
	touch $@

#
# libungif
#
$(D)/libungif: $(D)/bootstrap $(archivedir)/libungif-4.1.4.tar.bz2 
	( rm -rf libungif-4.1.4 || /bin/true ) && bunzip2 -cd $(archivedir)/libungif-4.1.4.tar.bz2 | TAPE=- tar -x
	cd libungif-4.1.4 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--bindir=/.remove \
			--without-x \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libungif.la
	rm -rf libungif-4.1.4
	touch $@

#
# libgif
#
$(D)/libgif: $(D)/bootstrap $(archivedir)/giflib-5.0.6.tar.bz2 
	( rm -rf giflib-5.0.6 || /bin/true ) && bunzip2 -cd $(archivedir)/giflib-5.0.6.tar.bz2 | TAPE=- tar -x
	cd giflib-5.0.6 && \
		export ac_cv_prog_have_xmlto=no && \
		$(CONFIGURE) \
			--prefix=/usr \
			--bindir=/.remove \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgif.la
	rm -rf giflib-5.0.6
	touch $@

#
# libgif_e2
#
$(D)/libgif_e2: $(D)/bootstrap $(archivedir)/giflib-4.1.6.tar.bz2 
	( rm -rf giflib-4.1.6 || /bin/true ) && bunzip2 -cd $(archivedir)/giflib-4.1.6.tar.bz2 | TAPE=- tar -x
	cd giflib-4.1.6 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--without-x \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgif.la
	rm -rf giflib-4.1.6
	touch $@

#
# libcurl
#
$(D)/libcurl: $(D)/bootstrap $(OPENSSL) $(D)/zlib $(archivedir)/curl-7.44.0.tar.bz2 
	( rm -rf curl-7.44.0 || /bin/true ) && bunzip2 -cd $(archivedir)/curl-7.44.0.tar.bz2 | TAPE=- tar -x && ( cd curl-7.44.0 && chmod +w -R .; patch -p1 < ../Patches/libcurl-7.44.0.patch )
	cd curl-7.44.0 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--enable-silent-rules \
			--disable-debug \
			--disable-curldebug \
			--disable-manual \
			--disable-file \
			--disable-rtsp \
			--disable-dict \
			--disable-imap \
			--disable-pop3 \
			--disable-smtp \
			--enable-shared \
			--with-random \
			--with-ssl=$(targetprefix) \
			--mandir=/.remove \
		&& \
		$(MAKE) all && \
		sed -e "s,^prefix=,prefix=$(targetprefix)," < curl-config > $(hostprefix)/bin/curl-config && \
		chmod 755 $(hostprefix)/bin/curl-config && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libcurl.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libcurl.la
		rm -f $(targetprefix)/usr/bin/curl-config
	rm -rf curl-7.44.0
	touch $@

#
# libfribidi
#
$(D)/libfribidi: $(D)/bootstrap $(archivedir)/fribidi-0.19.7.tar.bz2 
	( rm -rf fribidi-0.19.7 || /bin/true ) && bunzip2 -cd $(archivedir)/fribidi-0.19.7.tar.bz2 | TAPE=- tar -x
	cd fribidi-0.19.7 && \
		$(CONFIGURE) \
			--disable-shared \
			--enable-static \
			--disable-debug \
			--disable-deprecated \
			--enable-malloc \
			--enable-charsets \
			--without-glib \
			--prefix=/usr \
			--mandir=/.remove \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/fribidi.pc && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfribidi.la
	rm -rf fribidi-0.19.7
	touch $@

#
# libsigc_e2
#
$(D)/libsigc_e2: $(D)/bootstrap $(archivedir)/libsigc++-1.2.7.tar.gz 
	( rm -rf libsigc++-1.2.7 || /bin/true ) && gunzip -cd $(archivedir)/libsigc++-1.2.7.tar.gz | TAPE=- tar -x
	cd libsigc++-1.2.7 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-checks \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," sigc++-1.2.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libsigc-1.2.la
	rm -rf libsigc++-1.2.7
	touch $@

#
# libsigc
#
$(D)/libsigc: $(D)/bootstrap $(archivedir)/libsigc++-2.3.2.tar.xz 
	( rm -rf libsigc++-2.3.2 || /bin/true ) && tar -xpf $(archivedir)/libsigc++-2.3.2.tar.xz
	cd libsigc++-2.3.2 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--enable-shared \
			--disable-documentation \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," sigc++-2.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libsigc-2.0.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libsigc-2.0.la
		if [ -d $(targetprefix)/usr/include/sigc++-2.0/sigc++ ] ; then \
			ln -sf ./sigc++-2.0/sigc++ $(targetprefix)/usr/include/sigc++; \
		fi;
		mv $(targetprefix)/usr/lib/sigc++-2.0/include/sigc++config.h $(targetprefix)/usr/include
	rm -rf libsigc++-2.3.2
	touch $@

#
# libmad
#
$(D)/libmad: $(D)/bootstrap $(archivedir)/libmad-0.15.1b.tar.gz Patches/libmad.patch 
	( rm -rf libmad-0.15.1b || /bin/true ) && gunzip -cd $(archivedir)/libmad-0.15.1b.tar.gz | TAPE=- tar -x && ( cd libmad-0.15.1b && chmod +w -R .; patch -p1 < ../Patches/libmad.patch )
	cd libmad-0.15.1b && \
		touch NEWS AUTHORS ChangeLog && \
		autoreconf -fi && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-debugging \
			--enable-shared=yes \
			--enable-speed \
			--enable-sso \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," mad.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libmad.la
	rm -rf libmad-0.15.1b
	touch $@

#
# libid3tag
#
$(D)/libid3tag: $(D)/bootstrap $(D)/zlib $(archivedir)/libid3tag-0.15.1b.tar.gz Patches/libid3tag.patch 
	( rm -rf libid3tag-0.15.1b || /bin/true ) && gunzip -cd $(archivedir)/libid3tag-0.15.1b.tar.gz | TAPE=- tar -x && ( cd libid3tag-0.15.1b && chmod +w -R .; patch -p1 < ../Patches/libid3tag.patch )
	cd libid3tag-0.15.1b && \
		touch NEWS AUTHORS ChangeLog && \
		autoreconf -fi && \
		$(CONFIGURE) \
			--prefix=/usr \
			--enable-shared=yes \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," id3tag.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libid3tag.la
	rm -rf libid3tag-0.15.1b
	touch $@

#
# libvorbis
#
$(D)/libvorbis: $(D)/bootstrap $(D)/libogg $(archivedir)/libvorbis-1.3.4.tar.gz 
	( rm -rf libvorbis-1.3.4 || /bin/true ) && gunzip -cd $(archivedir)/libvorbis-1.3.4.tar.gz | TAPE=- tar -x && ( cd libvorbis-1.3.4 && chmod +w -R .; patch -p1 < ../Patches/libvorbis-1.3.4-nodoc.patch )
	cd libvorbis-1.3.4 && \
		$(CONFIGURE) \
			--prefix=$(targetprefix)/usr \
			--disable-docs \
			--disable-examples \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," vorbis.pc vorbisenc.pc vorbisfile.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libvorbis.la $(targetprefix)/usr/lib/libvorbisenc.la $(targetprefix)/usr/lib/libvorbisfile.la
	rm -rf libvorbis-1.3.4
	touch $@

#
# libvorbisidec
#
$(D)/libvorbisidec: $(D)/bootstrap $(D)/libogg $(archivedir)/libvorbisidec_1.0.2+svn18153.orig.tar.gz Patches/tremor.patch 
	( rm -rf libvorbisidec-1.0.2+svn18153 || /bin/true ) && gunzip -cd $(archivedir)/libvorbisidec_1.0.2+svn18153.orig.tar.gz | TAPE=- tar -x && ( cd libvorbisidec-1.0.2+svn18153 && chmod +w -R .; patch -p1 < ../Patches/tremor.patch )
	cd libvorbisidec-1.0.2+svn18153 && \
		ACLOCAL_FLAGS="-I . -I $(targetprefix)/usr/share/aclocal" \
		$(BUILDENV) ./autogen.sh $(CONFIGURE_OPTS) --prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix) && $(INSTALL) -m644 vorbisidec.pc $(targetprefix)/usr/lib/pkgconfig && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/vorbisidec.pc && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libvorbisidec.la
	rm -rf libvorbisidec-1.0.2+svn18153
	touch $@

#
# libdca
#
$(D)/libdca: $(D)/bootstrap $(archivedir)/libdca-0.0.5.tar.bz2 
	( rm -rf libdca-0.0.5 || /bin/true ) && bunzip2 -cd $(archivedir)/libdca-0.0.5.tar.bz2 | TAPE=- tar -x
	cd libdca-0.0.5 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libdca/libdca.pc libdca/libdts.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdca.la
	rm -rf libdca-0.0.5
	touch $@

#
# libffi
#
$(D)/libffi: $(D)/bootstrap $(archivedir)/libffi-3.2.1.tar.gz 
	( rm -rf libffi-3.2.1 || /bin/true ) && gunzip -cd $(archivedir)/libffi-3.2.1.tar.gz | TAPE=- tar -x && ( cd libffi-3.2.1 && chmod +w -R .; patch -p1 < ../Patches/libffi-3.1.patch )
	cd libffi-3.2.1 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-static \
			--enable-builddir=libffi \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libffi/libffi.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libffi.la
	rm -rf libffi-3.2.1
	touch $@

#
# orc
#
$(D)/orc: $(D)/bootstrap $(archivedir)/orc-0.4.24.tar.xz 
	( rm -rf orc-0.4.24 || /bin/true ) && tar -xpf $(archivedir)/orc-0.4.24.tar.xz
	cd orc-0.4.24 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," orc-0.4.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/liborc-0.4.la $(targetprefix)/usr/lib/liborc-test-0.4.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/liborc-test-0.4.la
	rm -rf orc-0.4.24
	touch $@

#
# libglib2
# You need libglib2.0-dev on host system
#
$(D)/glib2: $(D)/bootstrap $(D)/host_glib2_genmarshal $(D)/zlib $(D)/libffi $(archivedir)/glib-2.45.4.tar.xz 
	( rm -rf glib-2.45.4 || /bin/true ) && tar -xpf $(archivedir)/glib-2.45.4.tar.xz
	echo "glib_cv_va_copy=no" > glib-2.45.4/config.cache
	echo "glib_cv___va_copy=yes" >> glib-2.45.4/config.cache
	echo "glib_cv_va_val_copy=yes" >> glib-2.45.4/config.cache
	echo "ac_cv_func_posix_getpwuid_r=yes" >> glib-2.45.4/config.cache
	echo "ac_cv_func_posix_getgrgid_r=yes" >> glib-2.45.4/config.cache
	echo "glib_cv_stack_grows=no" >> glib-2.45.4/config.cache
	echo "glib_cv_uscore=no" >> glib-2.45.4/config.cache
	cd glib-2.45.4 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--cache-file=config.cache \
			--disable-gtk-doc \
			--with-threads="posix" \
			--enable-static \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," glib-2.0.pc gmodule-2.0.pc gio-2.0.pc gio-unix-2.0.pc gmodule-export-2.0.pc gmodule-no-export-2.0.pc gobject-2.0.pc gthread-2.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libglib-2.0.la $(targetprefix)/usr/lib/libgmodule-2.0.la $(targetprefix)/usr/lib/libgio-2.0.la $(targetprefix)/usr/lib/libgobject-2.0.la $(targetprefix)/usr/lib/libgthread-2.0.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libgmodule-2.0.la $(targetprefix)/usr/lib/libgio-2.0.la $(targetprefix)/usr/lib/libgobject-2.0.la $(targetprefix)/usr/lib/libgthread-2.0.la
	rm -rf glib-2.45.4
	touch $@

#
# libiconv
#
$(D)/libiconv: $(D)/bootstrap $(archivedir)/libiconv-1.14.tar.gz 
	( rm -rf libiconv-1.14 || /bin/true ) && gunzip -cd $(archivedir)/libiconv-1.14.tar.gz | TAPE=- tar -x
	cd libiconv-1.14 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--target=$(target) \
			--enable-static \
			--disable-shared \
			--datarootdir=/.remove \
			--bindir=/.remove \
		&& \
		$(MAKE) && \
		cp ./srcm4/* $(hostprefix)/share/aclocal/ && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libiconv.la
	rm -rf libiconv-1.14
	touch $@

#
# libmng
#
$(D)/libmng: $(D)/bootstrap $(D)/libjpeg $(D)/lcms $(archivedir)/libmng-1.0.10.tar.bz2 
	( rm -rf libmng-1.0.10 || /bin/true ) && bunzip2 -cd $(archivedir)/libmng-1.0.10.tar.bz2 | TAPE=- tar -x
	cd libmng-1.0.10 && \
		cat unmaintained/autogen.sh | tr -d \\r > autogen.sh && chmod 755 autogen.sh && \
		[ ! -x ./configure ] && ./autogen.sh --help || true && \
		$(BUILDENV) \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--enable-shared \
			--enable-static \
			--with-zlib \
			--with-jpeg \
			--with-gnu-ld \
			--with-lcms \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libmng.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libmng.la
	rm -rf libmng-1.0.10
	touch $@

#
# lcms
#
$(D)/lcms: $(D)/bootstrap $(D)/libjpeg $(archivedir)/lcms-1.17.tar.gz Patches/lcms.patch 
	( rm -rf lcms-1.17 || /bin/true ) && gunzip -cd $(archivedir)/lcms-1.17.tar.gz | TAPE=- tar -x && ( cd lcms-1.17 && chmod +w -R .; patch -p1 < ../Patches/lcms.patch )
	cd lcms-1.17 && \
		$(BUILDENV) \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--enable-shared \
			--enable-static \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/liblcms.la
	rm -rf lcms-1.17
	touch $@

#
# directfb
#
$(D)/directfb: $(D)/bootstrap $(D)/libfreetype $(archivedir)/DirectFB-1.4.11.tar.gz 
	( rm -rf DirectFB-1.4.11 || /bin/true ) && gunzip -cd $(archivedir)/DirectFB-1.4.11.tar.gz | TAPE=- tar -x && ( cd DirectFB-1.4.11 && chmod +w -R .; patch -p1 < ../Patches/directfb-1.4.11+STM2010.12.15-4.patch ) && ( cd DirectFB-1.4.11 && chmod +w -R .; patch -p1 < ../Patches/directfb-1.4.11+STM2010.12.15-4.no-vt.patch ) && ( cd DirectFB-1.4.11 && chmod +w -R .; patch -p1 < ../Patches/directfb-1.4.11+STM2010.12.15-4.libpng.patch ) && ( cd DirectFB-1.4.11 && chmod +w -R .; patch -p1 < ../Patches/directfb-1.4.11+STM2010.12.15-4.enigma2remote.patch )
	cd DirectFB-1.4.11 && \
		libtoolize --copy --ltdl --force && \
		autoreconf -fi && \
		$(BUILDENV) \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--enable-static \
			--disable-sdl \
			--disable-x11 \
			--disable-devmem \
			--disable-multi \
			--with-gfxdrivers=stgfx \
			--with-inputdrivers=linuxinput,enigma2remote \
			--without-software \
			--enable-stmfbdev \
			--disable-fbdev \
			--enable-mme=yes && \
			export top_builddir=`pwd` \
		&& \
		$(MAKE) LD=$(target)-ld && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," directfb.pc && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," directfb-internal.pc && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," lib/direct/direct.pc && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," lib/fusion/fusion.pc && $(MAKE) install DESTDIR=$(targetprefix) LD=sh4-linux-ld && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdirectfb.la && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdirect.la && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfusion.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libdirectfb.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libfusion.la
	rm -rf DirectFB-1.4.11
	touch $@

#
# DFB++
#
$(D)/dfbpp: $(D)/bootstrap $(D)/libjpeg $(D)/directfb $(archivedir)/DFB++-1.0.0.tar.gz 
	( rm -rf DFB++-1.0.0 || /bin/true ) && gunzip -cd $(archivedir)/DFB++-1.0.0.tar.gz | TAPE=- tar -x
	cd DFB++-1.0.0 && \
		$(BUILDENV) \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr && \
			export top_builddir=`pwd` \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," dfb++.pc && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdfb++.la
	rm -rf DFB++-1.0.0
	touch $@

#
# LIBSTGLES
#
$(D)/libstgles: $(D)/bootstrap $(D)/directfb 
	( rm -rf libstgles-1.0 || /bin/true ) && ( ln -sf ../apps/libs/libstgles libstgles-1.0 || /bin/true )
	cd libstgles-1.0 && \
		libtoolize --force --copy --ltdl && \
		autoreconf -fi && \
		$(BUILDENV) \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf libstgles-1.0
	touch $@

#
# libexpat
#
$(D)/libexpat: $(D)/bootstrap $(archivedir)/expat-2.1.0.tar.gz 
	( rm -rf expat-2.1.0 || /bin/true ) && gunzip -cd $(archivedir)/expat-2.1.0.tar.gz | TAPE=- tar -x
	cd expat-2.1.0 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," expat.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libexpat.la
	rm -rf expat-2.1.0
	touch $@

#
# fontconfig
#
$(D)/fontconfig: $(D)/bootstrap $(D)/libexpat $(D)/libfreetype $(archivedir)/fontconfig-2.8.0.tar.gz 
	( rm -rf fontconfig-2.8.0 || /bin/true ) && gunzip -cd $(archivedir)/fontconfig-2.8.0.tar.gz | TAPE=- tar -x && ( cd fontconfig-2.8.0 && chmod +w -R .; patch -p1 < ../Patches/fontconfig-2.8.0.patch )
	cd fontconfig-2.8.0 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--with-arch=sh4 \
			--with-freetype-config=$(hostprefix)/bin/freetype-config \
			--with-expat-includes=$(targetprefix)/usr/include \
			--with-expat-lib=$(targetprefix)/usr/lib \
			--sysconfdir=/etc \
			--localstatedir=/var \
			--disable-docs \
			--without-add-fonts \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," fontconfig.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfontconfig.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libfontconfig.la
	rm -rf fontconfig-2.8.0
	touch $@

#
# a52dec
#
$(D)/a52dec: $(D)/bootstrap $(archivedir)/a52dec-0.7.4.tar.gz 
	( rm -rf a52dec-0.7.4 || /bin/true ) && gunzip -cd $(archivedir)/a52dec-0.7.4.tar.gz | TAPE=- tar -x
	cd a52dec-0.7.4 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf a52dec-0.7.4
	touch $@

#
# libdvdcss
#
$(D)/libdvdcss: $(D)/bootstrap $(archivedir)/libdvdcss-1.2.13.tar.bz2 
	( rm -rf libdvdcss-1.2.13 || /bin/true ) && bunzip2 -cd $(archivedir)/libdvdcss-1.2.13.tar.bz2 | TAPE=- tar -x
	cd libdvdcss-1.2.13 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-doc \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," src/libdvdcss.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdvdcss.la
	rm -rf libdvdcss-1.2.13
	touch $@

#
# libdvdnav
#
$(D)/libdvdnav: $(D)/bootstrap $(D)/libdvdread $(archivedir)/libdvdnav-4.2.1.tar.xz Patches/libdvdnav_4.2.0.patch 
	( rm -rf libdvdnav-4.2.1 || /bin/true ) && tar -xpf $(archivedir)/libdvdnav-4.2.1.tar.xz && ( cd libdvdnav-4.2.1 && chmod +w -R .; patch -p1 < ../Patches/libdvdnav_4.2.0.patch )
	cd libdvdnav-4.2.1 && \
		$(BUILDENV) \
		libtoolize --copy --ltdl --force && \
		./autogen.sh \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--enable-static \
			--enable-shared \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," misc/dvdnav.pc misc/dvdnavmini.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdvdnav.la $(targetprefix)/usr/lib/libdvdnavmini.la
	rm -rf libdvdnav-4.2.1
	touch $@

#
# libdvdread
#
$(D)/libdvdread: $(D)/bootstrap $(archivedir)/libdvdread-4.9.9.tar.xz Patches/libdvdread_4.9.9.patch 
	( rm -rf libdvdread-4.9.9 || /bin/true ) && tar -xpf $(archivedir)/libdvdread-4.9.9.tar.xz && ( cd libdvdread-4.9.9 && chmod +w -R .; patch -p1 < ../Patches/libdvdread_4.9.9.patch )
	cd libdvdread-4.9.9 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--enable-static \
			--enable-shared \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," misc/dvdread.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdvdread.la
	rm -rf libdvdread-4.9.9
	touch $@

#
# libdreamdvd
#
$(D)/libdreamdvd: $(D)/bootstrap $(D)/libdvdnav $(archivedir)/libdreamdvd.git Patches/libdreamdvd-1.0-support_sh4.patch 
	( rm -rf libdreamdvd-1.0 || /bin/true ) && (rm -rf libdreamdvd-1.0; cp -a $(archivedir)/libdreamdvd.git libdreamdvd-1.0) && ( cd libdreamdvd-1.0 && chmod +w -R .; patch -p1 < ../Patches/libdreamdvd-1.0-support_sh4.patch )
	[ -d "$(archivedir)/libdreamdvd.git" ] && \
	(cd $(archivedir)/libdreamdvd.git; git pull; cd "$(buildprefix)";); \
	cd libdreamdvd-1.0 && \
		aclocal && \
		autoheader && \
		autoconf && \
		automake --foreign --add-missing && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libdreamdvd.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdreamdvd.la
	rm -rf libdreamdvd-1.0
	touch $@

#
# fdk-aac
#
$(D)/libfdk_aac: $(D)/bootstrap $(archivedir)/fdk-aac.git 
	( rm -rf fdk-aac-1.0 || /bin/true ) && (rm -rf fdk-aac-1.0; cp -a $(archivedir)/fdk-aac.git fdk-aac-1.0)
	[ -d "$(archivedir)/fdk-aac.git" ] && \
	(cd $(archivedir)/fdk-aac.git; git pull; cd "$(buildprefix)";); \
	cd fdk-aac-1.0 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--disable-shared \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," fdk-aac.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfdk-aac.la
	rm -rf fdk-aac-1.0
	touch $@

$(D)/ffmpeg: $(D)/bootstrap $(OPENSSL) $(D)/libass $(LIBXML2) $(LIBRTMPDUMP) $(archivedir)/ffmpeg-2.6.3.tar.bz2 
	( rm -rf ffmpeg-2.6.3 || /bin/true ) && bunzip2 -cd $(archivedir)/ffmpeg-2.6.3.tar.bz2 | TAPE=- tar -x && ( cd ffmpeg-2.6.3 && chmod +w -R .; patch -p1 < ../Patches/ffmpeg-2.6.patch ) && ( cd ffmpeg-2.6.3 && chmod +w -R .; patch -p1 < ../Patches/ffmpeg-hds-2.6.patch ) && ( cd ffmpeg-2.6.3 && chmod +w -R .; patch -p1 < ../Patches/ffmpeg-aac-2.6.patch )
	cd ffmpeg-2.6.3 && \
		./configure \
			--disable-ffserver \
			--disable-ffplay \
			--disable-ffprobe \
			\
			--disable-doc \
			--disable-htmlpages \
			--disable-manpages \
			--disable-podpages \
			--disable-txtpages \
			\
			--disable-asm \
			--disable-altivec \
			--disable-amd3dnow \
			--disable-amd3dnowext \
			--disable-mmx \
			--disable-mmxext \
			--disable-sse \
			--disable-sse2 \
			--disable-sse3 \
			--disable-ssse3 \
			--disable-sse4 \
			--disable-sse42 \
			--disable-avx \
			--disable-fma4 \
			--disable-armv5te \
			--disable-armv6 \
			--disable-armv6t2 \
			--disable-vfp \
			--disable-neon \
			--disable-inline-asm \
			--disable-yasm \
			--disable-mips32r2 \
			--disable-mipsdspr1 \
			--disable-mipsdspr2 \
			--disable-mipsfpu \
			--disable-fast-unaligned \
			--disable-dxva2 \
			--disable-vaapi \
			--disable-vdpau \
			\
			--disable-muxers \
			--enable-muxer=flac \
			--enable-muxer=mp3 \
			--enable-muxer=h261 \
			--enable-muxer=h263 \
			--enable-muxer=h264 \
			--enable-muxer=image2 \
			--enable-muxer=mpeg1video \
			--enable-muxer=mpeg2video \
			--enable-muxer=mpegts \
			--enable-muxer=ogg \
			\
			--disable-parsers \
			--enable-parser=aac \
			--enable-parser=aac_latm \
			--enable-parser=ac3 \
			--enable-parser=dca \
			--enable-parser=dvbsub \
			--enable-parser=dvdsub \
			--enable-parser=flac \
			--enable-parser=h264 \
			--enable-parser=mjpeg \
			--enable-parser=mpeg4video \
			--enable-parser=mpegvideo \
			--enable-parser=mpegaudio \
			--enable-parser=vc1 \
			--enable-parser=vorbis \
			\
			--disable-encoders \
			--enable-encoder=aac \
			--enable-encoder=h261 \
			--enable-encoder=h263 \
			--enable-encoder=h263p \
			--enable-encoder=ljpeg \
			--enable-encoder=mjpeg \
			--enable-encoder=mpeg1video \
			--enable-encoder=mpeg2video \
			--enable-encoder=png \
			\
			--disable-decoders \
			--enable-decoder=aac \
			--enable-decoder=dca \
			--enable-decoder=dvbsub \
			--enable-decoder=dvdsub \
			--enable-decoder=flac \
			--enable-decoder=h261 \
			--enable-decoder=h263 \
			--enable-decoder=h263i \
			--enable-decoder=h264 \
			--enable-decoder=mjpeg \
			--enable-decoder=mp3 \
			--enable-decoder=mpeg1video \
			--enable-decoder=mpeg2video \
			--enable-decoder=msmpeg4v1 \
			--enable-decoder=msmpeg4v2 \
			--enable-decoder=msmpeg4v3 \
			--enable-decoder=pcm_s16le \
			--enable-decoder=pcm_s16be \
			--enable-decoder=pcm_s16le_planar \
			--enable-decoder=pcm_s16be_planar \
			--enable-decoder=pgssub \
			--enable-decoder=png \
			--enable-decoder=srt \
			--enable-decoder=subrip \
			--enable-decoder=subviewer \
			--enable-decoder=subviewer1 \
			--enable-decoder=text \
			--enable-decoder=theora \
			--enable-decoder=vorbis \
			--enable-decoder=wmv3 \
			--enable-decoder=xsub \
			\
			--disable-demuxers \
			--enable-demuxer=aac \
			--enable-demuxer=ac3 \
			--enable-demuxer=avi \
			--enable-demuxer=dts \
			--enable-demuxer=flac \
			--enable-demuxer=flv \
			--enable-demuxer=hds \
			--enable-demuxer=hls \
			--enable-demuxer=image* \
			--enable-demuxer=matroska \
			--enable-demuxer=mjpeg \
			--enable-demuxer=mov \
			--enable-demuxer=mp3 \
			--enable-demuxer=mpegts \
			--enable-demuxer=mpegtsraw \
			--enable-demuxer=mpegps \
			--enable-demuxer=mpegvideo \
			--enable-demuxer=ogg \
			--enable-demuxer=pcm_s16be \
			--enable-demuxer=pcm_s16le \
			--enable-demuxer=rm \
			--enable-demuxer=rtp \
			--enable-demuxer=rtsp \
			--enable-demuxer=srt \
			--enable-demuxer=vc1 \
			--enable-demuxer=wav \
			\
			--disable-protocols \
			--enable-protocol=file \
			--enable-protocol=http \
			--enable-protocol=mmsh \
			--enable-protocol=mmst \
			--enable-protocol=rtmp \
			--enable-protocol=rtmpe \
			--enable-protocol=rtmps \
			--enable-protocol=rtmpt \
			--enable-protocol=rtmpte \
			--enable-protocol=rtmpts \
			\
			--disable-filters \
			--enable-filter=scale \
			\
			--disable-postproc \
			--disable-bsfs \
			--disable-indevs \
			--disable-outdevs \
			--enable-bzlib \
			--enable-zlib \
			$(FFMPEG_EXTRA) \
			--disable-static \
			--enable-openssl \
			--enable-shared \
			--enable-small \
			--enable-stripping \
			--disable-debug \
			--disable-runtime-cpudetect \
			--enable-cross-compile \
			--cross-prefix=$(target)- \
			--extra-cflags="-I$(targetprefix)/usr/include -ffunction-sections -fdata-sections" \
			--extra-ldflags="-L$(targetprefix)/usr/lib -Wl,--gc-sections,-lrt" \
			--target-os=linux \
			--arch=sh4 \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libavcodec/libavcodec.pc libavdevice/libavdevice.pc libavfilter/libavfilter.pc libavformat/libavformat.pc libavutil/libavutil.pc libswresample/libswresample.pc libswscale/libswscale.pc && $(MAKE) install DESTDIR=$(targetprefix)
	rm -rf ffmpeg-2.6.3
	touch $@

#
# libass
#
$(D)/libass: $(D)/bootstrap $(D)/libfreetype $(D)/libfribidi $(archivedir)/libass-0.11.1.tar.gz 
	( rm -rf libass-0.11.1 || /bin/true ) && gunzip -cd $(archivedir)/libass-0.11.1.tar.gz | TAPE=- tar -x && ( cd libass-0.11.1 && chmod +w -R .; patch -p1 < ../Patches/libass-0.11.1.patch )
	cd libass-0.11.1 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-fontconfig \
			--disable-enca \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libass.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libass.la
	rm -rf libass-0.11.1
	touch $@

#
# WebKitDFB
#
$(D)/webkitdfb: $(D)/bootstrap $(D)/glib2 $(D)/icu4c $(D)/libxml2_e2 $(D)/enchant $(D)/lite $(D)/libcurl $(D)/fontconfig $(D)/sqlite $(D)/libsoup $(D)/cairo $(D)/libjpeg $(archivedir)/webkitdfb_2010-11-18.tar.gz Patches/webkitdfb.patch 
	( rm -rf webkitdfb_2010-11-18 || /bin/true ) && gunzip -cd $(archivedir)/webkitdfb_2010-11-18.tar.gz | TAPE=- tar -x && ( cd webkitdfb_2010-11-18 && chmod +w -R .; patch -p1 < ../Patches/webkitdfb.patch )
	cd webkitdfb_2010-11-18 && \
		$(CONFIGURE) \
			--with-target=directfb \
			--without-gtkplus \
			--prefix=/usr \
			--with-cairo-directfb \
			--disable-shared-workers \
			--enable-optimizations \
			--disable-channel-messaging \
			--disable-javascript-debugger \
			--enable-offline-web-applications \
			--enable-dom-storage \
			--enable-database \
			--disable-eventsource \
			--enable-icon-database \
			--enable-datalist \
			--disable-video \
			--enable-svg \
			--enable-xpath \
			--disable-xslt \
			--disable-dashboard-support \
			--disable-geolocation \
			--disable-workers \
			--disable-web-sockets \
			--with-networking-backend=soup \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libwebkitgtk-1.0.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libwebkitgtk-1.0.la && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/webkit-1.0.pc
	rm -rf webkitdfb_2010-11-18
	touch $@

#
# icu4c
#
$(D)/icu4c: $(D)/bootstrap $(archivedir)/icu4c-4_4_1-src.tgz Patches/icu4c-4_4_1_locales.patch 
	( rm -rf icu/source || /bin/true ) && gunzip -cd $(archivedir)/icu4c-4_4_1-src.tgz | TAPE=- tar -x
	cd icu/source && \
		rm data/mappings/ucm*.mk; \
		patch -p1 < $(buildprefix)/Patches/icu4c-4_4_1_locales.patch;
		echo "Building host icu"
		mkdir -p icu/source/host && \
		cd icu/source/host && \
		sh ../configure --disable-samples --disable-tests && \
		unset TARGET && \
		make
		echo "Building cross icu"
		cd icu/source && \
		$(CONFIGURE) \
			--with-cross-build=$(buildprefix)/icu/source/host \
			--prefix=/usr \
			--disable-extras \
			--disable-layout \
			--disable-tests \
			--disable-samples \
		&& \
		unset TARGET && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf icu/source
	rm -rf icu
	touch $@

#
# enchant
#
$(D)/enchant: $(D)/bootstrap $(D)/glib2 $(archivedir)/enchant-1.5.0.tar.gz 
	( rm -rf enchant-1.5.0 || /bin/true ) && gunzip -cd $(archivedir)/enchant-1.5.0.tar.gz | TAPE=- tar -x
	cd enchant-1.5.0 && \
		libtoolize -f -c && \
		autoreconf -fi && \
		$(CONFIGURE) \
			--prefix=/usr \
			--with-gnu-ld \
			--disable-aspell \
			--disable-ispell \
			--disable-myspell \
			--disable-zemberek \
		&& \
		$(MAKE) LD=$(target)-ld && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libenchant.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libenchant.la && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/enchant.pc
	rm -rf enchant-1.5.0
	touch $@

#
# lite
#
$(D)/lite: $(D)/bootstrap $(D)/directfb $(archivedir)/lite-0.9.0+git0.7982ccc.tar.bz2 
	( rm -rf lite-0.9.0+git0.7982ccc || /bin/true ) && bunzip2 -cd $(archivedir)/lite-0.9.0+git0.7982ccc.tar.bz2 | TAPE=- tar -x
	cd lite-0.9.0+git0.7982ccc && \
		libtoolize --copy --ltdl --force && \
		autoreconf -fi && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-debug \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/liblite.la $(targetprefix)/usr/lib/libleck.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/liblite.la $(targetprefix)/usr/lib/libleck.la && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/lite.pc $(targetprefix)/usr/lib/pkgconfig/leck.pc
	rm -rf lite-0.9.0+git0.7982ccc
	touch $@

#
# sqlite
#
$(D)/sqlite: $(D)/bootstrap $(archivedir)/sqlite-autoconf-3080600.tar.gz 
	( rm -rf sqlite-autoconf-3080600 || /bin/true ) && gunzip -cd $(archivedir)/sqlite-autoconf-3080600.tar.gz | TAPE=- tar -x
	cd sqlite-autoconf-3080600 && \
		libtoolize -f -c && \
		autoreconf -fi && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," sqlite3.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libsqlite3.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libsqlite3.la
	rm -rf sqlite-autoconf-3080600
	touch $@

#
# libsoup
#
$(D)/libsoup: $(D)/bootstrap $(archivedir)/libsoup-2.50.0.tar.xz 
	( rm -rf libsoup-2.50.0 || /bin/true ) && tar -xpf $(archivedir)/libsoup-2.50.0.tar.xz
	cd libsoup-2.50.0 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-more-warnings \
			--without-gnome \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libsoup-2.4.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libsoup-2.4.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libsoup-2.4.la
	rm -rf libsoup-2.50.0
	touch $@

#
# pixman
#
$(D)/pixman: $(D)/bootstrap $(archivedir)/pixman-0.18.0.tar.gz 
	( rm -rf pixman-0.18.0 || /bin/true ) && gunzip -cd $(archivedir)/pixman-0.18.0.tar.gz | TAPE=- tar -x
	cd pixman-0.18.0 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libpixman-1.la && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/pixman-1.pc
	rm -rf pixman-0.18.0
	touch $@

#
# cairo
#
$(D)/cairo: $(D)/bootstrap $(D)/libpng $(D)/pixman $(archivedir)/cairo-1.8.10.tar.gz 
	( rm -rf cairo-1.8.10 || /bin/true ) && gunzip -cd $(archivedir)/cairo-1.8.10.tar.gz | TAPE=- tar -x && ( cd cairo-1.8.10 && chmod +w -R .; patch -p1 < ../Patches/cairo-1.8.10.patch )
	cd cairo-1.8.10 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-gtk-doc \
			--enable-ft=yes \
			--enable-png=yes \
			--enable-ps=no \
			--enable-pdf=no \
			--enable-svg=no \
			--disable-glitz \
			--disable-xcb \
			--disable-xlib \
			--enable-directfb \
			--program-suffix=-directfb \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libcairo.la && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/cairo.pc $(targetprefix)/usr/lib/pkgconfig/cairo-directfb.pc $(targetprefix)/usr/lib/pkgconfig/cairo-ft.pc $(targetprefix)/usr/lib/pkgconfig/cairo-png.pc
	rm -rf cairo-1.8.10
	touch $@

#
# libogg
#
$(D)/libogg: $(D)/bootstrap $(archivedir)/libogg-1.3.2.tar.gz 
	( rm -rf libogg-1.3.2 || /bin/true ) && gunzip -cd $(archivedir)/libogg-1.3.2.tar.gz | TAPE=- tar -x && ( cd libogg-1.3.2 && chmod +w -R .; patch -p1 < ../Patches/libogg-1.3.1-nodoc.patch )
	cd libogg-1.3.2 && \
		$(CONFIGURE) \
			--enable-shared \
			--disable-static \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," ogg.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libogg.la
	rm -rf libogg-1.3.2
	touch $@

#
# libflac
#
$(D)/libflac: $(D)/bootstrap $(archivedir)/flac-1.3.1.tar.xz 
	( rm -rf flac-1.3.1 || /bin/true ) && tar -xpf $(archivedir)/flac-1.3.1.tar.xz && ( cd flac-1.3.1 && chmod +w -R .; patch -p1 < ../Patches/libflac-1.3.1.patch )
	cd flac-1.3.1 && \
		touch NEWS AUTHORS ChangeLog && \
		autoreconf -fi && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-sse \
			--disable-asm-optimizations \
			--disable-doxygen-docs \
			--disable-exhaustive-tests \
			--disable-thorough-tests \
			--disable-3dnow \
			--disable-debug \
			--disable-valgrind-testing \
			--disable-dependency-tracking \
			--disable-ogg \
			--disable-xmms-plugin \
			--disable-thorough-tests \
			--disable-altivec \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," src/libFLAC/flac.pc src/libFLAC++/flac++.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libFLAC.la $(targetprefix)/usr/lib/libFLAC++.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libFLAC++.la
	rm -rf flac-1.3.1
	touch $@

#
# libxml2_e2
#
$(D)/libxml2_e2: $(D)/bootstrap $(D)/zlib $(D)/python $(archivedir)/libxml2-2.9.0.tar.gz 
	( rm -rf libxml2-2.9.0 || /bin/true ) && gunzip -cd $(archivedir)/libxml2-2.9.0.tar.gz | TAPE=- tar -x && ( cd libxml2-2.9.0 && chmod +w -R .; patch -p1 < ../Patches/libxml2-2.9.0.patch )
	cd libxml2-2.9.0 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--enable-shared \
			--disable-static \
			--datarootdir=/.remove \
			--with-python=$(hostprefix) \
			--without-c14n \
			--without-debug \
			--without-docbook \
			--without-mem-debug \
		&& \
		$(MAKE) all && \
		sed -e "s,^prefix=,prefix=$(targetprefix)," < xml2-config > $(hostprefix)/bin/xml2-config && \
		chmod 755 $(hostprefix)/bin/xml2-config && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libxml-2.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libxml2.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libxml2.la
		rm -f $(targetprefix)/usr/bin/xml2-config && \
		if [ -e "$(targetprefix)$(PYTHON_DIR)/site-packages/libxml2mod.la" ]; then \
			sed -e "/^dependency_libs/ s,/usr/lib/libxml2.la,$(targetprefix)/usr/lib/libxml2.la,g" -i $(targetprefix)$(PYTHON_DIR)/site-packages/libxml2mod.la; \
			sed -e "/^libdir/ s,$(PYTHON_DIR)/site-packages,$(targetprefix)$(PYTHON_DIR)/site-packages,g" -i $(targetprefix)$(PYTHON_DIR)/site-packages/libxml2mod.la; \
		fi; \
		sed -e "/^XML2_LIBDIR/ s,/usr/lib,$(targetprefix)/usr/lib,g" -i $(targetprefix)/usr/lib/xml2Conf.sh && \
		sed -e "/^XML2_INCLUDEDIR/ s,/usr/include,$(targetprefix)/usr/include,g" -i $(targetprefix)/usr/lib/xml2Conf.sh
	rm -rf libxml2-2.9.0
	touch $@

#
# libxml2 neutrino
#
$(D)/libxml2: $(D)/bootstrap $(D)/zlib $(archivedir)/libxml2-2.8.0.tar.gz 
	( rm -rf libxml2-2.8.0 || /bin/true ) && gunzip -cd $(archivedir)/libxml2-2.8.0.tar.gz | TAPE=- tar -x
	cd libxml2-2.8.0 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--enable-shared \
			--disable-static \
			--datarootdir=/.remove \
			--without-python \
			--with-minimum \
			--without-iconv \
			--without-c14n \
			--without-debug \
			--without-docbook \
			--without-mem-debug \
		&& \
		$(MAKE) all && \
		sed -e "s,^prefix=,prefix=$(targetprefix)," < xml2-config > $(hostprefix)/bin/xml2-config && \
		chmod 755 $(hostprefix)/bin/xml2-config && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libxml-2.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libxml2.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libxml2.la
		rm -f $(targetprefix)/usr/bin/xml2-config && \
		sed -e "/^XML2_LIBDIR/ s,/usr/lib,$(targetprefix)/usr/lib,g" -i $(targetprefix)/usr/lib/xml2Conf.sh && \
		sed -e "/^XML2_INCLUDEDIR/ s,/usr/include,$(targetprefix)/usr/include,g" -i $(targetprefix)/usr/lib/xml2Conf.sh
	rm -rf libxml2-2.8.0
	touch $@

#
# libxslt
#
$(D)/libxslt: $(D)/bootstrap $(D)/libxml2_e2 $(archivedir)/libxslt-1.1.28.tar.gz 
	( rm -rf libxslt-1.1.28 || /bin/true ) && gunzip -cd $(archivedir)/libxslt-1.1.28.tar.gz | TAPE=- tar -x
	cd libxslt-1.1.28 && \
		$(CONFIGURE) \
		CPPFLAGS="$(CPPFLAGS) -I$(targetprefix)/usr/include/libxml2" \
			--prefix=/usr \
			--with-libxml-prefix="$(hostprefix)" \
			--with-libxml-include-prefix="$(targetprefix)/usr/include" \
			--with-libxml-libs-prefix="$(targetprefix)/usr/lib" \
			--with-python=$(hostprefix) \
			--without-crypto \
			--without-debug \
			--without-mem-debug \
		&& \
		$(MAKE) all && \
		sed -e "s,^prefix=,prefix=$(targetprefix)," < xslt-config > $(hostprefix)/bin/xslt-config && \
		chmod 755 $(hostprefix)/bin/xslt-config && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libxslt.pc libexslt.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libxslt.la $(targetprefix)/usr/lib/libexslt.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libexslt.la
		if [ -e "$(targetprefix)$(PYTHON_DIR)/site-packages/libxsltmod.la" ]; then \
			sed -e "/^dependency_libs/ s,/usr/lib/libexslt.la,$(targetprefix)/usr/lib/libexslt.la,g" -i $(targetprefix)$(PYTHON_DIR)/site-packages/libxsltmod.la; \
			sed -e "/^dependency_libs/ s,/usr/lib/libxslt.la,$(targetprefix)/usr/lib/libxslt.la,g" -i $(targetprefix)$(PYTHON_DIR)/site-packages/libxsltmod.la; \
			sed -e "/^libdir/ s,$(PYTHON_DIR)/site-packages,$(targetprefix)$(PYTHON_DIR)/site-packages,g" -i $(targetprefix)$(PYTHON_DIR)/site-packages/libxsltmod.la; \
		fi; \
		sed -e "/^XSLT_LIBDIR/ s,/usr/lib,$(targetprefix)/usr/lib,g" -i $(targetprefix)/usr/lib/xsltConf.sh && \
		sed -e "/^XSLT_INCLUDEDIR/ s,/usr/include,$(targetprefix)/usr/include,g" -i $(targetprefix)/usr/lib/xsltConf.sh
	rm -rf libxslt-1.1.28
	touch $@

##############################   EXTERNAL_LCD   ################################
#
# graphlcd
#
$(D)/graphlcd: $(D)/bootstrap $(D)/libfreetype $(D)/libusb $(archivedir)/graphlcd-base-touchcol.git Patches/graphlcd.patch 
	( rm -rf graphlcd-base-touchcol || /bin/true ) && (rm -rf graphlcd-base-touchcol; cp -a $(archivedir)/graphlcd-base-touchcol.git graphlcd-base-touchcol) && ( cd graphlcd-base-touchcol && chmod +w -R .; patch -p1 < ../Patches/graphlcd.patch )
	[ -d "$(archivedir)/graphlcd-base-touchcol.git" ] && \
	(cd $(archivedir)/graphlcd-base-touchcol.git; git pull; git checkout touchcol; cd "$(buildprefix)";); \
	cd graphlcd-base-touchcol && \
		export TARGET=$(target)- && \
		export LDFLAGS="-L$(targetprefix)/usr/lib -Wl,-rpath-link,$(targetprefix)/usr/lib" && \
		export PKG_CONFIG_PATH="$(targetprefix)/usr/lib/pkgconfig" && \
		$(MAKE) all DESTDIR=$(targetprefix) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf graphlcd-base-touchcol
	touch $@

#
# LCD4LINUX
#--with-python
$(D)/lcd4_linux: $(D)/bootstrap $(D)/libusbcompat $(D)/libgd2 $(D)/libusb $(archivedir)/lcd4linux.svn 
	( rm -rf lcd4linux-1.0 || /bin/true ) && cp -a $(archivedir)/lcd4linux.svn lcd4linux-1.0 && ( cd lcd4linux-1.0 && chmod +w -R .; patch -p1 < ../Patches/lcd4linux.patch )
	cd lcd4linux-1.0 && \
		aclocal && \
		libtoolize -f -c && \
		autoheader && \
		automake --add-missing --copy --foreign && \
		autoconf && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--with-drivers='DPF,SamsungSPF' \
			--with-plugins='all,!apm,!asterisk,!dbus,!dvb,!gps,!hddtemp,!huawei,!imon,!isdn,!kvv,!mpd,!mpris_dbus,!mysql,!pop3,!ppp,!python,!qnaplog,!raspi,!sample,!seti,!w1retap,!wireless,!xmms' \
			--without-ncurses \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf lcd4linux-1.0
	touch $@

#
# libdpfax
#
$(D)/libdpfax: bootstrap libusbcompat $(archivedir)/dpf-ax.svn 
	( rm -rf dpf-ax || /bin/true ) && cp -a $(archivedir)/dpf-ax.svn dpf-ax
	cd dpf-ax && \
		$(BUILDENV) \
			$(MAKE) all &&\
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf dpf-ax
	touch $@

#
# DPFAX
#
$(D)/libdpf: bootstrap libusbcompat @DEPENDS_libdpf@
	@PREPARE_libdpf@
	cd @DIR_libdpf@ && \
	$(BUILDENV) \
		$(MAKE) && \
		cp dpf.h $(targetprefix)/usr/include/ && \
		cp sglib.h $(targetprefix)/usr/include/ && \
		cp usbuser.h $(targetprefix)/usr/include/ && \
		cp libdpf.a $(targetprefix)/usr/lib/
	@CLEANUP_libdpf@
	touch $@

#
# libgd2
#
$(D)/libgd2: $(D)/bootstrap $(D)/libpng $(D)/libjpeg $(D)/libfreetype $(archivedir)/libgd-2.1.0.tar.gz 
	( rm -rf libgd-2.1.0 || /bin/true ) && gunzip -cd $(archivedir)/libgd-2.1.0.tar.gz | TAPE=- tar -x
	cd libgd-2.1.0 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgd.la
	rm -rf libgd-2.1.0
	touch $@

#
# libusb
#
$(D)/libusb: $(D)/bootstrap $(archivedir)/libusb-1.0.9.tar.bz2 
	( rm -rf libusb-1.0.9 || /bin/true ) && bunzip2 -cd $(archivedir)/libusb-1.0.9.tar.bz2 | TAPE=- tar -x && ( cd libusb-1.0.9 && chmod +w -R .; patch -p1 < ../Patches/libusb-1.0.9.patch )
	cd libusb-1.0.9 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--disable-log \
			--disable-debug-log \
			--disable-examples-build \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libusb-1.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libusb-1.0.la
	rm -rf libusb-1.0.9
	touch $@

#
# libusbcompat
#
$(D)/libusbcompat: $(D)/bootstrap $(D)/libusb $(archivedir)/libusb-compat-0.1.5.tar.bz2 
	( rm -rf libusb-compat-0.1.5 || /bin/true ) && bunzip2 -cd $(archivedir)/libusb-compat-0.1.5.tar.bz2 | TAPE=- tar -x
	cd libusb-compat-0.1.5 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libusb.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libusb.la
	rm -rf libusb-compat-0.1.5
	touch $@

##############################   END EXTERNAL_LCD   #############################

#
# eve-browser
#
$(D)/evebrowser: $(D)/webkitdfb 
	svn checkout https://eve-browser.googlecode.com/svn/trunk/ evebrowser-0.0.1
	cd evebrowser-0.0.1 && \
		aclocal -I m4 && \
		autoheader && \
		autoconf && \
		automake --foreign && \
		libtoolize --force && \
		$(BUILDENV) \
		./configure \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix) && \
		cp -ar enigma2/HbbTv $(targetprefix)/usr/lib/enigma2/python/Plugins/SystemPlugins/
	rm -rf evebrowser-0.0.1
	touch $@

#
# brofs
#
$(D)/brofs: $(D)/bootstrap $(archivedir)/BroFS1.2.tgz 
	( rm -rf BroFS1.2 || /bin/true ) && gunzip -cd $(archivedir)/BroFS1.2.tgz | TAPE=- tar -x
	cd BroFS1.2 && \
		$(BUILDENV) \
			$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)/usr/bin
	rm -rf BroFS1.2
	touch $@

#
# libcap
#
$(D)/libcap: $(D)/bootstrap $(archivedir)/libcap-2.22.tar.bz2 
	( rm -rf libcap-2.22 || /bin/true ) && bunzip2 -cd $(archivedir)/libcap-2.22.tar.bz2 | TAPE=- tar -x && ( cd libcap-2.22 && chmod +w -R .; patch -p1 < ../Patches/libcap-2.22.patch )
	cd libcap-2.22 && \
		export CROSS_BASE=$(crossprefix) && \
		export TARGET=$(target) && \
		export TARGETPREFIX=$(targetprefix) && \
		$(MAKE) -C libcap LIBATTR=no INCDIR=$(targetprefix)/usr/include LIBDIR=$(targetprefix)/usr/lib install
	rm -rf libcap-2.22
	touch $@

#
# alsa-lib
#
$(D)/libalsa: $(D)/bootstrap $(archivedir)/alsa-lib-1.0.29.tar.bz2 
	( rm -rf alsa-lib-1.0.29 || /bin/true ) && bunzip2 -cd $(archivedir)/alsa-lib-1.0.29.tar.bz2 | TAPE=- tar -x
	cd alsa-lib-1.0.29 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--with-plugindir=/usr/lib/alsa \
			--without-debug \
			--with-debug=no \
			--disable-aload \
			--disable-rawmidi \
			--disable-old-symbols \
			--disable-alisp \
			--disable-hwdep \
			--disable-python \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," utils/alsa.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libasound.la
	rm -rf alsa-lib-1.0.29
	touch $@

#
# alsautils
#
$(D)/alsautils: $(D)/bootstrap $(archivedir)/alsa-utils-1.0.29.tar.bz2 
	( rm -rf alsa-utils-1.0.29 || /bin/true ) && bunzip2 -cd $(archivedir)/alsa-utils-1.0.29.tar.bz2 | TAPE=- tar -x
	cd alsa-utils-1.0.29 && \
		sed -ir -r "s/(alsamixer|amidi|aplay|iecset|speaker-test|seq|alsactl|alsaucm)//g" Makefile.am && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--disable-nls \
			--disable-alsatest \
			--disable-alsaconf \
			--disable-alsaloop \
			--disable-alsamixer \
			--disable-xmlto \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf alsa-utils-1.0.29
	touch $@

#
# libopenthreads
#
$(D)/libopenthreads: $(D)/bootstrap 
	( rm -rf openthreads || /bin/true )
	[ -d "$(archivedir)/cst-public-libraries-openthreads.git" ] && \
	(cd $(archivedir)/cst-public-libraries-openthreads.git; git pull; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/cst-public-libraries-openthreads.git" ] || \
	git clone --recursive git://c00lstreamtech.de/cst-public-libraries-openthreads.git $(archivedir)/cst-public-libraries-openthreads.git; \
	cp -ra $(archivedir)/cst-public-libraries-openthreads.git $(buildprefix)/openthreads; \
	cd openthreads && \
		rm CMakeFiles/* -rf CMakeCache.txt cmake_install.cmake && \
		echo "# dummy file to prevent warning message" > $(buildprefix)/openthreads/examples/CMakeLists.txt; \
		cmake . -DCMAKE_BUILD_TYPE=Release -DCMAKE_SYSTEM_NAME="Linux" \
			-DCMAKE_INSTALL_PREFIX="" \
			-DCMAKE_C_COMPILER="$(target)-gcc" \
			-DCMAKE_CXX_COMPILER="$(target)-g++" \
			-D_OPENTHREADS_ATOMIC_USE_GCC_BUILTINS_EXITCODE=1 && \
			find . -name cmake_install.cmake -print0 | xargs -0 \
			sed -i 's@SET(CMAKE_INSTALL_PREFIX "/usr/local")@SET(CMAKE_INSTALL_PREFIX "")@' && \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," packaging/pkgconfig/openthreads.pc && $(MAKE) install DESTDIR=$(targetprefix)/usr
	rm -rf openthreads
	touch $@

#
# pugixml
#
$(D)/pugixml: $(D)/bootstrap $(archivedir)/pugixml-1.6.tar.gz 
	( rm -rf pugixml-1.6 || /bin/true ) && gunzip -cd $(archivedir)/pugixml-1.6.tar.gz | TAPE=- tar -x
	cd pugixml-1.6 && \
		cmake \
		--no-warn-unused-cli \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DBUILD_SHARED_LIBS=ON \
		-DCMAKE_BUILD_TYPE=Linux \
		-DCMAKE_C_COMPILER=$(target)-gcc \
		-DCMAKE_CXX_COMPILER=$(target)-g++ \
		scripts && \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf pugixml-1.6
	touch $@

#
# librtmpdump
#
$(D)/librtmpdump: $(D)/bootstrap $(D)/zlib $(OPENSSL) $(archivedir)/rtmpdump.git 
	( rm -rf rtmpdump-2.4 || /bin/true ) && (rm -rf rtmpdump-2.4; cp -a $(archivedir)/rtmpdump.git rtmpdump-2.4) && ( cd rtmpdump-2.4 && chmod +w -R .; patch -p1 < ../Patches/rtmpdump-2.4.patch )
	[ -d "$(archivedir)/rtmpdump.git" ] && \
	(cd $(archivedir)/rtmpdump.git; git pull; cd "$(buildprefix)";); \
	cd rtmpdump-2.4 && \
		$(BUILDENV) \
		make CROSS_COMPILE=$(target)- && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/librtmp.pc
	rm -rf rtmpdump-2.4
	touch $@

#
# libdvbsi++
#
$(D)/libdvbsipp: $(D)/bootstrap $(archivedir)/libdvbsi++-0.3.7.tar.bz2 
	( rm -rf libdvbsi++-0.3.7 || /bin/true ) && bunzip2 -cd $(archivedir)/libdvbsi++-0.3.7.tar.bz2 | TAPE=- tar -x && ( cd libdvbsi++-0.3.7 && chmod +w -R .; patch -p1 < ../Patches/libdvbsi++-0.3.7.patch )
	cd libdvbsi++-0.3.7 && \
		$(CONFIGURE) \
			--prefix=$(targetprefix)/usr \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libdvbsi++.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libdvbsi++.la
	rm -rf libdvbsi++-0.3.7
	touch $@

#
# libmpeg2
#
$(D)/libmpeg2: $(D)/bootstrap $(archivedir)/libmpeg2-0.5.1.tar.gz 
	( rm -rf libmpeg2-0.5.1 || /bin/true ) && gunzip -cd $(archivedir)/libmpeg2-0.5.1.tar.gz | TAPE=- tar -x
	cd libmpeg2-0.5.1 && \
		$(CONFIGURE) \
			--disable-sdl \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf libmpeg2-0.5.1
	touch $@

#
# libsamplerate
#
$(D)/libsamplerate: $(D)/bootstrap $(archivedir)/libsamplerate-0.1.8.tar.gz 
	( rm -rf libsamplerate-0.1.8 || /bin/true ) && gunzip -cd $(archivedir)/libsamplerate-0.1.8.tar.gz | TAPE=- tar -x
	cd libsamplerate-0.1.8 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf libsamplerate-0.1.8
	touch $@

#
# libmodplug
#
$(D)/libmodplug: $(D)/bootstrap $(archivedir)/libmodplug-0.8.8.4.tar.gz 
	( rm -rf libmodplug-0.8.8.4 || /bin/true ) && gunzip -cd $(archivedir)/libmodplug-0.8.8.4.tar.gz | TAPE=- tar -x
	cd libmodplug-0.8.8.4 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libmodplug.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libmodplug.la
	rm -rf libmodplug-0.8.8.4
	touch $@

#
# libtiff
#
$(D)/libtiff: $(D)/bootstrap $(archivedir)/tiff-4.0.3.tar.gz 
	( rm -rf tiff-4.0.3 || /bin/true ) && gunzip -cd $(archivedir)/tiff-4.0.3.tar.gz | TAPE=- tar -x
	cd tiff-4.0.3 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		
	rm -rf tiff-4.0.3
	touch $@

#
# lzo
#
$(D)/lzo: $(D)/bootstrap $(archivedir)/lzo-2.06.tar.gz 
	( rm -rf lzo-2.06 || /bin/true ) && gunzip -cd $(archivedir)/lzo-2.06.tar.gz | TAPE=- tar -x
	cd lzo-2.06 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf lzo-2.06
	touch $@

#
# yajl
#
$(D)/yajl: $(D)/bootstrap $(archivedir)/yajl.git 
	( rm -rf yajl-2.0.1 || /bin/true ) && (rm -rf yajl-2.0.1; cp -a $(archivedir)/yajl.git yajl-2.0.1)
	cd yajl-2.0.1 && \
		sed -i "s/install: all/install: distro/g" configure && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) distro && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf yajl-2.0.1
	touch $@

#
# libpcre (shouldn't this be named pcre without the lib?)
#
$(D)/libpcre: $(D)/bootstrap $(archivedir)/pcre-8.30.tar.bz2 
	( rm -rf pcre-8.30 || /bin/true ) && bunzip2 -cd $(archivedir)/pcre-8.30.tar.bz2 | TAPE=- tar -x
	cd pcre-8.30 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--enable-utf8 \
			--enable-unicode-properties \
		&& \
		$(MAKE) all && \
		sed -e "s,^prefix=,prefix=$(targetprefix)," < pcre-config > $(hostprefix)/bin/pcre-config && \
		chmod 755 $(hostprefix)/bin/pcre-config && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libpcre.pc libpcrecpp.pc libpcreposix.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libpcre.la $(targetprefix)/usr/lib/libpcreposix.la
		rm -f $(targetprefix)/usr/bin/pcre-config
	rm -rf pcre-8.30
	touch $@

#
# libcdio
#
$(D)/libcdio: $(D)/bootstrap $(archivedir)/libcdio-0.83.tar.gz 
	( rm -rf libcdio-0.83 || /bin/true ) && gunzip -cd $(archivedir)/libcdio-0.83.tar.gz | TAPE=- tar -x
	cd libcdio-0.83 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf libcdio-0.83
	touch $@

#
# jasper
#
$(D)/jasper: $(D)/bootstrap $(archivedir)/jasper-1.900.1.zip 
	( rm -rf jasper-1.900.1 || /bin/true ) && unzip $(archivedir)/jasper-1.900.1.zip
	cd jasper-1.900.1 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf jasper-1.900.1
	touch $@

#
# mysql
#
$(D)/mysql: $(D)/bootstrap $(archivedir)/mysql-5.1.40.tar.gz 
	( rm -rf mysql-5.1.40 || /bin/true ) && gunzip -cd $(archivedir)/mysql-5.1.40.tar.gz | TAPE=- tar -x
	cd mysql-5.1.40 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--with-atomic-ops=up \
			--with-embedded-server \
			--sysconfdir=/etc/mysql \
			--localstatedir=/var/mysql \
			--disable-dependency-tracking \
			--without-raid \
			--without-debug \
			--with-low-memory \
			--without-query-cache \
			--without-man \
			--without-docs \
			--without-innodb \
		&& \
		$(MAKE) all && \
		
	rm -rf mysql-5.1.40
	touch $@

#
# libmicrohttpd
#
$(D)/libmicrohttpd: $(D)/bootstrap $(archivedir)/libmicrohttpd-0.9.19.tar.gz 
	( rm -rf libmicrohttpd-0.9.19 || /bin/true ) && gunzip -cd $(archivedir)/libmicrohttpd-0.9.19.tar.gz | TAPE=- tar -x
	cd libmicrohttpd-0.9.19 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf libmicrohttpd-0.9.19
	touch $@

#
# libexif
#
$(D)/libexif: $(D)/bootstrap $(archivedir)/libexif-0.6.20.tar.gz 
	( rm -rf libexif-0.6.20 || /bin/true ) && gunzip -cd $(archivedir)/libexif-0.6.20.tar.gz | TAPE=- tar -x
	cd libexif-0.6.20 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libexif.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libexif.la
	rm -rf libexif-0.6.20
	touch $@

#
# minidlna
#
$(D)/minidlna: $(D)/bootstrap $(D)/zlib $(D)/sqlite $(D)/libexif $(D)/libjpeg $(D)/libid3tag $(D)/libogg $(D)/libvorbis $(D)/libflac $(D)/ffmpeg $(archivedir)/minidlna-1.1.5.tar.gz 
	( rm -rf minidlna-1.1.5 || /bin/true ) && gunzip -cd $(archivedir)/minidlna-1.1.5.tar.gz | TAPE=- tar -x && ( cd minidlna-1.1.5 && chmod +w -R .; patch -p1 < ../Patches/minidlna-1.1.5.patch )
	cd minidlna-1.1.5 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf minidlna-1.1.5
	touch $@

#
# djmount
#
$(D)/djmount: $(D)/bootstrap $(D)/fuse $(archivedir)/djmount-0.71.tar.gz 
	( rm -rf djmount-0.71 || /bin/true ) && gunzip -cd $(archivedir)/djmount-0.71.tar.gz | TAPE=- tar -x
	cd djmount-0.71 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf djmount-0.71
	touch $@

#
# libupnp
#
$(D)/libupnp: $(D)/bootstrap $(archivedir)/libupnp-1.6.17.tar.bz2 
	( rm -rf libupnp-1.6.17 || /bin/true ) && bunzip2 -cd $(archivedir)/libupnp-1.6.17.tar.bz2 | TAPE=- tar -x
	cd libupnp-1.6.17 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libupnp.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libupnp.la $(targetprefix)/usr/lib/libixml.la $(targetprefix)/usr/lib/libthreadutil.la
	rm -rf libupnp-1.6.17
	touch $@

#
# rarfs
#
$(D)/rarfs: $(D)/bootstrap $(D)/fuse $(archivedir)/rarfs-0.1.0.tar.gz 
	( rm -rf rarfs-0.1.0 || /bin/true ) && gunzip -cd $(archivedir)/rarfs-0.1.0.tar.gz | TAPE=- tar -x
	cd rarfs-0.1.0 && \
		export PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig && \
		$(CONFIGURE) \
		CFLAGS="$(TARGET_CFLAGS) -D_FILE_OFFSET_BITS=64" \
			--disable-option-checking \
			--includedir=/usr/include/fuse \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf rarfs-0.1.0
	touch $@

#
# sshfs
#
$(D)/sshfs: $(D)/bootstrap $(D)/fuse $(archivedir)/sshfs-fuse-2.4.tar.bz2 
	( rm -rf sshfs-fuse-2.4 || /bin/true ) && bunzip2 -cd $(archivedir)/sshfs-fuse-2.4.tar.bz2 | TAPE=- tar -x
	cd sshfs-fuse-2.4 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf sshfs-fuse-2.4
	touch $@

#
# tinyxml
#
$(D)/tinyxml: $(D)/bootstrap $(archivedir)/tinyxml_2_6_2.tar.gz 
	( rm -rf tinyxml2.6.2 || /bin/true ) && gunzip -cd $(archivedir)/tinyxml_2_6_2.tar.gz | TAPE=- tar -x && mv tinyxml tinyxml2.6.2 && ( cd tinyxml2.6.2 && chmod +w -R .; patch -p1 < ../Patches/tinyxml2.6.2.patch )
	cd tinyxml2.6.2 && \
		libtoolize -f -c && \
		$(BUILDENV) \
		$(MAKE) && \
		$(MAKE) install PREFIX=$(targetprefix)/usr
	rm -rf tinyxml2.6.2
	touch $@

#
# libnfs
#
$(D)/libnfs: $(D)/bootstrap $(archivedir)/libnfs.git 
	( rm -rf libnfs-c0ebf57b21 || /bin/true ) && (rm -rf libnfs-c0ebf57b21; cp -a $(archivedir)/libnfs.git libnfs-c0ebf57b21)
	cd libnfs-c0ebf57b21 && \
		aclocal && \
		autoheader && \
		autoconf && \
		automake --foreign && \
		libtoolize --force && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf libnfs-c0ebf57b21
	touch $@

#
# taglib
#
$(D)/taglib: $(D)/bootstrap $(archivedir)/taglib-1.8.tar.gz 
	( rm -rf taglib-1.8 || /bin/true ) && gunzip -cd $(archivedir)/taglib-1.8.tar.gz | TAPE=- tar -x
	cd taglib-1.8 && \
		$(BUILDENV) \
			cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_RELEASE_TYPE=Release . \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf taglib-1.8
	touch $@

#
# libdaemon
#
$(D)/libdaemon: $(D)/bootstrap $(archivedir)/libdaemon-0.14.tar.gz 
	( rm -rf libdaemon-0.14 || /bin/true ) && gunzip -cd $(archivedir)/libdaemon-0.14.tar.gz | TAPE=- tar -x
	cd libdaemon-0.14 && \
		$(CONFIGURE) \
			ac_cv_func_setpgrp_void=yes \
			--prefix=/usr \
			--disable-static \
		&& \
		$(MAKE) all && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf libdaemon-0.14
	touch $@

#
# libplist
#
$(D)/libplist: $(D)/bootstrap $(archivedir)/libplist-1.10.tar.gz 
	( rm -rf libplist-1.10 || /bin/true ) && gunzip -cd $(archivedir)/libplist-1.10.tar.gz | TAPE=- tar -x
	export PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig:$(PKG_CONFIG_PATH) && \
	cd libplist-1.10 && \
		rm CMakeFiles/* -rf CMakeCache.txt cmake_install.cmake && \
		cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_SYSTEM_NAME="Linux" \
			-DCMAKE_INSTALL_PREFIX="" \
			-DCMAKE_C_COMPILER="$(target)-gcc" \
			-DCMAKE_CXX_COMPILER="$(target)-g++" \
			-DCMAKE_INCLUDE_PATH="$(targetprefix)/usr/include" && \
			find . -name cmake_install.cmake -print0 | xargs -0 \
			sed -i 's@SET(CMAKE_INSTALL_PREFIX "/usr/local")@SET(CMAKE_INSTALL_PREFIX "")@' \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libplist.pc && $(MAKE) install DESTDIR=$(targetprefix)/usr
	rm -rf libplist-1.10
	touch $@

#
# gmp
#
$(D)/gmp: $(D)/bootstrap $(archivedir)/gmp-6.0.0a.tar.xz 
	( rm -rf gmp-6.0.0 || /bin/true ) && tar -xpf $(archivedir)/gmp-6.0.0a.tar.xz
	cd gmp-6.0.0 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgmp.la
	rm -rf gmp-6.0.0
	touch $@

#
# nettle
#
$(D)/nettle: $(D)/bootstrap $(D)/gmp $(archivedir)/nettle-3.1.tar.gz 
	( rm -rf nettle-3.1 || /bin/true ) && gunzip -cd $(archivedir)/nettle-3.1.tar.gz | TAPE=- tar -x
	cd nettle-3.1 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--with-gmp=yes \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," nettle.pc hogweed.pc && $(MAKE) install DESTDIR=$(targetprefix)
	rm -rf nettle-3.1
	touch $@

#
# gnutls
#
$(D)/gnutls: $(D)/bootstrap $(D)/nettle $(archivedir)/gnutls-3.4.3.tar.xz 
	( rm -rf gnutls-3.4.3 || /bin/true ) && tar -xpf $(archivedir)/gnutls-3.4.3.tar.xz
	cd gnutls-3.4.3 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-rpath \
			--with-included-libtasn1 \
			--enable-local-libopts \
			--with-libpthread-prefix=$(targetprefix)/usr \
			--disable-guile \
			--disable-crywrap \
			--without-p11-kit \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," lib/gnutls.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgnutls.la $(targetprefix)/usr/lib/libgnutlsxx.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libgnutlsxx.la
	rm -rf gnutls-3.4.3
	touch $@

#
# glibnetworking
#
$(D)/glibnetworking: $(D)/bootstrap $(D)/gnutls $(D)/glib2 $(archivedir)/glib-networking-2.45.1.tar.xz 
	( rm -rf glib-networking-2.45.1 || /bin/true ) && tar -xpf $(archivedir)/glib-networking-2.45.1.tar.xz
	cd glib-networking-2.45.1 && \
		$(CONFIGURE) \
			--prefix=/usr/ \
		&& \
		$(MAKE) && \
		$(MAKE) install INSTALLROOT=$(targetprefix)
	rm -rf glib-networking-2.45.1
	touch $@

#
# host_python
#
$(D)/host_python: $(archivedir)/Python-2.7.9.tar.xz 
	( rm -rf host-python-2.7.9 || /bin/true ) && tar -xpf $(archivedir)/Python-2.7.9.tar.xz && mv Python-2.7.9 host-python-2.7.9 && ( cd host-python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-xcompile.patch ) && ( cd host-python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-revert_use_of_sysconfigdata.patch ) && ( cd host-python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9.patch ) && ( cd host-python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-pgettext.patch ) && \
	( cd host-python-2.7.9 && \
		autoconf && \
		CONFIG_SITE= \
		OPT="$(HOST_CFLAGS)" \
		./configure \
			--without-cxx-main \
			--with-threads \
		&& \
		$(MAKE) python Parser/pgen && \
		mv python ./hostpython && \
		mv Parser/pgen ./hostpgen && \
		\
		$(MAKE) distclean && \
		./configure \
			--prefix=$(hostprefix) \
			--sysconfdir=$(hostprefix)/etc \
			--without-cxx-main \
			--with-threads \
		&& \
		$(MAKE) all install && \
		cp ./hostpgen $(hostprefix)/bin/pgen ) && \
	rm -rf host-python-2.7.9
	touch $@

#
# python
#
$(D)/python: $(D)/bootstrap $(D)/host_python $(D)/libncurses $(D)/zlib $(OPENSSL) $(D)/libffi $(D)/bzip2 $(D)/libreadline $(D)/sqlite $(archivedir)/Python-2.7.9.tar.xz 
	( rm -rf python-2.7.9 || /bin/true ) && tar -xpf $(archivedir)/Python-2.7.9.tar.xz && mv Python-2.7.9 python-2.7.9 && ( cd python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-xcompile.patch ) && ( cd python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-revert_use_of_sysconfigdata.patch ) && ( cd python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9.patch ) && ( cd python-2.7.9 && chmod +w -R .; patch -p1 < ../Patches/python_2.7.9-pgettext.patch )
	( cd python-2.7.9 && \
		CONFIG_SITE= \
		$(BUILDENV) \
		autoreconf --verbose --install --force Modules/_ctypes/libffi && \
		autoconf && \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--target=$(target) \
			--prefix=/usr \
			--sysconfdir=/etc \
			--enable-shared \
			--enable-ipv6 \
			--with-threads \
			--with-pymalloc \
			--with-signal-module \
			--with-wctype-functions \
			ac_sys_system=Linux \
			ac_sys_release=2 \
			ac_cv_file__dev_ptmx=no \
			ac_cv_file__dev_ptc=no \
			ac_cv_no_strict_aliasing_ok=yes \
			ac_cv_pthread=yes \
			ac_cv_cxx_thread=yes \
			ac_cv_sizeof_off_t=8 \
			ac_cv_have_chflags=no \
			ac_cv_have_lchflags=no \
			ac_cv_py_format_size_t=yes \
			ac_cv_broken_sem_getvalue=no \
			HOSTPYTHON=$(hostprefix)/bin/python \
		&& \
		$(MAKE) $(MAKE_OPTS) \
			PYTHON_MODULES_INCLUDE="$(targetprefix)/usr/include" \
			PYTHON_MODULES_LIB="$(targetprefix)/usr/lib" \
			PYTHON_XCOMPILE_DEPENDENCIES_PREFIX="$(targetprefix)" \
			CROSS_COMPILE_TARGET=yes \
			CROSS_COMPILE=$(target) \
			MACHDEP=linux2 \
			HOSTARCH=$(target) \
			CFLAGS="$(TARGET_CFLAGS)" \
			LDFLAGS="$(TARGET_LDFLAGS)" \
			LD="$(target)-gcc" \
			HOSTPYTHON=$(hostprefix)/bin/python \
			HOSTPGEN=$(hostprefix)/bin/pgen \
			all install DESTDIR=$(targetprefix) \
		) && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/python-2.7.pc
	$(LN_SF) ../../libpython$(PYTHON_VERSION).so.1.0 $(targetprefix)/$(PYTHON_DIR)/config/libpython$(PYTHON_VERSION).so && \
	$(LN_SF) $(targetprefix)/$(PYTHON_INCLUDE_DIR) $(targetprefix)/usr/include/python
	rm -rf python-2.7.9
	touch $@

#
# python_setuptools
#
$(D)/python_setuptools: $(D)/bootstrap $(D)/python $(archivedir)/setuptools-5.2.tar.gz 
	( rm -rf setuptools-5.2 || /bin/true ) && gunzip -cd $(archivedir)/setuptools-5.2.tar.gz | TAPE=- tar -x
	cd setuptools-5.2 && \
		$(PYTHON_INSTALL)
	rm -rf setuptools-5.2
	touch $@

#
# libxmlccwrap
#
$(D)/libxmlccwrap: $(D)/bootstrap $(D)/libxml2_e2 $(D)/libxslt $(archivedir)/libxmlccwrap-0.0.12.tar.gz 
	( rm -rf libxmlccwrap-0.0.12 || /bin/true ) && gunzip -cd $(archivedir)/libxmlccwrap-0.0.12.tar.gz | TAPE=- tar -x
	cd libxmlccwrap-0.0.12 && \
		$(CONFIGURE) \
			--target=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libxmlccwrap.la
	rm -rf libxmlccwrap-0.0.12
	touch $@

#
# python_lxml
#
$(D)/python_lxml: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/lxml-2.2.8.tgz 
	( rm -rf lxml-2.2.8 || /bin/true ) && gunzip -cd $(archivedir)/lxml-2.2.8.tgz | TAPE=- tar -x
	cd lxml-2.2.8 && \
		$(PYTHON_BUILD) \
			--with-xml2-config=$(hostprefix)/bin/xml2-config \
			--with-xslt-config=$(hostprefix)/bin/xslt-config && \
		$(PYTHON_INSTALL)
	rm -rf lxml-2.2.8
	touch $@

#
# python_twisted
#
$(D)/python_twisted: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/Twisted-13.2.0.tar.bz2 
	( rm -rf Twisted-13.2.0 || /bin/true ) && bunzip2 -cd $(archivedir)/Twisted-13.2.0.tar.bz2 | TAPE=- tar -x
	cd Twisted-13.2.0 && \
		$(PYTHON_INSTALL)
	rm -rf Twisted-13.2.0
	touch $@

#
# python_imaging
#
$(D)/python_imaging: $(D)/bootstrap $(D)/libjpeg $(D)/libfreetype $(D)/python $(D)/python_setuptools $(archivedir)/Imaging-1.1.7.tar.gz 
	( rm -rf Imaging-1.1.7 || /bin/true ) && gunzip -cd $(archivedir)/Imaging-1.1.7.tar.gz | TAPE=- tar -x && ( cd Imaging-1.1.7 && chmod +w -R .; patch -p1 < ../Patches/python-imaging-1.1.7-crosscompiling.patch )
	cd Imaging-1.1.7 && \
		sed -ie "s|"darwin"|"darwinNot"|g" "setup.py"; \
		sed -ie "s|ZLIB_ROOT = None|ZLIB_ROOT = libinclude(\"${targetprefix}/usr\")|" "setup.py"; \
		$(PYTHON_INSTALL)
	rm -rf Imaging-1.1.7
	touch $@

#
# python_pycrypto
#
$(D)/python_pycrypto: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/pycrypto-2.5.tar.gz 
	( rm -rf pycrypto-2.5 || /bin/true ) && gunzip -cd $(archivedir)/pycrypto-2.5.tar.gz | TAPE=- tar -x && ( cd pycrypto-2.5 && chmod +w -R .; patch -p1 < ../Patches/python-pycrypto-no-usr-include.patch )
	cd pycrypto-2.5 && \
		$(CONFIGURE) \
			--prefix=/usr && \
		$(PYTHON_INSTALL)
	rm -rf pycrypto-2.5
	touch $@

#
# python_pyusb
#
$(D)/python_pyusb: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/pyusb-1.0.0a3.tar.gz 
	( rm -rf pyusb-1.0.0a3 || /bin/true ) && gunzip -cd $(archivedir)/pyusb-1.0.0a3.tar.gz | TAPE=- tar -x
	cd pyusb-1.0.0a3 && \
		$(PYTHON_INSTALL)
	rm -rf pyusb-1.0.0a3
	touch $@

#
# python_six
#
$(D)/python_six: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/six-1.9.0.tar.gz 
	( rm -rf six-1.9.0 || /bin/true ) && gunzip -cd $(archivedir)/six-1.9.0.tar.gz | TAPE=- tar -x
	cd six-1.9.0 && \
		$(PYTHON_INSTALL)
	rm -rf six-1.9.0
	touch $@

#
# python_cffi
#
$(D)/python_cffi: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/cffi-1.2.1.tar.gz 
	( rm -rf cffi-1.2.1 || /bin/true ) && gunzip -cd $(archivedir)/cffi-1.2.1.tar.gz | TAPE=- tar -x
	cd cffi-1.2.1 && \
		$(PYTHON_INSTALL)
	rm -rf cffi-1.2.1
	touch $@

#
# python_enum34
#
$(D)/python_enum34: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/enum34-1.0.4.tar.gz 
	( rm -rf enum34-1.0.4 || /bin/true ) && gunzip -cd $(archivedir)/enum34-1.0.4.tar.gz | TAPE=- tar -x
	cd enum34-1.0.4 && \
		$(PYTHON_INSTALL)
	rm -rf enum34-1.0.4
	touch $@

#
# python_pyasn1_modules
#
$(D)/python_pyasn1_modules: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/pyasn1-modules-0.0.7.tar.gz 
	( rm -rf pyasn1-modules-0.0.7 || /bin/true ) && gunzip -cd $(archivedir)/pyasn1-modules-0.0.7.tar.gz | TAPE=- tar -x
	cd pyasn1-modules-0.0.7 && \
		$(PYTHON_INSTALL)
	rm -rf pyasn1-modules-0.0.7
	touch $@

#
# python_pyasn1
#
$(D)/python_pyasn1: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(D)/python_pyasn1_modules $(archivedir)/pyasn1-0.1.8.tar.gz 
	( rm -rf pyasn1-0.1.8 || /bin/true ) && gunzip -cd $(archivedir)/pyasn1-0.1.8.tar.gz | TAPE=- tar -x
	cd pyasn1-0.1.8 && \
		$(PYTHON_INSTALL)
	rm -rf pyasn1-0.1.8
	touch $@

#
# python_pycparser
#
$(D)/python_pycparser: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(D)/python_pyasn1 $(archivedir)/pycparser-2.14.tar.gz 
	( rm -rf pycparser-2.14 || /bin/true ) && gunzip -cd $(archivedir)/pycparser-2.14.tar.gz | TAPE=- tar -x
	cd pycparser-2.14 && \
		$(PYTHON_INSTALL)
	rm -rf pycparser-2.14
	touch $@

#
# python_cryptography
#
$(D)/python_cryptography: $(D)/bootstrap $(D)/libffi $(D)/python $(D)/python_setuptools $(D)/python_pyopenssl $(D)/python_six $(D)/python_pycparser $(archivedir)/cryptography-0.8.1.tar.gz 
	( rm -rf cryptography-0.8.1 || /bin/true ) && gunzip -cd $(archivedir)/cryptography-0.8.1.tar.gz | TAPE=- tar -x
	cd cryptography-0.8.1 && \
		$(PYTHON_INSTALL)
	rm -rf cryptography-0.8.1
	touch $@

#
# python_pyopenssl
#
$(D)/python_pyopenssl: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/pyOpenSSL-0.13.1.tar.gz 
	( rm -rf pyOpenSSL-0.13.1 || /bin/true ) && gunzip -cd $(archivedir)/pyOpenSSL-0.13.1.tar.gz | TAPE=- tar -x && ( cd pyOpenSSL-0.13.1 && chmod +w -R .; patch -p1 < ../Patches/python_pyopenssl_x509_revoked_dup.patch )
	cd pyOpenSSL-0.13.1 && \
		$(PYTHON_INSTALL)
	rm -rf pyOpenSSL-0.13.1
	touch $@

#
# python_elementtree
#
$(D)/python_elementtree: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/elementtree-1.2.6-20050316.tar.gz 
	( rm -rf elementtree-1.2.6-20050316 || /bin/true ) && gunzip -cd $(archivedir)/elementtree-1.2.6-20050316.tar.gz | TAPE=- tar -x
	cd elementtree-1.2.6-20050316 && \
		$(PYTHON_INSTALL)
	rm -rf elementtree-1.2.6-20050316
	touch $@

#
# python_wifi
#
$(D)/python_wifi: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/python-wifi-0.5.0.tar.bz2 
	( rm -rf python-wifi-0.5.0 || /bin/true ) && bunzip2 -cd $(archivedir)/python-wifi-0.5.0.tar.bz2 | TAPE=- tar -x
	cd python-wifi-0.5.0 && \
		$(PYTHON_INSTALL)
	rm -rf python-wifi-0.5.0
	touch $@

#
# python_cheetah
#
$(D)/python_cheetah: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/Cheetah-2.4.4.tar.gz 
	( rm -rf Cheetah-2.4.4 || /bin/true ) && gunzip -cd $(archivedir)/Cheetah-2.4.4.tar.gz | TAPE=- tar -x
	cd Cheetah-2.4.4 && \
		$(PYTHON_INSTALL)
	rm -rf Cheetah-2.4.4
	touch $@

#
# python_mechanize
#
$(D)/python_mechanize: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/mechanize-0.2.5.tar.gz 
	( rm -rf mechanize-0.2.5 || /bin/true ) && gunzip -cd $(archivedir)/mechanize-0.2.5.tar.gz | TAPE=- tar -x
	cd mechanize-0.2.5 && \
		$(PYTHON_INSTALL)
	rm -rf mechanize-0.2.5
	touch $@

#
# python_gdata
#
$(D)/python_gdata: $(D)/bootstrap $(D)/python $(D)/python_setuptools @DEPENDS_gdata@
	( rm -rf gdata-2.0.18 || /bin/true ) && gunzip -cd $(archivedir)/gdata-2.0.18.tar.gz | TAPE=- tar -x
	cd gdata-2.0.18 && \
		$(PYTHON_INSTALL)
	rm -rf gdata-2.0.18
	touch $@

#
# python_zope_interface
#
$(D)/python_zope_interface: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/zope.interface-4.1.1.tar.gz 
	( rm -rf zope.interface-4.1.1 || /bin/true ) && gunzip -cd $(archivedir)/zope.interface-4.1.1.tar.gz | TAPE=- tar -x
	cd zope.interface-4.1.1 && \
		$(PYTHON_INSTALL)
	rm -rf zope.interface-4.1.1
	touch $@

#
# python_requests
#
$(D)/python_requests: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/requests-2.7.0.tar.gz 
	( rm -rf requests-2.7.0 || /bin/true ) && gunzip -cd $(archivedir)/requests-2.7.0.tar.gz | TAPE=- tar -x
	cd requests-2.7.0 && \
		$(PYTHON_INSTALL)
	rm -rf requests-2.7.0
	touch $@

#
# python_requests
#
$(D)/python_futures: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/futures-2.1.6.tar.gz 
	( rm -rf futures-2.1.6 || /bin/true ) && gunzip -cd $(archivedir)/futures-2.1.6.tar.gz | TAPE=- tar -x
	cd futures-2.1.6 && \
		$(PYTHON_INSTALL)
	rm -rf futures-2.1.6
	touch $@

#
# python_singledispatch
#
$(D)/python_singledispatch: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/singledispatch-3.4.0.3.tar.gz 
	( rm -rf singledispatch-3.4.0.3 || /bin/true ) && gunzip -cd $(archivedir)/singledispatch-3.4.0.3.tar.gz | TAPE=- tar -x
	cd singledispatch-3.4.0.3 && \
		$(PYTHON_INSTALL)
	rm -rf singledispatch-3.4.0.3
	touch $@

#
# python_livestreamer
#
$(D)/python_livestreamer: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(archivedir)/livestreamer.git 
	( rm -rf livestreamer-1.0 || /bin/true ) && (rm -rf livestreamer-1.0; cp -a $(archivedir)/livestreamer.git livestreamer-1.0)
	[ -d "$(archivedir)/livestreamer.git" ] && \
	(cd $(archivedir)/livestreamer.git; git pull; cd "$(buildprefix)";); \
	cd livestreamer-1.0 && \
		$(PYTHON_INSTALL)
	rm -rf livestreamer-1.0
	touch $@

#
# python_livestreamersrv
#
$(D)/python_livestreamersrv: $(D)/bootstrap $(D)/python $(D)/python_setuptools $(D)/python_livestreamer $(archivedir)/livestreamersrv.git 
	( rm -rf livestreamersrv-1.0 || /bin/true ) && (rm -rf livestreamersrv-1.0; cp -a $(archivedir)/livestreamersrv.git livestreamersrv-1.0)
	[ -d "$(archivedir)/livestreamersrv.git" ] && \
	(cd $(archivedir)/livestreamersrv.git; git pull; cd "$(buildprefix)";); \
	cd livestreamersrv-1.0 && \
		cp -rd livestreamersrv $(targetprefix)/usr/sbin && \
		cp -rd offline.mp4 $(targetprefix)/usr/share
	rm -rf livestreamersrv-1.0
	touch $@

##############################   GSTREAMER + PLUGINS   #########################
#
# gstreamer
#
$(D)/gstreamer: $(D)/bootstrap $(D)/glib2 $(D)/libxml2_e2 $(D)/glibnetworking $(archivedir)/gstreamer-1.6.1.tar.xz 
	( rm -rf gstreamer-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gstreamer-1.6.1.tar.xz && ( cd gstreamer-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gstreamer-1.0-fix-crash-with-gst-inspect.patch ) && ( cd gstreamer-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gstreamer-1.0-revert-baseparse-fix-GST_BASE_PARSE_FLAG_LOST_SYNC.patch )
	cd gstreamer-1.6.1 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-gtk-doc \
			--disable-docbook \
			--disable-dependency-tracking \
			--disable-check \
			--disable-gst-debug \
			--disable-examples \
			--disable-tests \
			--disable-debug \
			--enable-introspection=no \
			ac_cv_func_register_printf_function=no \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," pkgconfig/gstreamer-1.0.pc pkgconfig/gstreamer-base-1.0.pc pkgconfig/gstreamer-controller-1.0.pc pkgconfig/gstreamer-dataprotocol-1.0.pc pkgconfig/gstreamer-net-1.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgstreamer-1.0.la $(targetprefix)/usr/lib/libgstbase-1.0.la $(targetprefix)/usr/lib/libgstcontroller-1.0.la $(targetprefix)/usr/lib/libgstnet-1.0.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libgstbase-1.0.la $(targetprefix)/usr/lib/libgstcontroller-1.0.la $(targetprefix)/usr/lib/libgstnet-1.0.la
	rm -rf gstreamer-1.6.1
	touch $@

#
# gst_plugins_base
#
$(D)/gst_plugins_base: $(D)/bootstrap $(D)/glib2 $(D)/orc $(D)/gstreamer $(D)/libogg $(D)/libalsa $(archivedir)/gst-plugins-base-1.6.1.tar.xz 
	( rm -rf gst-plugins-base-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gst-plugins-base-1.6.1.tar.xz && ( cd gst-plugins-base-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-base-get-caps-from-src-pad-when-query-caps.patch ) && ( cd gst-plugins-base-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-base-riff-media-added-fourcc-to-all-mpeg4-video-caps.patch ) && ( cd gst-plugins-base-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-base-subparse-avoid-false-negatives-dealing-with-UTF-8.patch ) && ( cd gst-plugins-base-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-base-taglist-not-send-to-down-stream-if-all-the-frame-cor.patch )
	cd gst-plugins-base-1.6.1 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-freetypetest \
			--disable-libvisual \
			--disable-valgrind \
			--disable-debug \
			--disable-tests \
			--disable-examples \
			--disable-debug \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," pkgconfig/gstreamer-audio-1.0.pc pkgconfig/gstreamer-app-1.0.pc pkgconfig/gstreamer-cdda-1.0.pc pkgconfig/gstreamer-cdda.pc pkgconfig/gstreamer-fft-1.0.pc pkgconfig/gstreamer-floatcast-1.0.pc pkgconfig/gstreamer-interfaces-1.0.pc pkgconfig/gstreamer-netbuffer-1.0.pc pkgconfig/gstreamer-pbutils-1.0.pc pkgconfig/gstreamer-riff-1.0.pc pkgconfig/gstreamer-rtp-1.0.pc pkgconfig/gstreamer-rtsp-1.0.pc pkgconfig/gstreamer-sdp-1.0.pc pkgconfig/gstreamer-tag-1.0.pc pkgconfig/gstreamer-video-1.0.pc pkgconfig/gstreamer-plugins-base-1.0.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgstapp-1.0.la $(targetprefix)/usr/lib/libgstaudio-1.0.la $(targetprefix)/usr/lib/libgstalsa-1.0.la $(targetprefix)/usr/lib/libgstfft-1.0.la $(targetprefix)/usr/lib/libgstogg-1.0.la $(targetprefix)/usr/lib/libgstdp-1.0.la $(targetprefix)/usr/lib/libgstpbutils-1.0.la $(targetprefix)/usr/lib/libgstriff-1.0.la $(targetprefix)/usr/lib/libgstrtp-1.0.la $(targetprefix)/usr/lib/libgstrtsp-1.0.la $(targetprefix)/usr/lib/libgstsdp-1.0.la $(targetprefix)/usr/lib/libgsttag-1.0.la $(targetprefix)/usr/lib/libgstvideo-1.0.la $(targetprefix)/usr/lib/libgstallocators-1.0.la $(targetprefix)/usr/lib/libgstvideorate-1.0.la $(targetprefix)/usr/lib/libgstvideoconvert-1.0.la $(targetprefix)/usr/lib/libgstvideotestsrc-1.0.la $(targetprefix)/usr/lib/libgstvolume-1.0.la $(targetprefix)/usr/lib/libgstaudiorate-1.0.la $(targetprefix)/usr/lib/libgstgio-1.0.la $(targetprefix)/usr/lib/libgstaudiotestsrc-1.0.la $(targetprefix)/usr/lib/libgstencodebin-1.0.la $(targetprefix)/usr/lib/libgstplayback-1.0.la $(targetprefix)/usr/lib/libgsttypefindfunctions-1.0.la $(targetprefix)/usr/lib/libgstaudioconvert-1.0.la $(targetprefix)/usr/lib/libgstadder-1.0.la $(targetprefix)/usr/lib/libgstvideoscale-1.0.la $(targetprefix)/usr/lib/libgstaudioresample-1.0.la $(targetprefix)/usr/lib/libgstsubparse-1.0.la && perl -pi -e "s, /usr/lib, $(targetprefix)/usr/lib,g if /^dependency_libs/" $(targetprefix)/usr/lib/libgstapp-1.0.la $(targetprefix)/usr/lib/libgstaudio-1.0.la $(targetprefix)/usr/lib/libgstalsa-1.0.la $(targetprefix)/usr/lib/libgstfft-1.0.la $(targetprefix)/usr/lib/libgstogg-1.0.la $(targetprefix)/usr/lib/libgstdp-1.0.la $(targetprefix)/usr/lib/libgstpbutils-1.0.la $(targetprefix)/usr/lib/libgstriff-1.0.la $(targetprefix)/usr/lib/libgstrtp-1.0.la $(targetprefix)/usr/lib/libgstrtsp-1.0.la $(targetprefix)/usr/lib/libgstsdp-1.0.la $(targetprefix)/usr/lib/libgsttag-1.0.la $(targetprefix)/usr/lib/libgstvideo-1.0.la $(targetprefix)/usr/lib/libgstallocators-1.0.la $(targetprefix)/usr/lib/libgstvideorate-1.0.la $(targetprefix)/usr/lib/libgstvideoconvert-1.0.la $(targetprefix)/usr/lib/libgstvideotestsrc-1.0.la $(targetprefix)/usr/lib/libgstvolume-1.0.la $(targetprefix)/usr/lib/libgstaudiorate-1.0.la $(targetprefix)/usr/lib/libgstgio-1.0.la $(targetprefix)/usr/lib/libgstaudiotestsrc-1.0.la $(targetprefix)/usr/lib/libgstencodebin-1.0.la $(targetprefix)/usr/lib/libgstplayback-1.0.la $(targetprefix)/usr/lib/libgsttypefindfunctions-1.0.la $(targetprefix)/usr/lib/libgstaudioconvert-1.0.la $(targetprefix)/usr/lib/libgstadder-1.0.la $(targetprefix)/usr/lib/libgstvideoscale-1.0.la $(targetprefix)/usr/lib/libgstaudioresample-1.0.la $(targetprefix)/usr/lib/libgstsubparse-1.0.la
	rm -rf gst-plugins-base-1.6.1
	touch $@

#
# gst_plugins_good
#
$(D)/gst_plugins_good: $(D)/bootstrap $(D)/gstreamer $(D)/gst_plugins_base $(D)/libsoup $(D)/libflac $(archivedir)/gst-plugins-good-1.6.1.tar.xz 
	( rm -rf gst-plugins-good-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gst-plugins-good-1.6.1.tar.xz && ( cd gst-plugins-good-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-good-gstrtpmp4gpay-set-dafault-value-for-MPEG4-without-co.patch )
	cd gst-plugins-good-1.6.1 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--enable-oss \
			--enable-gst_v4l2 \
			--without-libv4l2 \
			--disable-examples \
			--disable-debug \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf gst-plugins-good-1.6.1
	touch $@

#
# gst_plugins_bad
#
$(D)/gst_plugins_bad: $(D)/bootstrap $(D)/gstreamer $(D)/gst_plugins_base libmodplug $(archivedir)/gst-plugins-bad-1.6.1.tar.xz 
	( rm -rf gst-plugins-bad-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gst-plugins-bad-1.6.1.tar.xz && ( cd gst-plugins-bad-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-bad-configure-allow-to-disable-libssh2.patch ) && ( cd gst-plugins-bad-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-bad-dvbapi5-fix-old-kernel.patch ) && ( cd gst-plugins-bad-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-bad-rtmp-fix-seeking-and-potential-segfault.patch )
	cd gst-plugins-bad-1.6.1 && \
		$(BUILDENV) \
		autoreconf --force --install && \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--disable-fatal-warnings \
			--enable-dvb \
			--enable-shm \
			--enable-fbdev \
			--enable-decklink \
			--enable-dts \
			--enable-mpegdemux \
			--disable-acm \
			--disable-android_media \
			--disable-apexsink \
			--disable-apple_media \
			--disable-avc \
			--disable-chromaprint \
			--disable-cocoa \
			--disable-daala \
			--disable-dc1394 \
			--disable-direct3d \
			--disable-directdraw \
			--disable-directsound \
			--disable-gme \
			--disable-gsettings \
			--disable-gsm \
			--disable-kate \
			--disable-ladspa \
			--disable-linsys \
			--disable-lv2 \
			--disable-mimic \
			--disable-mplex \
			--disable-musepack \
			--disable-mythtv \
			--disable-nas \
			--disable-ofa \
			--disable-openjpeg \
			--disable-opensles \
			--disable-pvr \
			--disable-quicktime \
			--disable-resindvd \
			--disable-sdl \
			--disable-sdltest \
			--disable-sndio \
			--disable-soundtouch \
			--disable-spandsp \
			--disable-spc \
			--disable-srtp \
			--disable-teletextdec \
			--disable-timidity \
			--disable-vcd \
			--disable-vdpau \
			--disable-voaacenc \
			--disable-voamrwbenc \
			--disable-wasapi \
			--disable-wildmidi \
			--disable-wininet \
			--disable-winscreencap \
			--disable-zbar \
			--disable-examples \
			--disable-debug \
			--enable-orc \
		&& \
		$(MAKE) && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," pkgconfig/gstreamer-plugins-bad.pc pkgconfig/gstreamer-basevideo.pc pkgconfig/gstreamer-codecparsers.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libgstbasecamerabinsrc-1.0.la $(targetprefix)/usr/lib/libgstbasevideo-1.0.la $(targetprefix)/usr/lib/libgstcodecparsers-1.0.la $(targetprefix)/usr/lib/libgstphotography-1.0.la $(targetprefix)/usr/lib/libgstsignalprocessor-1.0.la
	rm -rf gst-plugins-bad-1.6.1
	touch $@

#
# gst_plugins_ugly
#
$(D)/gst_plugins_ugly: $(D)/bootstrap $(D)/gstreamer $(D)/gst_plugins_base $(archivedir)/gst-plugins-ugly-1.6.1.tar.xz 
	( rm -rf gst-plugins-ugly-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gst-plugins-ugly-1.6.1.tar.xz
	cd gst-plugins-ugly-1.6.1 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-fatal-warnings \
			--disable-amrnb \
			--disable-amrwb \
			--disable-sidplay \
			--disable-twolame \
			--disable-debug \
			--enable-orc \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf gst-plugins-ugly-1.6.1
	touch $@

#
# gst_libav
#
$(D)/gst_libav: $(D)/bootstrap $(D)/gstreamer $(D)/gst_plugins_base $(archivedir)/gst-libav-1.6.1.tar.xz 
	( rm -rf gst-libav-1.6.1 || /bin/true ) && tar -xpf $(archivedir)/gst-libav-1.6.1.tar.xz && ( cd gst-libav-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-libav-disable-yasm-for-libav-when-disable-yasm.patch ) && ( cd gst-libav-1.6.1 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-libav-fix-sh4-compile-gcc48.patch )
	cd gst-libav-1.6.1 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-fatal-warnings \
			\
			--with-libav-extra-configure=" \
			--enable-gpl \
			--enable-static \
			--enable-pic \
			--disable-protocols \
			--disable-devices \
			--disable-network \
			--disable-hwaccels \
			--disable-filters \
			--disable-doc \
			--enable-optimizations \
			--enable-cross-compile \
			--target-os=linux \
			--arch=sh4 \
			--cross-prefix=$(target)- \
			\
			--disable-muxers \
			--disable-encoders \
			--disable-decoders \
			--enable-decoder=ogg \
			--enable-decoder=vorbis \
			--enable-decoder=flac \
			\
			--disable-demuxers \
			--enable-demuxer=ogg \
			--enable-demuxer=vorbis \
			--enable-demuxer=flac \
			--enable-demuxer=mpegts \
			\
			--disable-debug \
			--disable-bsfs \
			--enable-pthreads \
			--enable-bzlib" \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf gst-libav-1.6.1
	touch $@

#
# gst_plugins_fluendo_mpegdemux
#
$(D)/gst_plugins_fluendo_mpegdemux: $(D)/bootstrap $(D)/gstreamer $(D)/gst_plugins_base $(archivedir)/gst-fluendo-mpegdemux-0.10.71.tar.gz 
	( rm -rf gst-fluendo-mpegdemux-0.10.71 || /bin/true ) && gunzip -cd $(archivedir)/gst-fluendo-mpegdemux-0.10.71.tar.gz | TAPE=- tar -x && ( cd gst-fluendo-mpegdemux-0.10.71 && chmod +w -R .; patch -p1 < ../Patches/gst-plugins-fluendo-mpegdemux-0.10.71.patch )
	cd gst-fluendo-mpegdemux-0.10.71 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--with-check=no \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf gst-fluendo-mpegdemux-0.10.71
	touch $@

#
# gst_plugin_subsink
#
$(D)/gst_plugin_subsink: $(D)/bootstrap $(D)/gstreamer $(D)/gst_plugins_base $(D)/gst_plugins_good $(D)/gst_plugins_bad $(D)/gst_plugins_ugly $(archivedir)/gst-plugin-subsink.git 
	( rm -rf gst-plugin-subsink-1.0 || /bin/true ) && (rm -rf gst-plugin-subsink-1.0; cp -a $(archivedir)/gst-plugin-subsink.git gst-plugin-subsink-1.0)
	cd gst-plugin-subsink-1.0 && \
		aclocal --force -I m4 && \
		libtoolize --copy --ltdl --force && \
		autoconf --force && \
		autoheader --force && \
		automake --add-missing --copy --force-missing --foreign && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf gst-plugin-subsink-1.0
	touch $@

#
# gmediarender
#
$(D)/gst_gmediarender: $(D)/bootstrap $(D)/gst_plugins_dvbmediasink $(D)/libupnp $(archivedir)/gmediarender-0.0.6.tar.bz2 
	( rm -rf gmediarender-0.0.6 || /bin/true ) && bunzip2 -cd $(archivedir)/gmediarender-0.0.6.tar.bz2 | TAPE=- tar -x && ( cd gmediarender-0.0.6 && chmod +w -R .; patch -p1 < ../Patches/gst-gmediarender-0.0.6.patch )
	cd gmediarender-0.0.6 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--with-libupnp=$(targetprefix)/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf gmediarender-0.0.6
	touch $@

#
# gst_plugins_dvbmediasink
#
$(D)/gst_plugins_dvbmediasink: $(D)/bootstrap $(D)/gstreamer $(D)/gst_plugins_base $(D)/gst_plugins_good $(D)/gst_plugins_bad $(D)/gst_plugins_ugly $(D)/gst_plugin_subsink $(D)/libdca $(archivedir)/gst-plugins-dvbmediasink.git 
	( rm -rf gst-plugins-dvbmediasink-1.0 || /bin/true ) && (rm -rf gst-plugins-dvbmediasink-1.0; cp -a $(archivedir)/gst-plugins-dvbmediasink.git gst-plugins-dvbmediasink-1.0) && ( cd gst-plugins-dvbmediasink-1.0 && chmod +w -R .; patch -p1 < ../Patches/gst-1.0-plugins-dvbmediasink-sh4.patch )
	[ -d "$(archivedir)/gst-plugins-dvbmediasink.git" ] && \
	(cd $(archivedir)/gst-plugins-dvbmediasink.git; git pull; cd "$(buildprefix)";); \
	cd gst-plugins-dvbmediasink-1.0 && \
		aclocal --force -I m4 && \
		libtoolize --copy --force && \
		autoconf --force && \
		autoheader --force && \
		automake --add-missing --copy --force-missing --foreign && \
		$(CONFIGURE) \
			--prefix=/usr \
			--with-wma \
			--with-wmv \
			--with-pcm \
			--with-eac3 \
			--with-dtsdownmix \
			--with-mpeg4v2 \
			--with-gstversion=1.0 \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf gst-plugins-dvbmediasink-1.0
	touch $@

#
# grep
#
$(D)/grep: $(D)/bootstrap $(archivedir)/grep-2.5.1.tar.bz2 $(archivedir)/grep_2.5.1.ds2-6.diff.gz 
	( rm -rf grep-2.5.1 || /bin/true ) && bunzip2 -cd $(archivedir)/grep-2.5.1.tar.bz2 | TAPE=- tar -x
	cd grep-2.5.1 && \
		gunzip -cd $(lastword $^) | cat > debian.patch && \
		patch -p1 <debian.patch && \
		$(CONFIGURE) \
			--disable-nls \
			--disable-perl-regexp \
			--libdir=$(targetprefix)/usr/lib \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf grep-2.5.1
	touch $@

#
# CONSOLE_DATA
#
$(D)/console_data: $(D)/bootstrap $(archivedir)/console-data_1.03.orig.tar.gz 
	( rm -rf console-data-1.03 || /bin/true ) && gunzip -cd $(archivedir)/console-data_1.03.orig.tar.gz | TAPE=- tar -x
	cd console-data-1.03 && \
		$(CONFIGURE) \
			--prefix=$(targetprefix) \
			--with-main_compressor=gzip \
		&& \
		$(MAKE) && \
		$(MAKE) install
	rm -rf console-data-1.03
	touch $@

#
# sysvinit
#
$(D)/sysvinit: $(D)/bootstrap $(archivedir)/sysvinit_2.88dsf.orig.tar.gz 
	( rm -rf sysvinit-2.88dsf || /bin/true ) && gunzip -cd $(archivedir)/sysvinit_2.88dsf.orig.tar.gz | TAPE=- tar -x
	cd sysvinit-2.88dsf && \
		$(BUILDENV) \
		$(MAKE) -C src SULOGINLIBS=-lcrypt \
		&& \
		$(MAKE) install ROOT=$(targetprefix)
	rm -rf sysvinit-2.88dsf
	touch $@

#
# module_init_tools
#
$(D)/module_init_tools: $(D)/bootstrap $(D)/lsb $(archivedir)/module-init-tools-3.16.tar.bz2 
	( rm -rf module-init-tools-3.16 || /bin/true ) && bunzip2 -cd $(archivedir)/module-init-tools-3.16.tar.bz2 | TAPE=- tar -x && ( cd module-init-tools-3.16 && chmod +w -R .; patch -p1 < ../Patches/module-init-tools-no-man.patch )
	cd module-init-tools-3.16 && \
		autoreconf -fi && \
		$(CONFIGURE) \
			--prefix= \
			--disable-builddir \
		&& \
		$(MAKE) && \
		$(MAKE) INSTALL=install install sbin_PROGRAMS="depmod modinfo" bin_PROGRAMS= DESTDIR=$(targetprefix)
	$(call adapted-etc-files,$(MODULE_INIT_TOOLS_ADAPTED_ETC_FILES))
	rm -rf module-init-tools-3.16
	touch $@

#
# lsb
#
$(D)/lsb: $(D)/bootstrap $(archivedir)/lsb_3.2-20.tar.gz 
	( rm -rf lsb-3.2 || /bin/true ) && gunzip -cd $(archivedir)/lsb_3.2-20.tar.gz | TAPE=- tar -x
	cd lsb-3.2 && \
		$(INSTALL) -d $(targetprefix)/lib/lsb && $(INSTALL) -m644 init-functions $(targetprefix)/lib/lsb
	rm -rf lsb-3.2
	touch $@

#
# portmap
#
$(D)/portmap: $(D)/bootstrap $(archivedir)/portmap_6.0.0.orig.tar.gz Patches/portmap_6.0.patch $(archivedir)/portmap_6.0.0-2.diff.gz 
	( rm -rf portmap-6.0.0 || /bin/true ) && gunzip -cd $(archivedir)/portmap_6.0.0.orig.tar.gz | TAPE=- tar -x && ( cd portmap-6.0.0 && chmod +w -R .; patch -p1 < ../Patches/portmap_6.0.patch )
	cd portmap-6.0.0 && \
		gunzip -cd $(lastword $^) | cat > debian.patch && \
		patch -p1 <debian.patch && \
		sed -e 's/### BEGIN INIT INFO/# chkconfig: S 41 10\n### BEGIN INIT INFO/g' -i debian/init.d && \
		$(BUILDENV) \
		$(MAKE) && \
		$(MAKE) install BASEDIR=$(targetprefix) && $(INSTALL) -m755 debian/init.d $(targetprefix)/etc/init.d/portmap
	$(call adapted-etc-files,$(PORTMAP_ADAPTED_ETC_FILES))
	rm -rf portmap-6.0.0
	touch $@

#
# openrdate
#
$(D)/openrdate: $(D)/bootstrap $(archivedir)/openrdate-1.1.2.tar.gz  $(OPENRDATE_ADAPTED_ETC_FILES:%=root/etc/%)
	( rm -rf openrdate-1.1.2 || /bin/true ) && gunzip -cd $(archivedir)/openrdate-1.1.2.tar.gz | TAPE=- tar -x
	cd openrdate-1.1.2 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--target=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf openrdate-1.1.2
	touch $@

#
# e2fsprogs
#
$(D)/e2fsprogs: $(D)/bootstrap $(D)/utillinux $(archivedir)/e2fsprogs-1.42.13.tar.gz 
	( rm -rf e2fsprogs-1.42.13 || /bin/true ) && gunzip -cd $(archivedir)/e2fsprogs-1.42.13.tar.gz | TAPE=- tar -x && ( cd e2fsprogs-1.42.13 && chmod +w -R .; patch -p1 < ../Patches/e2fsprogs-1.42.13.patch )
	cd e2fsprogs-1.42.13 && \
		PATH=$(buildprefix)/e2fsprogs-1.42.13:$(PATH) \
		$(CONFIGURE) \
			--prefix=/usr \
			--libdir=/usr/lib \
			--disable-rpath \
			--disable-quota \
			--disable-testio-debug \
			--disable-defrag \
			--disable-nls \
			--disable-jbd-debug \
			--disable-blkid-debug \
			--disable-testio-debug \
			--enable-elf-shlibs \
			--enable-fsck \
			--enable-verbose-makecmds \
			--enable-symlink-install \
			--without-libintl-prefix \
			--without-libiconv-prefix \
			--with-root-prefix="" \
		&& \
		$(MAKE) && \
		$(MAKE) -C lib/uuid  install DESTDIR=$(targetprefix); \
		$(MAKE) -C lib/blkid install DESTDIR=$(targetprefix); \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," lib/et/com_err.pc lib/e2p/e2p.pc lib/ext2fs/ext2fs.pc lib/quota/quota.pc lib/ss/ss.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," $(targetprefix)/usr/lib/pkgconfig/blkid.pc $(targetprefix)/usr/lib/pkgconfig/uuid.pc
	rm -rf e2fsprogs-1.42.13
	touch $@

#
# utillinux
#
$(D)/utillinux: $(D)/bootstrap $(D)/zlib $(archivedir)/util-linux-2.25.2.tar.gz 
	( rm -rf util-linux-2.25.2 || /bin/true ) && gunzip -cd $(archivedir)/util-linux-2.25.2.tar.gz | TAPE=- tar -x
	cd util-linux-2.25.2 && \
		autoreconf -fi && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-static \
			--disable-gtk-doc \
			--disable-nls \
			--disable-rpath \
			--disable-libuuid \
			--disable-libblkid \
			--disable-libmount \
			--disable-libsmartcols \
			--disable-mount \
			--disable-partx \
			--disable-mountpoint \
			--disable-fallocate \
			--disable-unshare \
			--disable-nsenter \
			--disable-setpriv \
			--disable-eject \
			--disable-agetty \
			--disable-cramfs \
			--disable-bfs \
			--disable-minix \
			--disable-fdformat \
			--disable-hwclock \
			--disable-wdctl \
			--disable-switch-root \
			--disable-pivot-root \
			--enable-tunelp \
			--disable-kill \
			--disable-last \
			--disable-utmpdump \
			--disable-line \
			--disable-mesg \
			--disable-raw \
			--disable-rename \
			--disable-reset \
			--disable-vipw \
			--disable-newgrp \
			--disable-chfn-chsh \
			--disable-login \
			--disable-login-chown-vcs \
			--disable-login-stat-mail \
			--disable-nologin \
			--disable-sulogin \
			--disable-su \
			--disable-runuser \
			--disable-ul \
			--disable-more \
			--disable-pg \
			--disable-setterm \
			--disable-schedutils \
			--disable-tunelp \
			--disable-wall \
			--disable-write \
			--disable-bash-completion \
			--disable-pylibmount \
			--disable-pg-bell \
			--disable-use-tty-group \
			--disable-makeinstall-chown \
			--disable-makeinstall-setuid \
			--without-audit \
			--without-ncurses \
			--without-slang \
			--without-utempter \
			--disable-wall \
			--without-python \
			--disable-makeinstall-chown \
			--without-systemdsystemunitdir \
		&& \
		$(MAKE) ARCH=sh4 && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libsmartcols/smartcols.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libsmartcols.la
	rm -rf util-linux-2.25.2
	touch $@

#
# xfsprogs
#
$(D)/xfsprogs: $(D)/bootstrap $(D)/e2fsprogs $(D)/libreadline $(archivedir)/xfsprogs-3.1.8.tar.gz 
	( rm -rf xfsprogs-3.1.8 || /bin/true ) && gunzip -cd $(archivedir)/xfsprogs-3.1.8.tar.gz | TAPE=- tar -x
	cd xfsprogs-3.1.8 && \
		export DEBUG=-DNDEBUG && export OPTIMIZER=-O2 && \
		$(CONFIGURE) \
			--target=$(target) \
			--prefix= \
			--enable-shared=yes \
			--enable-gettext=yes \
			--enable-readline=yes \
			--enable-editline=no \
			--enable-termcap=yes \
		&& \
		$(MAKE) $(MAKE_OPTS) && \
		export top_builddir=`pwd` && \
		$(MAKE) install prefix=$(targetprefix)/usr
	rm -rf xfsprogs-3.1.8
	touch $@

#
# mc
#
$(D)/mc: $(D)/bootstrap $(D)/glib2 $(archivedir)/mc-4.8.1.7.tar.bz2 
	( rm -rf mc-4.8.1.7 || /bin/true ) && bunzip2 -cd $(archivedir)/mc-4.8.1.7.tar.bz2 | TAPE=- tar -x
	cd mc-4.8.1.7 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--without-gpm-mouse \
			--with-screen=ncurses \
			--without-x \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf mc-4.8.1.7
	touch $@

#
# sdparm
#
$(D)/sdparm: $(D)/bootstrap $(archivedir)/sdparm-1.07.tgz 
	( rm -rf sdparm-1.07 || /bin/true ) && gunzip -cd $(archivedir)/sdparm-1.07.tgz | TAPE=- tar -x
	cd sdparm-1.07 && \
		$(CONFIGURE) \
			--prefix= \
			--exec-prefix=/usr \
			--mandir=/usr/share/man \
		&& \
		$(MAKE) $(MAKE_OPTS) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	@( cd $(prefix)/$*cdkroot/usr/share/man/man8 && gzip -v9 sdparm.8 )
	rm -rf sdparm-1.07
	touch $@

#
# ipkg
#
$(D)/ipkg: $(D)/bootstrap $(archivedir)/ipkg-0.99.163.tar.gz 
	( rm -rf ipkg-0.99.163 || /bin/true ) && gunzip -cd $(archivedir)/ipkg-0.99.163.tar.gz | TAPE=- tar -x
	cd ipkg-0.99.163 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	ln -sf ipkg-cl $(prefix)/$*cdkroot/usr/bin/ipkg && \
	$(INSTALL) -d $(prefix)/$*cdkroot/etc && $(INSTALL) -m 644 root/etc/ipkg.conf $(prefix)/$*cdkroot/etc && \
	$(INSTALL) -d $(prefix)/$*cdkroot/etc/ipkg
	$(INSTALL) -d $(prefix)/$*cdkroot/usr/lib/ipkg
	$(INSTALL) -m 644 root/usr/lib/ipkg/status.initial $(prefix)/$*cdkroot/usr/lib/ipkg/status
	rm -rf ipkg-0.99.163
	touch $@
$(D)/zd1211: $(D)/bootstrap $(archivedir)/zd1211lnxdrv_2_15_0_0.tar.gz Patches/zd1211.patch 
	( rm -rf ZD1211LnxDrv_2_15_0_0 || /bin/true ) && gunzip -cd $(archivedir)/zd1211lnxdrv_2_15_0_0.tar.gz | TAPE=- tar -x && ( cd ZD1211LnxDrv_2_15_0_0 && chmod +w -R .; patch -p1 < ../Patches/zd1211.patch )
	cd ZD1211LnxDrv_2_15_0_0 && \
		$(MAKE) KERNEL_LOCATION=$(buildprefix)/$(KERNEL_DIR) \
			ZD1211B=$(ZD1211B) \
			CROSS_COMPILE=$(target)- ARCH=sh \
			BIN_DEST=$(targetprefix)/bin \
			INSTALL_MOD_PATH=$(targetprefix) \
			install \
		&& \
	$(DEPMOD) -ae -b $(targetprefix) -r $(KERNELVERSION)
	rm -rf ZD1211LnxDrv_2_15_0_0
	touch $@

#
# nano
#
$(D)/nano: $(D)/bootstrap $(archivedir)/nano-2.4.2.tar.gz 
	( rm -rf nano-2.4.2 || /bin/true ) && gunzip -cd $(archivedir)/nano-2.4.2.tar.gz | TAPE=- tar -x
	cd nano-2.4.2 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-nls \
			--enable-tiny \
			--enable-color \
			--enable-utf8 \
			--enable-nanorc \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf nano-2.4.2
	touch $@

#
# rsync
#
$(D)/rsync: $(D)/bootstrap $(archivedir)/rsync-2.6.9.tar.gz 
	( rm -rf rsync-2.6.9 || /bin/true ) && gunzip -cd $(archivedir)/rsync-2.6.9.tar.gz | TAPE=- tar -x
	cd rsync-2.6.9 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-debug \
			--disable-locale \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf rsync-2.6.9
	touch $@

#
# rfkill
#
$(D)/rfkill: $(D)/bootstrap @DEPENDS_rfkill@
	@PREPARE_rfkill@
	cd @DIR_rfkill@ && \
		$(MAKE) $(MAKE_OPTS) \
		&& \
		@INSTALL_rfkill@
	@CLEANUP_rfkill@
	touch $@

#
# lm_sensors
#
$(D)/lm_sensors: $(D)/bootstrap $(archivedir)/lm_sensors-2.9.2.tar.gz 
	( rm -rf lm_sensors-2.9.2 || /bin/true ) && gunzip -cd $(archivedir)/lm_sensors-2.9.2.tar.gz | TAPE=- tar -x
	cd lm_sensors-2.9.2 && \
		$(MAKE) $(MAKE_OPTS) MACHINE=sh PREFIX=/usr user && \
		$(MAKE) user_install MACHINE=sh PREFIX=/usr MANDIR=/.remove DESTDIR=$(targetprefix) && \
		rm $(prefix)/$*cdkroot/usr/bin/*.pl && \
		rm $(prefix)/$*cdkroot/usr/sbin/*.pl && \
		rm $(prefix)/$*cdkroot/usr/sbin/sensors-detect && \
		rm $(prefix)/$*cdkroot/usr/share/man/man8/sensors-detect.8 && \
		rm $(prefix)/$*cdkroot/usr/include/linux/i2c-dev.h && \
		rm $(prefix)/$*cdkroot/usr/bin/ddcmon
	rm -rf lm_sensors-2.9.2
	touch $@

#
# fuse
#
$(D)/fuse: $(D)/bootstrap $(archivedir)/fuse-2.9.2.tar.gz 
	( rm -rf fuse-2.9.2 || /bin/true ) && gunzip -cd $(archivedir)/fuse-2.9.2.tar.gz | TAPE=- tar -x
	cd fuse-2.9.2 && \
		$(CONFIGURE) \
			CFLAGS="$(TARGET_CFLAGS) -I$(buildprefix)/$(KERNEL_DIR)/arch/sh" \
			--target=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," fuse.pc && $(MAKE) install DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libfuse.la
		-rm $(prefix)/$*cdkroot/etc/udev/rules.d/99-fuse.rules
		-rmdir $(prefix)/$*cdkroot/etc/udev/rules.d
		-rmdir $(prefix)/$*cdkroot/etc/udev
		$(LN_SF) sh4-linux-fusermount $(prefix)/$*cdkroot/usr/bin/fusermount
		$(LN_SF) sh4-linux-ulockmgr_server $(prefix)/$*cdkroot/usr/bin/ulockmgr_server
	rm -rf fuse-2.9.2
	touch $@

#
# curlftpfs
#
$(D)/curlftpfs: $(D)/bootstrap $(D)/fuse $(archivedir)/curlftpfs-0.9.2.tar.gz 
	( rm -rf curlftpfs-0.9.2 || /bin/true ) && gunzip -cd $(archivedir)/curlftpfs-0.9.2.tar.gz | TAPE=- tar -x
	cd curlftpfs-0.9.2 && \
		export ac_cv_func_malloc_0_nonnull=yes && \
		export ac_cv_func_realloc_0_nonnull=yes && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf curlftpfs-0.9.2
	touch $@

#
# pngquant
#
$(D)/pngquant: $(D)/bootstrap $(D)/zlib $(D)/libpng $(archivedir)/pngquant-1.1-src.tgz 
	( rm -rf pngquant-1.1 || /bin/true ) && gunzip -cd $(archivedir)/pngquant-1.1-src.tgz | TAPE=- tar -x
	cd pngquant-1.1 && \
		$(target)-gcc -O3 -Wall -I. -funroll-loops -fomit-frame-pointer -o pngquant pngquant.c rwpng.c -lpng -lz -lm \
		&& \
		$(INSTALL) -m755 pngquant $(targetprefix)/usr/bin
	rm -rf pngquant-1.1
	touch $@

#
# mplayer
#
$(D)/mplayer: $(D)/bootstrap $(archivedir)/mplayer-export-snapshot.tar.bz2 
	( rm -rf mplayer-export-* || /bin/true ) && bunzip2 -cd $(archivedir)/mplayer-export-snapshot.tar.bz2 | TAPE=- tar -x
	cd mplayer-export-* && \
		$(CONFIGURE) \
			--cc=$(target)-gcc \
			--target=$(target) \
			--host-cc=gcc \
			--prefix=/usr \
			--disable-mencoder \
		&& \
		$(MAKE) CC="$(target)-gcc" && \
		$(MAKE) install INSTALLSTRIP="" DESTDIR=$(targetprefix)
	rm -rf mplayer-export-*
	touch $@

#
# mencoder
#
$(D)/mencoder: $(D)/bootstrap $(archivedir)/mplayer-export-snapshot.tar.bz2 
	( rm -rf mplayer-export-* || /bin/true ) && bunzip2 -cd $(archivedir)/mplayer-export-snapshot.tar.bz2 | TAPE=- tar -x
	cd mplayer-export-* && \
		$(CONFIGURE) \
			--cc=$(target)-gcc \
			--target=$(target) \
			--host-cc=gcc \
			--prefix=/usr \
			--disable-dvdnav \
			--disable-dvdread \
			--disable-dvdread-internal \
			--disable-libdvdcss-internal \
			--disable-libvorbis \
			--disable-mp3lib \
			--disable-liba52 \
			--disable-mad \
			--disable-vcd \
			--disable-ftp \
			--disable-pvr \
			--disable-tv-v4l2 \
			--disable-tv-v4l1 \
			--disable-tv \
			--disable-network \
			--disable-real \
			--disable-xanim \
			--disable-faad-internal \
			--disable-tremor-internal \
			--disable-pnm \
			--disable-ossaudio \
			--disable-tga \
			--disable-v4l2 \
			--disable-fbdev \
			--disable-dvb \
			--disable-mplayer \
		&& \
		$(MAKE) CC="$(target)-gcc" && \
		$(MAKE) install INSTALLSTRIP="" DESTDIR=$(targetprefix)
	rm -rf mplayer-export-*
	touch $@

#
# jfsutils
#
$(D)/jfsutils: $(D)/bootstrap $(D)/e2fsprogs $(archivedir)/jfsutils-1.1.15.tar.gz 
	( rm -rf jfsutils-1.1.15 || /bin/true ) && gunzip -cd $(archivedir)/jfsutils-1.1.15.tar.gz | TAPE=- tar -x
	cd jfsutils-1.1.15 && \
		sed "s@<unistd.h>@&\n#include <sys/types.h>@g" -i fscklog/extract.c && \
		$(CONFIGURE) \
			--prefix= \
			--target=$(target) \
		&& \
		$(MAKE) && \
		$(MAKE) install mandir=/.remove DESTDIR=$(targetprefix)
	rm -rf jfsutils-1.1.15
	touch $@

#
# dosfstools
#
$(D)/dosfstools: $(D)/bootstrap $(archivedir)/dosfstools-3.0.16.tar.gz 
	( rm -rf dosfstools-3.0.16 || /bin/true ) && gunzip -cd $(archivedir)/dosfstools-3.0.16.tar.gz | TAPE=- tar -x
	cd dosfstools-3.0.16 && \
		$(MAKE) all \
			CC=$(target)-gcc \
			OPTFLAGS="$(TARGET_CFLAGS) -fomit-frame-pointer -D_FILE_OFFSET_BITS=64" \
		&& \
		$(MAKE) install PREFIX=$(targetprefix)
	rm -rf dosfstools-3.0.16
	touch $@

#
# hddtemp
#
$(D)/hddtemp: $(D)/bootstrap $(archivedir)/hddtemp-0.3-beta15.tar.bz2 
	( rm -rf hddtemp-0.3-beta15 || /bin/true ) && bunzip2 -cd $(archivedir)/hddtemp-0.3-beta15.tar.bz2 | TAPE=- tar -x
	cd hddtemp-0.3-beta15 && \
		$(CONFIGURE) \
			--prefix= \
			--with-db_path=/var/hddtemp.db \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)
		$(INSTALL) -d $(targetprefix)/var/tuxbox/config
		$(INSTALL) -m 644 root/release/hddtemp.db $(targetprefix)/var
	rm -rf hddtemp-0.3-beta15
	touch $@

#
# hdparm
#
$(D)/hdparm: $(D)/bootstrap $(archivedir)/hdparm-9.43.tar.gz 
	( rm -rf hdparm-9.43 || /bin/true ) && gunzip -cd $(archivedir)/hdparm-9.43.tar.gz | TAPE=- tar -x
	cd hdparm-9.43 && \
		$(BUILDENV) \
		$(MAKE) CROSS=$(target)- all \
		&& \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf hdparm-9.43
	touch $@

#
# fdisk
#
$(D)/fdisk: $(D)/bootstrap $(D)/parted $(archivedir)/fdisk-1.3.0a.tar.gz 
	( rm -rf fdisk-1.3.0a || /bin/true ) && gunzip -cd $(archivedir)/fdisk-1.3.0a.tar.gz | TAPE=- tar -x
	cd fdisk-1.3.0a && \
		$(CONFIGURE) \
			--host=$(target) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf fdisk-1.3.0a
	touch $@

#
# parted
#
$(D)/parted: $(D)/bootstrap $(D)/libreadline $(D)/e2fsprogs $(archivedir)/parted-3.0.tar.gz 
	( rm -rf parted-3.0 || /bin/true ) && gunzip -cd $(archivedir)/parted-3.0.tar.gz | TAPE=- tar -x
	cd parted-3.0 && \
		$(CONFIGURE) \
			--target=$(target) \
			--prefix=$(targetprefix)/usr \
			--disable-device-mapper \
			--disable-nls \
		&& \
		$(MAKE) all && \
		$(MAKE) install
	rm -rf parted-3.0
	touch $@

#
# opkg
#
$(D)/opkg: $(D)/bootstrap $(archivedir)/opkg-0.2.0.tar.gz 
	( rm -rf opkg-0.2.0 || /bin/true ) && gunzip -cd $(archivedir)/opkg-0.2.0.tar.gz | TAPE=- tar -x && ( cd opkg-0.2.0 && chmod +w -R .; patch -p1 < ../Patches/opkg-0.2.0-dont-segfault.patch )
	cd opkg-0.2.0 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--disable-curl \
			--disable-gpg \
			--with-opkglibdir=/var \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," libopkg.pc && $(MAKE) install DESTDIR=$(targetprefix) && ln -sf /usr/bin/opkg-cl $(targetprefix)/usr/bin/opkg && mkdir -p $(targetprefix)/var/opkg && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libopkg.la
	rm -rf opkg-0.2.0
	touch $@

#
# sysstat
#
$(D)/sysstat: $(D)/bootstrap $(archivedir)/sysstat-11.1.2.tar.bz2 
	( rm -rf sysstat-11.1.2 || /bin/true ) && bunzip2 -cd $(archivedir)/sysstat-11.1.2.tar.bz2 | TAPE=- tar -x
	cd sysstat-11.1.2 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--disable-documentation \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf sysstat-11.1.2
	touch $@

#
# autofs
#
$(D)/autofs: $(D)/bootstrap $(D)/e2fsprogs $(archivedir)/autofs-4.1.4.tar.gz 
	( rm -rf autofs-4.1.4 || /bin/true ) && gunzip -cd $(archivedir)/autofs-4.1.4.tar.gz | TAPE=- tar -x && ( cd autofs-4.1.4 && chmod +w -R .; patch -p1 < ../Patches/autofs-4.1.4.patch )
	cd autofs-4.1.4 && \
		cp aclocal.m4 acinclude.m4 && \
		autoconf && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all CC=$(target)-gcc STRIP=$(target)-strip SUBDIRS="lib daemon modules" && \
		$(MAKE) install INSTALLROOT=$(targetprefix) SUBDIRS="lib daemon modules"
	rm -rf autofs-4.1.4
	touch $@

#
# imagemagick
#
$(D)/imagemagick: $(D)/bootstrap $(archivedir)/ImageMagick-6.7.7-7.tar.bz2 
	( rm -rf ImageMagick-6.7.7-7 || /bin/true ) && bunzip2 -cd $(archivedir)/ImageMagick-6.7.7-7.tar.bz2 | TAPE=- tar -x
	cd ImageMagick-6.7.7-7 && \
		$(BUILDENV) \
		CFLAGS="-O1" \
		PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--without-dps \
			--without-fpx \
			--without-gslib \
			--without-jbig \
			--without-jp2 \
			--without-lcms \
			--without-tiff \
			--without-xml \
			--without-perl \
			--disable-openmp \
			--disable-opencl \
			--without-zlib \
			--enable-shared \
			--enable-static \
			--without-x \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," magick/ImageMagick.pc magick/MagickCore.pc wand/MagickWand.pc wand/Wand.pc Magick++/lib/ImageMagick++.pc Magick++/lib/Magick++.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libMagickCore.la $(targetprefix)/usr/lib/libMagickWand.la $(targetprefix)/usr/lib/libMagick++.la
	rm -rf ImageMagick-6.7.7-7
	touch $@

#
# hotplug_e2
#
$(D)/hotplug_e2: $(D)/bootstrap $(archivedir)/hotplug-e2-helper.git 
	( rm -rf hotplug-e2-helper-1.0 || /bin/true ) && (rm -rf hotplug-e2-helper-1.0; cp -a $(archivedir)/hotplug-e2-helper.git hotplug-e2-helper-1.0) && ( cd hotplug-e2-helper-1.0 && chmod +w -R .; patch -p1 < ../Patches/hotplug-e2-helper-support_fw_upload.patch )
	[ -d "$(archivedir)/hotplug-e2-helper.git" ] && \
	(cd $(archivedir)/hotplug-e2-helper.git; git pull; cd "$(buildprefix)";); \
	cd hotplug-e2-helper-1.0 && \
		$(CONFIGURE) \
			--prefix=/usr \
		&& \
		$(MAKE) all && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf hotplug-e2-helper-1.0
	touch $@

#
# shairport
#
$(D)/shairport: $(D)/bootstrap $(OPENSSL) $(D)/howl $(D)/libalsa $(archivedir)/shairport.git 
	( rm -rf shairport-1.0 || /bin/true ) && (rm -rf shairport-1.0; cp -a $(archivedir)/shairport.git shairport-1.0)
	[ -d "$(archivedir)/shairport.git" ] && \
	(cd $(archivedir)/shairport.git; git pull; cd "$(buildprefix)";); \
	cd shairport-1.0 && \
		sed -i 's|pkg-config|$$PKG_CONFIG|g' configure && \
		PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
		$(BUILDENV) \
		$(MAKE) && \
		$(MAKE) install PREFIX=$(targetprefix)/usr
	rm -rf shairport-1.0
	touch $@

#
# dbus
#
$(D)/dbus: $(D)/bootstrap $(D)/libexpat $(archivedir)/dbus-dbus-1.8.tar.gz 
	( rm -rf dbus-dbus-1.8 || /bin/true ) && gunzip -cd $(archivedir)/dbus-dbus-1.8.tar.gz | TAPE=- tar -x
	cd dbus-dbus-1.8 && \
		libtoolize --copy --ltdl && \
		autoreconf -fi && \
		$(CONFIGURE) \
		CFLAGS="$(TARGET_CFLAGS) -Wno-cast-align" \
		./autogen.sh \
			--without-x \
			--prefix=/usr \
			--sysconfdir=/etc \
			--localstatedir=/var \
			--with-console-auth-dir=/run/console/ \
			--without-systemdsystemunitdir \
			--enable-abstract-sockets \
			--disable-systemd \
			--disable-static \
		&& \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," dbus-1.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf dbus-dbus-1.8
	touch $@

#
# avahi
#
$(D)/avahi: $(D)/bootstrap $(D)/libexpat $(D)/libdaemon $(D)/dbus $(archivedir)/avahi-0.6.31.tar.gz 
	( rm -rf avahi-0.6.31 || /bin/true ) && gunzip -cd $(archivedir)/avahi-0.6.31.tar.gz | TAPE=- tar -x
	cd avahi-0.6.31 && \
		sed -i 's/\(CFLAGS=.*\)-Werror \(.*\)/\1\2/' configure && \
		sed -i -e 's/-DG_DISABLE_DEPRECATED=1//' -e '/-DGDK_DISABLE_DEPRECATED/d' avahi-ui/Makefile.in && \
		$(CONFIGURE) \
			--prefix=/usr \
			--sysconfdir=/etc \
			--localstatedir=/var \
			--disable-static \
			--disable-mono \
			--disable-monodoc \
			--disable-python \
			--disable-gdbm \
			--disable-gtk \
			--disable-gtk3 \
			--disable-qt3 \
			--disable-qt4 \
			--disable-nls \
			--enable-core-docs \
			--with-distro=none \
		&& \
		$(MAKE) all && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix)
	rm -rf avahi-0.6.31
	touch $@

#
# mtd_utils
#
$(D)/mtd_utils: $(D)/bootstrap $(D)/zlib $(D)/lzo $(D)/e2fsprogs $(archivedir)/mtd-utils-1.5.0.tar.bz2 
	( rm -rf mtd-utils-1.5.0 || /bin/true ) && bunzip2 -cd $(archivedir)/mtd-utils-1.5.0.tar.bz2 | TAPE=- tar -x
	cd mtd-utils-1.5.0 && \
		$(BUILDENV) $(MAKE) PREFIX= CC=${target}-gcc LD=${target}-ld STRIP=${target}-strip `pwd`/mkfs.jffs2 `pwd`/sumtool BUILDDIR=`pwd` WITHOUT_XATTR=1 DESTDIR=$(targetprefix) install && \
		cp -a $(targetprefix)/sbin/{mkfs.jffs2,sumtool,nandwrite} $(hostprefix)/bin && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf mtd-utils-1.5.0
	touch $@

#
# wget
#
$(D)/wget: $(D)/bootstrap $(OPENSSL) $(archivedir)/wget-1.15.tar.gz 
	( rm -rf wget-1.15 || /bin/true ) && gunzip -cd $(archivedir)/wget-1.15.tar.gz | TAPE=- tar -x
	cd wget-1.15 && \
		$(CONFIGURE) \
			--prefix=/usr \
			--with-openssl \
			--with-ssl=openssl \
			--with-libssl-prefix=$(targetprefix) \
			--disable-ipv6 \
			--disable-debug \
			--disable-nls \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf wget-1.15
	touch $@

#
# nfs_utils
#
$(D)/nfs_utils: $(D)/bootstrap $(D)/e2fsprogs $(NFS_UTILS_ADAPTED_ETC_FILES:%=root/etc/%) $(archivedir)/nfs-utils-1.3.2.tar.bz2 
	( rm -rf nfs-utils-1.3.2 || /bin/true ) && bunzip2 -cd $(archivedir)/nfs-utils-1.3.2.tar.bz2 | TAPE=- tar -x && ( cd nfs-utils-1.3.2 && chmod +w -R .; patch -p1 < ../Patches/nfs-utils-1.3.2.patch )
	cd nfs-utils-1.3.2 && \
		$(CONFIGURE) \
			CC_FOR_BUILD=$(target)-gcc \
			--prefix=/usr \
			--disable-gss \
			--enable-ipv6=no \
			--disable-tirpc \
			--disable-nfsv4 \
			--without-tcp-wrappers \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	( cd $(buildprefix)/root/etc && for i in $(NFS_UTILS_ADAPTED_ETC_FILES); do \
		[ -f $$i ] && $(INSTALL) -m644 $$i $(prefix)/$*cdkroot/etc/$$i || true; \
		[ "$${i%%/*}" = "init.d" ] && chmod 755 $(prefix)/$*cdkroot/etc/$$i || true; done )
	rm -rf nfs-utils-1.3.2
	touch $@

#
# libevent
#
$(D)/libevent: $(D)/bootstrap $(archivedir)/libevent-2.0.20-stable.tar.gz 
	( rm -rf libevent-2.0.20-stable || /bin/true ) && gunzip -cd $(archivedir)/libevent-2.0.20-stable.tar.gz | TAPE=- tar -x
	cd libevent-2.0.20-stable && \
		$(CONFIGURE) \
			--prefix=$(prefix)/$*cdkroot/usr/ \
		&& \
		$(MAKE) && \
		$(MAKE) install
	rm -rf libevent-2.0.20-stable
	touch $@

#
# libnfsidmap
#
$(D)/libnfsidmap: $(D)/bootstrap $(archivedir)/libnfsidmap-0.25.tar.gz 
	( rm -rf libnfsidmap-0.25 || /bin/true ) && gunzip -cd $(archivedir)/libnfsidmap-0.25.tar.gz | TAPE=- tar -x
	cd libnfsidmap-0.25 && \
		$(CONFIGURE) \
		ac_cv_func_malloc_0_nonnull=yes \
			--prefix=$(prefix)/$*cdkroot/usr/ \
		&& \
		$(MAKE) && \
		$(MAKE) install
	rm -rf libnfsidmap-0.25
	touch $@

#
# vsftpd
#
$(D)/vsftpd: $(D)/bootstrap $(archivedir)/vsftpd-3.0.3.tar.gz Patches/vsftpd_3.0.3.patch 
	( rm -rf vsftpd-3.0.3 || /bin/true ) && gunzip -cd $(archivedir)/vsftpd-3.0.3.tar.gz | TAPE=- tar -x && ( cd vsftpd-3.0.3 && chmod +w -R .; patch -p1 < ../Patches/vsftpd_3.0.3.patch )
	cd vsftpd-3.0.3 && \
		$(MAKE) clean && \
		$(MAKE) $(MAKE_OPTS) CFLAGS="-pipe -Os -g0" && \
		$(MAKE) install PREFIX=$(targetprefix)
		cp $(buildprefix)/root/etc/vsftpd.conf $(targetprefix)/etc
	rm -rf vsftpd-3.0.3
	touch $@

#
# ethtool
#
$(D)/ethtool: $(D)/bootstrap $(archivedir)/ethtool-6.tar.gz 
	( rm -rf ethtool-6 || /bin/true ) && gunzip -cd $(archivedir)/ethtool-6.tar.gz | TAPE=- tar -x
	cd ethtool-6 && \
		$(CONFIGURE) \
			--libdir=$(targetprefix)/usr/lib \
			--prefix=/usr \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf ethtool-6
	touch $@

#
# samba
#
$(D)/samba: $(D)/bootstrap $(SAMBA_ADAPTED_ETC_FILES:%=root/etc/%) $(archivedir)/samba-3.6.12.tar.gz Patches/samba-3.6.12.patch 
	( rm -rf samba-3.6.12 || /bin/true ) && gunzip -cd $(archivedir)/samba-3.6.12.tar.gz | TAPE=- tar -x && ( cd samba-3.6.12 && chmod +w -R .; patch -p1 < ../Patches/samba-3.6.12.patch )
	cd samba-3.6.12 && \
		cd source3 && \
		./autogen.sh && \
		$(BUILDENV) \
		libreplace_cv_HAVE_GETADDRINFO=no \
		libreplace_cv_READDIR_NEEDED=no \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--prefix= \
			--includedir=/usr/include \
			--exec-prefix=/usr \
			--disable-pie \
			--disable-avahi \
			--disable-cups \
			--disable-relro \
			--disable-swat \
			--disable-shared-libs \
			--disable-socket-wrapper \
			--disable-nss-wrapper \
			--disable-smbtorture4 \
			--disable-fam \
			--disable-iprint \
			--disable-dnssd \
			--disable-pthreadpool \
			--disable-dmalloc \
			--with-included-iniparser \
			--with-included-popt \
			--with-sendfile-support \
			--without-aio-support \
			--without-cluster-support \
			--without-ads \
			--without-krb5 \
			--without-dnsupdate \
			--without-automount \
			--without-ldap \
			--without-pam \
			--without-pam_smbpass \
			--without-winbind \
			--without-wbclient \
			--without-syslog \
			--without-nisplus-home \
			--without-quotas \
			--without-sys-quotas \
			--without-utmp \
			--without-acl-support \
			--with-configdir=/etc/samba \
			--with-privatedir=/etc/samba \
			--with-mandir=no \
			--with-piddir=/var/run \
			--with-logfilebase=/var/log \
			--with-lockdir=/var/lock \
			--with-swatdir=/usr/share/swat \
			--disable-cups \
		&& \
		$(MAKE) $(MAKE_OPTS) && \
		$(MAKE) $(MAKE_OPTS) installservers installbin installscripts installdat installmodules \
			SBIN_PROGS="bin/smbd bin/nmbd bin/winbindd" DESTDIR=$(prefix)/$*cdkroot/ prefix=./. && \
	( cd $(buildprefix)/root/etc && for i in $(SAMBA_ADAPTED_ETC_FILES); do \
		[ -f $$i ] && $(INSTALL) -m644 $$i $(prefix)/$*cdkroot/etc/$$i || true; \
		[ "$${i%%/*}" = "init.d" ] && chmod 755 $(prefix)/$*cdkroot/etc/$$i || true; done )
	rm -rf samba-3.6.12
	touch $@

#
# netio
#
$(D)/netio: $(D)/bootstrap $(archivedir)/netio126.zip 
	( rm -rf netio126 || /bin/true ) && unzip $(archivedir)/netio126.zip
	cd netio126 && \
		$(MAKE_OPTS) \
		$(MAKE) all O=.o X= CFLAGS="-DUNIX" LIBS="$(LDFLAGS) -lpthread" OUT=-o && \
		$(INSTALL) -d $(prefix)/$*cdkroot/usr/bin && \
		$(INSTALL) -m755 netio $(targetprefix)/usr/bin && $(INSTALL) -m755 bin/linux-i386 $(hostprefix)/bin/netio
	rm -rf netio126
	touch $@

#
# ntp
#
$(D)/ntp: $(D)/bootstrap $(archivedir)/ntp-4.2.8.tar.gz 
	( rm -rf ntp-4.2.8 || /bin/true ) && gunzip -cd $(archivedir)/ntp-4.2.8.tar.gz | TAPE=- tar -x && ( cd ntp-4.2.8 && chmod +w -R .; patch -p1 < ../Patches/ntp-4.2.8.patch )
	cd ntp-4.2.8 && \
		$(CONFIGURE) \
			--target=$(target) \
			--prefix=/usr \
			--disable-tick \
			--disable-tickadj \
			--with-yielding-select=yes \
			--without-ntpsnmpd \
			--disable-debugging \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf ntp-4.2.8
	touch $@

#
# lighttpd
#
$(D)/lighttpd.do_prepare: $(D)/bootstrap $(archivedir)/lighttpd-1.4.15.tar.gz 
	( rm -rf lighttpd-1.4.15 || /bin/true ) && gunzip -cd $(archivedir)/lighttpd-1.4.15.tar.gz | TAPE=- tar -x
	touch $@

$(D)/lighttpd.do_compile: $(D)/lighttpd.do_prepare
	cd lighttpd-1.4.15 && \
		$(BUILDENV) \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--prefix= \
			--exec-prefix=/usr \
			--datarootdir=/usr/share \
		&& \
		$(MAKE)
	touch $@

$(D)/lighttpd: \
$(D)/%lighttpd: $(D)/lighttpd.do_compile
	cd lighttpd-1.4.15 && \
		$(MAKE) install DESTDIR=$(targetprefix)
	cd lighttpd-1.4.15 && \
		$(INSTALL) -d $(prefix)/$*cdkroot/etc/lighttpd && \
		$(INSTALL) -c -m644 doc/lighttpd.conf $(prefix)/$*cdkroot/etc/lighttpd && \
		$(INSTALL) -d $(prefix)/$*cdkroot/etc/init.d && \
		$(INSTALL) -c -m644 doc/rc.lighttpd.redhat $(prefix)/$*cdkroot/etc/init.d/lighttpd
	$(INSTALL) -d $(prefix)/$*cdkroot/etc/lighttpd && $(INSTALL) -m755 root/etc/lighttpd/lighttpd.conf $(prefix)/$*cdkroot/etc/lighttpd
	$(INSTALL) -d $(prefix)/$*cdkroot/etc/init.d && $(INSTALL) -m755 root/etc/init.d/lighttpd $(prefix)/$*cdkroot/etc/init.d
	rm -rf lighttpd-1.4.15
	[ "x$*" = "x" ] && touch $@ || true

#
# wireless_tools
#
$(D)/wireless_tools: $(D)/bootstrap $(archivedir)/wireless_tools.29.tar.gz 
	( rm -rf wireless_tools.29 || /bin/true ) && gunzip -cd $(archivedir)/wireless_tools.29.tar.gz | TAPE=- tar -x && ( cd wireless_tools.29 && chmod +w -R .; patch -p1 < ../Patches/wireless-tools.patch )
	cd wireless_tools.29 && \
		$(MAKE) CC="$(target)-gcc" CFLAGS="$(TARGET_CFLAGS) -I." && \
		$(MAKE) install INSTALL_MAN=$(targetprefix)/.remove PREFIX=$(targetprefix)/usr
	rm -rf wireless_tools.29
	touch $@

#
# libnl
#
$(D)/libnl: $(D)/bootstrap $(OPENSSL) $(archivedir)/libnl-2.0.tar.gz 
	( rm -rf libnl-2.0 || /bin/true ) && gunzip -cd $(archivedir)/libnl-2.0.tar.gz | TAPE=- tar -x
	cd libnl-2.0 && \
		$(CONFIGURE) \
			--prefix=/usr \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf libnl-2.0
	touch $@

#
# wpa_supplicant
#
$(D)/wpa_supplicant: $(D)/bootstrap $(OPENSSL) $(D)/wireless_tools $(archivedir)/wpa_supplicant-0.7.3.tar.gz 
	( rm -rf wpa_supplicant-0.7.3 || /bin/true ) && gunzip -cd $(archivedir)/wpa_supplicant-0.7.3.tar.gz | TAPE=- tar -x
	cd wpa_supplicant-0.7.3/wpa_supplicant && \
		cp -f defconfig .config && \
		sed -i 's/CONFIG_DRIVER_NL80211=y/#CONFIG_DRIVER_NL80211=y/' .config && \
		sed -i 's/#CONFIG_IEEE80211W=y/CONFIG_IEEE80211W=y/' .config && \
		sed -i 's/#CONFIG_OS=unix/CONFIG_OS=unix/' .config && \
		sed -i 's/#CONFIG_TLS=openssl/CONFIG_TLS=openssl/' .config && \
		sed -i 's/#CONFIG_IEEE80211N=y/CONFIG_IEEE80211N=y/' .config && \
		sed -i 's/#CONFIG_INTERWORKING=y/CONFIG_INTERWORKING=y/' .config && \
		export CFLAGS="-pipe -Os -Wall -g0 -I$(targetprefix)/usr/include" && \
		export CPPFLAGS="-I$(targetprefix)/usr/include" && \
		export LIBS="-L$(targetprefix)/usr/lib -Wl,-rpath-link,$(targetprefix)/usr/lib" && \
		export LDFLAGS="-L$(targetprefix)/usr/lib" && \
		export DESTDIR=$(targetprefix) && \
		make CC=$(target)-gcc && \
		$(target)-strip --strip-unneeded wpa_supplicant && \
		$(MAKE) install BINDIR=/usr/sbin DESTDIR=$(targetprefix)
	rm -rf wpa_supplicant-0.7.3
	touch $@

#
# xupnpd
#
$(D)/xupnpd: $(D)/bootstrap $(archivedir)/xupnpd.git 
	( rm -rf xupnpd-1.0 || /bin/true ) && (rm -rf xupnpd-1.0; cp -a $(archivedir)/xupnpd.git xupnpd-1.0) && ( cd xupnpd-1.0 && chmod +w -R .; patch -p1 < ../Patches/xupnpd.patch )
	cd xupnpd-1.0/src && \
		$(BUILDENV) \
		$(MAKE) TARGET=$(target) sh4 && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf xupnpd-1.0
	touch $@

#
# udpxy
#
$(D)/udpxy: $(D)/bootstrap $(archivedir)/udpxy.1.0.23-0-prod.tar.gz 
	( rm -rf udpxy-1.0.23-0 || /bin/true ) && gunzip -cd $(archivedir)/udpxy.1.0.23-0-prod.tar.gz | TAPE=- tar -x && ( cd udpxy-1.0.23-0 && chmod +w -R .; patch -p1 < ../Patches/udpxy-1.0.23-0.patch )
	cd udpxy-1.0.23-0 && \
		$(BUILDENV) \
		$(MAKE) $(MAKE_OPTS) && \
		$(MAKE) install INSTALLROOT=$(targetprefix)/usr
	rm -rf udpxy-1.0.23-0
	touch $@

#
# openvpn
#
$(D)/openvpn: $(D)/bootstrap $(OPENSSL) $(D)/lzo $(archivedir)/openvpn-2.3.8.tar.xz 
	( rm -rf openvpn-2.3.8 || /bin/true ) && tar -xpf $(archivedir)/openvpn-2.3.8.tar.xz
	cd openvpn-2.3.8 && \
		$(CONFIGURE) \
			--build=$(build) \
			--host=$(target) \
			--target=$(target) \
			--prefix=/usr \
			--disable-selinux \
			--disable-systemd \
			--disable-plugins \
			--disable-debug \
			--disable-pkcs11 \
			--enable-password-save \
			--enable-small \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf openvpn-2.3.8
	touch $@

$(D)/openssh: $(D)/bootstrap $(D)/zlib $(OPENSSL) $(archivedir)/openssh-7.1p1.tar.gz 
	( rm -rf openssh-7.1p1 || /bin/true ) && gunzip -cd $(archivedir)/openssh-7.1p1.tar.gz | TAPE=- tar -x
	cd openssh-7.1p1 && \
		CC=$(target)-gcc && \
		./configure \
			$(CONFIGURE_OPTS) \
			--prefix=/usr \
			--mandir=/usr/share/man \
			--sysconfdir=/etc/ssh \
			--libexecdir=/sbin \
			--with-privsep-path=/share/empty \
			--with-cppflags="-pipe -Os -I$(targetprefix)/usr/include" \
			--with-ldflags=-"L$(targetprefix)/usr/lib" \
		&& \
		$(MAKE) && \
		$(MAKE) install DESTDIR=$(targetprefix)
	rm -rf openssh-7.1p1
	touch $@

#
# tuxtxtlib
#
$(D)/tuxtxtlib: bootstrap $(archivedir)/libtuxtxt.git Patches/tuxtxtlib-1.0-fix_dbox_headers.patch 
	( rm -rf libtuxtxt || /bin/true ) && (rm -rf libtuxtxt; cp -a $(archivedir)/libtuxtxt.git/libtuxtxt libtuxtxt) && ( cd libtuxtxt && chmod +w -R .; patch -p1 < ../Patches/tuxtxtlib-1.0-fix_dbox_headers.patch )
	cd libtuxtxt && \
		aclocal && \
		autoheader && \
		autoconf && \
		automake --foreign --add-missing && \
		$(BUILDENV) \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--with-boxtype=generic \
			--with-configdir=/etc \
			--with-datadir=/usr/share/tuxtxt \
			--with-fontdir=/usr/share/fonts && \
		$(MAKE) all && \
		perl -pi -e "s,^prefix=.*$$,prefix=$(targetprefix)/usr," tuxbox-tuxtxt.pc && $(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libtuxtxt.la
	rm -rf libtuxtxt
	touch $@

#
# tuxtxt32bpp
#
$(D)/tuxtxt32bpp: tuxtxtlib $(archivedir)/libtuxtxt.git Patches/tuxtxt32bpp-1.0-fix_dbox_headers.patch 
	( rm -rf tuxtxt || /bin/true ) && (rm -rf tuxtxt; cp -a $(archivedir)/libtuxtxt.git/tuxtxt tuxtxt) && ( cd tuxtxt && chmod +w -R .; patch -p1 < ../Patches/tuxtxt32bpp-1.0-fix_dbox_headers.patch )
	cd tuxtxt && \
		aclocal && \
		autoheader && \
		autoconf && \
		automake --foreign --add-missing && \
		$(BUILDENV) \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--prefix=/usr \
			--with-boxtype=generic \
			--with-configdir=/etc \
			--with-datadir=/usr/share/tuxtxt \
			--with-fontdir=/usr/share/fonts && \
		$(MAKE) all && \
		$(MAKE) install prefix=/usr DESTDIR=$(targetprefix) && perl -pi -e "s,^libdir=.*$$,libdir='$(targetprefix)/usr/lib',"  $(targetprefix)/usr/lib/libtuxtxt32bpp.la
	rm -rf tuxtxt
	touch $@

#
# Plugins
# enigma2_openwebif
$(D)/enigma2-plugins: enigma2_networkbrowser enigma2_openwebif

#
# enigma2-openwebif
#
$(D)/enigma2_openwebif: $(D)/bootstrap $(D)/python $(D)/python_cheetah $(archivedir)/e2openplugin-OpenWebif.git 
	[ -d "$(archivedir)/e2openplugin-OpenWebif.git" ] && \
	(cd $(archivedir)/e2openplugin-OpenWebif.git; git pull ; git checkout HEAD; cd "$(buildprefix)";); \
	( rm -rf e2openplugin-OpenWebif || /bin/true ) && (rm -rf e2openplugin-OpenWebif; cp -a $(archivedir)/e2openplugin-OpenWebif.git e2openplugin-OpenWebif)
	cd e2openplugin-OpenWebif && \
		$(BUILDENV) \
		cp -a plugin $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif && \
		mkdir -p $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/cs/LC_MESSAGES && \
		mkdir -p $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/de/LC_MESSAGES && \
		mkdir -p $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/el/LC_MESSAGES && \
		mkdir -p $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/nl/LC_MESSAGES && \
		mkdir -p $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/pl/LC_MESSAGES && \
		mkdir -p $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/uk/LC_MESSAGES && \
		msgfmt -cv -o $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/cs/LC_MESSAGES/OpenWebif.mo locale/cs.po && \
		msgfmt -cv -o $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/de/LC_MESSAGES/OpenWebif.mo locale/de.po && \
		msgfmt -cv -o $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/el/LC_MESSAGES/OpenWebif.mo locale/el.po && \
		msgfmt -cv -o $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/nl/LC_MESSAGES/OpenWebif.mo locale/nl.po && \
		msgfmt -cv -o $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/pl/LC_MESSAGES/OpenWebif.mo locale/pl.po && \
		msgfmt -cv -o $(targetprefix)/usr/lib/enigma2/python/Plugins/Extensions/OpenWebif/locale/uk/LC_MESSAGES/OpenWebif.mo locale/uk.po
	rm -rf e2openplugin-OpenWebif
	touch $@ || true

#
# enigma2-networkbrowser
#
$(D)/enigma2_networkbrowser: $(archivedir)/enigma2-openpli-plugins-enigma2.git Patches/enigma2-networkbrowser-support_autofs.patch 
	[ -d "$(archivedir)/enigma2-openpli-plugins-enigma2.git" ] && \
	(cd $(archivedir)/enigma2-openpli-plugins-enigma2.git; git pull ; git checkout HEAD; cd "$(buildprefix)";); \
	( rm -rf enigma2-networkbrowser || /bin/true ) && (rm -rf enigma2-networkbrowser; cp -a $(archivedir)/enigma2-openpli-plugins-enigma2.git/networkbrowser enigma2-networkbrowser) && ( cd enigma2-networkbrowser && chmod +w -R .; patch -p1 < ../Patches/enigma2-networkbrowser-support_autofs.patch )
	cd enigma2-networkbrowser/src/lib && \
		$(BUILDENV) \
		sh4-linux-gcc -shared -o netscan.so \
			-I $(targetprefix)/usr/include/python$(PYTHON_VERSION) \
			-include Python.h \
			errors.h \
			list.c \
			list.h \
			main.c \
			nbtscan.c \
			nbtscan.h \
			range.c \
			range.h \
			showmount.c \
			showmount.h \
			smb.h \
			smbinfo.c \
			smbinfo.h \
			statusq.c \
			statusq.h \
			time_compat.h
	cd enigma2-networkbrowser && \
		mkdir -p $(targetprefix)/usr/lib/enigma2/python/Plugins/SystemPlugins/NetworkBrowser && \
		cp -a po $(targetprefix)/usr/lib/enigma2/python/Plugins/SystemPlugins/NetworkBrowser/ && \
		cp -a meta $(targetprefix)/usr/lib/enigma2/python/Plugins/SystemPlugins/NetworkBrowser/ && \
		cp -a src/* $(targetprefix)/usr/lib/enigma2/python/Plugins/SystemPlugins/NetworkBrowser/ && \
		cp -a src/lib/netscan.so $(targetprefix)/usr/lib/enigma2/python/Plugins/SystemPlugins/NetworkBrowser/ && \
		rm -rf $(targetprefix)/usr/lib/enigma2/python/Plugins/SystemPlugins/NetworkBrowser/lib
	rm -rf enigma2-networkbrowser
	touch $@ || true

#
# yaud-enigma2-pli-nightly
#
yaud-enigma2-pli-nightly: yaud-none host_python lirc \
		boot-elf enigma2-pli-nightly enigma2-plugins release_enigma2
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

$(D)/enigma2-pli-nightly.do_prepare: | $(ENIGMA2_DEPS)
	REVISION=""; \
	HEAD="master"; \
	DIFF="0"; \
	clear; \
	echo ""; \
	echo "Choose between the following revisions:"; \
	echo "========================================================================================================"; \
	echo " 0) Newest                 - E2 OpenPli gstreamer / libplayer3    (Can fail due to outdated patch)     "; \
	echo "========================================================================================================"; \
	echo " 1) Use your own e2 git dir without patchfile"; \
	echo "========================================================================================================"; \
	echo " 2) Mon, 17 Aug 2015 07:08 - E2 OpenPli gstreamer / libplayer3 cd5505a4b8aba823334032bb6fd7901557575455"; \
	echo "========================================================================================================"; \
	echo "Media Framework : $(MEDIAFW)"; \
	echo "External LCD    : $(EXTERNALLCD)"; \
	read -p "Select          : "; \
	[ "$$REPLY" == "0" ] && DIFF="0"; \
	[ "$$REPLY" == "1" ] && DIFF="1" && REVISION=""; \
	[ "$$REPLY" == "2" ] && DIFF="2" && REVISION="cd5505a4b8aba823334032bb6fd7901557575455"; \
	echo "Revision        : "$$REVISION; \
	echo ""; \
	if [ "$$REPLY" != "1" ]; then \
		REPO="https://github.com/OpenPLi/enigma2.git"; \
		rm -rf $(sourcedir)/enigma2-nightly; \
		rm -rf $(sourcedir)/enigma2-nightly.org; \
		[ -d "$(archivedir)/enigma2-pli-nightly.git" ] && \
		(cd $(archivedir)/enigma2-pli-nightly.git; git pull; git checkout HEAD; cd "$(buildprefix)";); \
		[ -d "$(archivedir)/enigma2-pli-nightly.git" ] || \
		git clone -b $$HEAD $$REPO $(archivedir)/enigma2-pli-nightly.git; \
		cp -ra $(archivedir)/enigma2-pli-nightly.git $(sourcedir)/enigma2-nightly; \
		[ "$$REVISION" == "" ] || (cd $(sourcedir)/enigma2-nightly; git checkout "$$REVISION"; cd "$(buildprefix)";); \
		cp -ra $(sourcedir)/enigma2-nightly $(sourcedir)/enigma2-nightly.org; \
		set -e; cd $(sourcedir)/enigma2-nightly && patch -p1 < "../../cdk/Patches/enigma2-pli-nightly.$$DIFF.diff"; \
	fi
	touch $@

$(sourcedir)/enigma2-pli-nightly/config.status:
	cd $(sourcedir)/enigma2-nightly && \
		./autogen.sh && \
		sed -e 's|#!/usr/bin/python|#!$(hostprefix)/bin/python|' -i po/xml2po.py && \
		$(BUILDENV) \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--with-libsdl=no \
			--datadir=/usr/local/share \
			--libdir=/usr/lib \
			--bindir=/usr/bin \
			--prefix=/usr \
			--sysconfdir=/etc \
			--with-boxtype=none \
			--with-gstversion=1.0 \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			PY_PATH=$(targetprefix)/usr \
			$(PLATFORM_CPPFLAGS) \
			$(E_CONFIG_OPTS)

$(D)/enigma2-pli-nightly.do_compile: $(sourcedir)/enigma2-pli-nightly/config.status
	cd $(sourcedir)/enigma2-nightly && \
		$(MAKE) all
	touch $@

$(D)/enigma2-pli-nightly: enigma2-pli-nightly.do_prepare enigma2-pli-nightly.do_compile
	$(MAKE) -C $(sourcedir)/enigma2-nightly install DESTDIR=$(targetprefix)
	if [ -e $(targetprefix)/usr/bin/enigma2 ]; then \
		$(target)-strip $(targetprefix)/usr/bin/enigma2; \
	fi
	if [ -e $(targetprefix)/usr/local/bin/enigma2 ]; then \
		$(target)-strip $(targetprefix)/usr/local/bin/enigma2; \
	fi
	touch $@

enigma2-pli-nightly-clean:
	rm -f $(D)/enigma2-pli-nightly
	rm -f $(D)/enigma2-pli-nightly.do_compile
	cd $(sourcedir)/enigma2-nightly && \
		$(MAKE) distclean

enigma2-pli-nightly-distclean:
	rm -f $(D)/enigma2-pli-nightly
	rm -f $(D)/enigma2-pli-nightly.do_compile
	rm -f $(D)/enigma2-pli-nightly.do_prepare
	rm -rf $(sourcedir)/enigma2-nightly
	rm -rf $(sourcedir)/enigma2-nightly.org

#
# Makefile to build NEUTRINO
#
$(targetprefix)/var/etc/.version:
	echo "imagename=Neutrino" > $@
	echo "homepage=http://gitorious.org/open-duckbox-project-sh4" >> $@
	echo "creator=`id -un`" >> $@
	echo "docs=http://gitorious.org/open-duckbox-project-sh4/pages/Home" >> $@
	echo "forum=http://gitorious.org/open-duckbox-project-sh4" >> $@
	echo "version=0200`date +%Y%m%d%H%M`" >> $@
	echo "git=`git describe`" >> $@

$(D)/libstb-hal-github-old.do_prepare:
	rm -rf $(sourcedir)/libstb-hal-github-old
	rm -rf $(sourcedir)/libstb-hal-github-old.org
	rm -rf $(LH_OBJDIR)
	[ -d "$(archivedir)/libstb-hal-github-old.git" ] && \
	(cd $(archivedir)/libstb-hal-github-old.git; git pull; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/libstb-hal-github-old.git" ] || \
	git clone https://github.com/MaxWiesel/libstb-hal-old.git $(archivedir)/libstb-hal-github-old.git; \
	cp -ra $(archivedir)/libstb-hal-github-old.git $(sourcedir)/libstb-hal-github-old;\
	cp -ra $(sourcedir)/libstb-hal-github-old $(sourcedir)/libstb-hal-github-old.org
	for i in $(NEUTRINO_MP_LIBSTB_GH_OLD_PATCHES); do \
		echo "==> Applying Patch: $(subst $(PATCHES)/,'',$$i)"; \
		set -e; cd $(sourcedir)/libstb-hal-github-old && patch -p1 -i $$i; \
	done;
	touch $@

$(D)/libstb-hal-github-old.config.status: | $(NEUTRINO_DEPS)
	rm -rf $(LH_OBJDIR) && \
	test -d $(LH_OBJDIR) || mkdir -p $(LH_OBJDIR) && \
	cd $(LH_OBJDIR) && \
		$(sourcedir)/libstb-hal-github-old/autogen.sh && \
		$(BUILDENV) \
		$(sourcedir)/libstb-hal-github-old/configure \
			--host=$(target) \
			--build=$(build) \
			--prefix= \
			--with-target=cdk \
			--with-boxtype=$(BOXTYPE) \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			CFLAGS="$(N_CFLAGS)" CXXFLAGS="$(N_CFLAGS)" CPPFLAGS="$(N_CPPFLAGS)"

$(D)/libstb-hal-github-old.do_compile: libstb-hal-github-old.config.status
	cd $(sourcedir)/libstb-hal-github-old && \
		$(MAKE) -C $(LH_OBJDIR)
	touch $@

$(D)/libstb-hal-github-old: libstb-hal-github-old.do_prepare libstb-hal-github-old.do_compile
	$(MAKE) -C $(LH_OBJDIR) install DESTDIR=$(targetprefix)
	touch $@

libstb-hal-github-old-clean:
	rm -f $(D)/libstb-hal-github-old
	cd $(LH_OBJDIR) && \
		$(MAKE) -C $(LH_OBJDIR) distclean

libstb-hal-github-old-distclean:
	rm -rf $(LH_OBJDIR)
	rm -f $(D)/libstb-hal-github-old*

$(D)/libstb-hal-cst-next.do_prepare:
	rm -rf $(sourcedir)/libstb-hal-cst-next
	rm -rf $(sourcedir)/libstb-hal-cst-next.org
	rm -rf $(LH_OBJDIR)
	[ -d "$(archivedir)/libstb-hal-cst-next.git" ] && \
	(cd $(archivedir)/libstb-hal-cst-next.git; git pull; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/libstb-hal-cst-next.git" ] || \
	git clone https://github.com/Duckbox-Developers/libstb-hal-cst-next.git $(archivedir)/libstb-hal-cst-next.git; \
	cp -ra $(archivedir)/libstb-hal-cst-next.git $(sourcedir)/libstb-hal-cst-next;\
	cp -ra $(sourcedir)/libstb-hal-cst-next $(sourcedir)/libstb-hal-cst-next.org
	for i in $(NEUTRINO_MP_LIBSTB_CST_NEXT_PATCHES); do \
		echo "==> Applying Patch: $(subst $(PATCHES)/,'',$$i)"; \
		set -e; cd $(sourcedir)/libstb-hal-cst-next && patch -p1 -i $$i; \
	done;
	touch $@

$(D)/libstb-hal-cst-next.config.status: | $(NEUTRINO_DEPS)
	rm -rf $(LH_OBJDIR) && \
	test -d $(LH_OBJDIR) || mkdir -p $(LH_OBJDIR) && \
	cd $(LH_OBJDIR) && \
		$(sourcedir)/libstb-hal-cst-next/autogen.sh && \
		$(BUILDENV) \
		$(sourcedir)/libstb-hal-cst-next/configure \
			--host=$(target) \
			--build=$(build) \
			--prefix= \
			--with-target=cdk \
			--with-boxtype=$(BOXTYPE) \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			CFLAGS="$(N_CFLAGS)" CXXFLAGS="$(N_CFLAGS)" CPPFLAGS="$(N_CPPFLAGS)"

$(D)/libstb-hal-cst-next.do_compile: libstb-hal-cst-next.config.status
	cd $(sourcedir)/libstb-hal-cst-next && \
		$(MAKE) -C $(LH_OBJDIR)
	touch $@

$(D)/libstb-hal-cst-next: libstb-hal-cst-next.do_prepare libstb-hal-cst-next.do_compile
	$(MAKE) -C $(LH_OBJDIR) install DESTDIR=$(targetprefix)
	touch $@

libstb-hal-cst-next-clean:
	rm -f $(D)/libstb-hal-cst-next
	cd $(LH_OBJDIR) && \
		$(MAKE) -C $(LH_OBJDIR) distclean

libstb-hal-cst-next-distclean:
	rm -rf $(LH_OBJDIR)
	rm -f $(D)/libstb-hal-cst-next*

################################################################################
#
# neutrino-mp-cst-next
#
yaud-neutrino-mp-cst-next: yaud-none lirc \
		boot-elf neutrino-mp-cst-next release_neutrino
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

yaud-neutrino-mp-cst-next-plugins: yaud-none lirc \
		boot-elf neutrino-mp-cst-next neutrino-mp-plugins release_neutrino
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

$(D)/neutrino-mp-cst-next.do_prepare: | $(NEUTRINO_DEPS) libstb-hal-cst-next
	rm -rf $(sourcedir)/neutrino-mp-cst-next
	rm -rf $(sourcedir)/neutrino-mp-cst-next.org
	rm -rf $(N_OBJDIR)
	[ -d "$(archivedir)/neutrino-mp-cst-next.git" ] && \
	(cd $(archivedir)/neutrino-mp-cst-next.git; git pull; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/neutrino-mp-cst-next.git" ] || \
	git clone https://github.com/Duckbox-Developers/neutrino-mp-cst-next.git $(archivedir)/neutrino-mp-cst-next.git; \
	cp -ra $(archivedir)/neutrino-mp-cst-next.git $(sourcedir)/neutrino-mp-cst-next; \
	cp -ra $(sourcedir)/neutrino-mp-cst-next $(sourcedir)/neutrino-mp-cst-next.org
	for i in $(NEUTRINO_MP_CST_NEXT_PATCHES); do \
		echo "==> Applying Patch: $(subst $(PATCHES)/,'',$$i)"; \
		set -e; cd $(sourcedir)/neutrino-mp-cst-next && patch -p1 -i $$i; \
	done;
	touch $@

$(D)/neutrino-mp-cst-next.config.status:
	rm -rf $(N_OBJDIR)
	test -d $(N_OBJDIR) || mkdir -p $(N_OBJDIR) && \
	cd $(N_OBJDIR) && \
		$(sourcedir)/neutrino-mp-cst-next/autogen.sh && \
		$(BUILDENV) \
		$(sourcedir)/neutrino-mp-cst-next/configure \
			--build=$(build) \
			--host=$(target) \
			$(N_CONFIG_OPTS) \
			--with-boxtype=$(BOXTYPE) \
			--enable-upnp \
			--enable-ffmpegdec \
			--enable-giflib \
			--with-tremor \
			--with-libdir=/usr/lib \
			--with-datadir=/usr/share/tuxbox \
			--with-fontdir=/usr/share/fonts \
			--with-configdir=/var/tuxbox/config \
			--with-gamesdir=/var/tuxbox/games \
			--with-plugindir=/var/tuxbox/plugins \
			--with-iconsdir=/usr/share/tuxbox/neutrino/icons \
			--with-localedir=/usr/share/tuxbox/neutrino/locale \
			--with-private_httpddir=/usr/share/tuxbox/neutrino/httpd \
			--with-themesdir=/usr/share/tuxbox/neutrino/themes \
			--with-stb-hal-includes=$(sourcedir)/libstb-hal-cst-next/include \
			--with-stb-hal-build=$(LH_OBJDIR) \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			CFLAGS="$(N_CFLAGS)" CXXFLAGS="$(N_CFLAGS)" CPPFLAGS="$(N_CPPFLAGS)"

$(sourcedir)/neutrino-mp-cst-next/src/gui/version.h:
	@rm -f $@; \
	echo '#define BUILT_DATE "'`date`'"' > $@
	@if test -d $(sourcedir)/libstb-hal-cst-next ; then \
		pushd $(sourcedir)/libstb-hal-cst-next ; \
		HAL_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		pushd $(sourcedir)/neutrino-mp-cst-next ; \
		NMP_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		pushd $(buildprefix) ; \
		DDT_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		echo '#define VCS "DDT-rev'$$DDT_REV'_HAL-rev'$$HAL_REV'_NMP-rev'$$NMP_REV'"' >> $@ ; \
	fi

$(D)/neutrino-mp-cst-next.do_compile: neutrino-mp-cst-next.config.status $(sourcedir)/neutrino-mp-cst-next/src/gui/version.h
	cd $(sourcedir)/neutrino-mp-cst-next && \
		$(MAKE) -C $(N_OBJDIR) all
	touch $@

$(D)/neutrino-mp-cst-next: neutrino-mp-cst-next.do_prepare neutrino-mp-cst-next.do_compile
	$(MAKE) -C $(N_OBJDIR) install DESTDIR=$(targetprefix) && \
	rm -f $(targetprefix)/var/etc/.version
	make $(targetprefix)/var/etc/.version
	$(target)-strip $(targetprefix)/usr/local/bin/neutrino
	$(target)-strip $(targetprefix)/usr/local/bin/pzapit
	$(target)-strip $(targetprefix)/usr/local/bin/sectionsdcontrol
	$(target)-strip $(targetprefix)/usr/local/sbin/udpstreampes
	touch $@

neutrino-mp-cst-next-clean:
	rm -f $(D)/neutrino-mp-cst-next
	rm -f $(sourcedir)/neutrino-mp-cst-next/src/gui/version.h
	cd $(N_OBJDIR) && \
		$(MAKE) -C $(N_OBJDIR) distclean

neutrino-mp-cst-next-distclean:
	rm -rf $(N_OBJDIR)
	rm -f $(D)/neutrino-mp-cst-next*

################################################################################
#
# neutrino-mp-martii
#
yaud-neutrino-mp-martii-github: yaud-none lirc \
		boot-elf neutrino-mp-martii-github release_neutrino
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

$(D)/neutrino-mp-martii-github.do_prepare: | $(NEUTRINO_DEPS) libstb-hal-cst-next
	rm -rf $(sourcedir)/neutrino-mp-martii-github
	rm -rf $(sourcedir)/neutrino-mp-martii-github.org
	rm -rf $(N_OBJDIR)
	[ -d "$(archivedir)/neutrino-mp-martii-github.git" ] && \
	(cd $(archivedir)/neutrino-mp-martii-github.git; git pull; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/neutrino-mp-martii-github.git" ] || \
	git clone https://github.com/MaxWiesel/neutrino-mp-martii-test.git $(archivedir)/neutrino-mp-martii-github.git; \
	cp -ra $(archivedir)/neutrino-mp-martii-github.git $(sourcedir)/neutrino-mp-martii-github; \
	cp -ra $(sourcedir)/neutrino-mp-martii-github $(sourcedir)/neutrino-mp-martii-github.org
	for i in $(NEUTRINO_MP_MARTII_GH_PATCHES); do \
		echo "==> Applying Patch: $(subst $(PATCHES)/,'',$$i)"; \
		set -e; cd $(sourcedir)/neutrino-mp-martii-github && patch -p1 -i $$i; \
	done;
	touch $@

$(D)/neutrino-mp-martii-github.config.status:
	rm -rf $(N_OBJDIR)
	test -d $(N_OBJDIR) || mkdir -p $(N_OBJDIR) && \
	cd $(N_OBJDIR) && \
		$(sourcedir)/neutrino-mp-martii-github/autogen.sh && \
		$(BUILDENV) \
		$(sourcedir)/neutrino-mp-martii-github/configure \
			--build=$(build) \
			--host=$(target) \
			$(N_CONFIG_OPTS) \
			--with-boxtype=$(BOXTYPE) \
			--enable-giflib \
			--with-tremor \
			--with-libdir=/usr/lib \
			--with-datadir=/usr/share/tuxbox \
			--with-fontdir=/usr/share/fonts \
			--with-configdir=/var/tuxbox/config \
			--with-gamesdir=/var/tuxbox/games \
			--with-plugindir=/var/tuxbox/plugins \
			--with-stb-hal-includes=$(sourcedir)/libstb-hal-cst-next/include \
			--with-stb-hal-build=$(LH_OBJDIR) \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			CFLAGS="$(N_CFLAGS)" CXXFLAGS="$(N_CFLAGS)" CPPFLAGS="$(N_CPPFLAGS)"

$(sourcedir)/neutrino-mp-martii-github/src/gui/version.h:
	@rm -f $@; \
	echo '#define BUILT_DATE "'`date`'"' > $@
	@if test -d $(sourcedir)/libstb-hal-cst-next ; then \
		pushd $(sourcedir)/libstb-hal-cst-next ; \
		HAL_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		pushd $(sourcedir)/neutrino-mp-martii-github ; \
		NMP_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		pushd $(buildprefix) ; \
		DDT_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		echo '#define VCS "DDT-rev'$$DDT_REV'_HAL-rev'$$HAL_REV'_NMP-rev'$$NMP_REV'"' >> $@ ; \
	fi

$(D)/neutrino-mp-martii-github.do_compile: neutrino-mp-martii-github.config.status $(sourcedir)/neutrino-mp-martii-github/src/gui/version.h
	cd $(sourcedir)/neutrino-mp-martii-github && \
		$(MAKE) -C $(N_OBJDIR) all
	touch $@

$(D)/neutrino-mp-martii-github: neutrino-mp-martii-github.do_prepare neutrino-mp-martii-github.do_compile
	$(MAKE) -C $(N_OBJDIR) install DESTDIR=$(targetprefix) && \
	rm -f $(targetprefix)/var/etc/.version
	make $(targetprefix)/var/etc/.version
	$(target)-strip $(targetprefix)/usr/local/bin/neutrino
	$(target)-strip $(targetprefix)/usr/local/bin/pzapit
	$(target)-strip $(targetprefix)/usr/local/bin/sectionsdcontrol
	$(target)-strip $(targetprefix)/usr/local/sbin/udpstreampes
	touch $@

neutrino-mp-martii-github-clean:
	rm -f $(D)/neutrino-mp-martii-github
	rm -f $(sourcedir)/neutrino-mp-martii-github/src/gui/version.h
	cd $(N_OBJDIR) && \
		$(MAKE) -C $(N_OBJDIR) distclean

neutrino-mp-martii-github-distclean:
	rm -rf $(N_OBJDIR)
	rm -f $(D)/neutrino-mp-martii-github*

################################################################################
#
# yaud-neutrino-mp-next
#
yaud-neutrino-mp-next: yaud-none lirc \
		boot-elf neutrino-mp-next release_neutrino
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

yaud-neutrino-mp-next-plugins: yaud-none lirc \
		boot-elf neutrino-mp-next neutrino-mp-plugins release_neutrino
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

yaud-neutrino-mp-next-all: yaud-none lirc \
		boot-elf neutrino-mp-next neutrino-mp-plugins shairport release_neutrino
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

$(D)/libstb-hal-next.do_prepare:
	rm -rf $(sourcedir)/libstb-hal-next
	rm -rf $(sourcedir)/libstb-hal-next.org
	rm -rf $(LH_OBJDIR)
	[ -d "$(archivedir)/libstb-hal-next.git" ] && \
	(cd $(archivedir)/libstb-hal-next.git; git pull; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/libstb-hal-next.git" ] || \
	git clone https://github.com/Duckbox-Developers/libstb-hal-next.git $(archivedir)/libstb-hal-next.git; \
	cp -ra $(archivedir)/libstb-hal-next.git $(sourcedir)/libstb-hal-next;\
	cp -ra $(sourcedir)/libstb-hal-next $(sourcedir)/libstb-hal-next.org
	for i in $(NEUTRINO_MP_LIBSTB_NEXT_PATCHES); do \
		echo "==> Applying Patch: $(subst $(PATCHES)/,'',$$i)"; \
		set -e; cd $(sourcedir)/libstb-hal-next && patch -p1 -i $$i; \
	done;
	touch $@

$(D)/libstb-hal-next.config.status: bootstrap
	rm -rf $(LH_OBJDIR) && \
	test -d $(LH_OBJDIR) || mkdir -p $(LH_OBJDIR) && \
	cd $(LH_OBJDIR) && \
		$(sourcedir)/libstb-hal-next/autogen.sh && \
		$(BUILDENV) \
		$(sourcedir)/libstb-hal-next/configure \
			--host=$(target) \
			--build=$(build) \
			--prefix= \
			--with-target=cdk \
			--with-boxtype=$(BOXTYPE) \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			CPPFLAGS="$(N_CPPFLAGS)"

$(D)/libstb-hal-next.do_compile: libstb-hal-next.config.status
	cd $(sourcedir)/libstb-hal-next && \
		$(MAKE) -C $(LH_OBJDIR)
	touch $@

$(D)/libstb-hal-next: libstb-hal-next.do_prepare libstb-hal-next.do_compile
	$(MAKE) -C $(LH_OBJDIR) install DESTDIR=$(targetprefix)
	touch $@

libstb-hal-next-clean:
	rm -f $(D)/libstb-hal-next
	cd $(LH_OBJDIR) && \
		$(MAKE) -C $(LH_OBJDIR) distclean

libstb-hal-next-distclean:
	rm -rf $(LH_OBJDIR)
	rm -f $(D)/libstb-hal-next*

$(D)/neutrino-mp-next.do_prepare: | $(NEUTRINO_DEPS) libstb-hal-next
	rm -rf $(sourcedir)/neutrino-mp-next
	rm -rf $(sourcedir)/neutrino-mp-next.org
	rm -rf $(N_OBJDIR)
	[ -d "$(archivedir)/neutrino-mp-next.git" ] && \
	(cd $(archivedir)/neutrino-mp-next.git; git pull; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/neutrino-mp-next.git" ] || \
	git clone https://github.com/Duckbox-Developers/neutrino-mp-next.git $(archivedir)/neutrino-mp-next.git; \
	cp -ra $(archivedir)/neutrino-mp-next.git $(sourcedir)/neutrino-mp-next; \
	cp -ra $(sourcedir)/neutrino-mp-next $(sourcedir)/neutrino-mp-next.org
	for i in $(NEUTRINO_MP_NEXT_PATCHES); do \
		echo "==> Applying Patch: $(subst $(PATCHES)/,'',$$i)"; \
		set -e; cd $(sourcedir)/neutrino-mp-next && patch -p1 -i $$i; \
	done;
	touch $@

$(D)/neutrino-mp-next.config.status:
	rm -rf $(N_OBJDIR)
	test -d $(N_OBJDIR) || mkdir -p $(N_OBJDIR) && \
	cd $(N_OBJDIR) && \
		$(sourcedir)/neutrino-mp-next/autogen.sh && \
		$(BUILDENV) \
		$(sourcedir)/neutrino-mp-next/configure \
			--build=$(build) \
			--host=$(target) \
			$(N_CONFIG_OPTS) \
			--enable-ffmpegdec \
			--enable-giflib \
			--with-boxtype=$(BOXTYPE) \
			--with-tremor \
			--with-libdir=/usr/lib \
			--with-datadir=/usr/share/tuxbox \
			--with-fontdir=/usr/share/fonts \
			--with-configdir=/var/tuxbox/config \
			--with-gamesdir=/var/tuxbox/games \
			--with-plugindir=/var/tuxbox/plugins \
			--with-stb-hal-includes=$(sourcedir)/libstb-hal-next/include \
			--with-stb-hal-build=$(LH_OBJDIR) \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			CPPFLAGS="$(N_CPPFLAGS)"

$(sourcedir)/neutrino-mp-next/src/gui/version.h:
	@rm -f $@; \
	echo '#define BUILT_DATE "'`date`'"' > $@
	@if test -d $(sourcedir)/libstb-hal-next ; then \
		pushd $(sourcedir)/libstb-hal-next ; \
		HAL_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		pushd $(sourcedir)/neutrino-mp-next ; \
		NMP_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		pushd $(buildprefix) ; \
		DDT_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		echo '#define VCS "DDT-rev'$$DDT_REV'_HAL-rev'$$HAL_REV'-next_NMP-rev'$$NMP_REV'-next"' >> $@ ; \
	fi

$(D)/neutrino-mp-next.do_compile: neutrino-mp-next.config.status $(sourcedir)/neutrino-mp-next/src/gui/version.h
	cd $(sourcedir)/neutrino-mp-next && \
		$(MAKE) -C $(N_OBJDIR) all
	touch $@

$(D)/neutrino-mp-next: neutrino-mp-next.do_prepare neutrino-mp-next.do_compile
	$(MAKE) -C $(N_OBJDIR) install DESTDIR=$(targetprefix) && \
	rm -f $(targetprefix)/var/etc/.version
	make $(targetprefix)/var/etc/.version
	$(target)-strip $(targetprefix)/usr/local/bin/neutrino
	$(target)-strip $(targetprefix)/usr/local/bin/pzapit
	$(target)-strip $(targetprefix)/usr/local/bin/sectionsdcontrol
	$(target)-strip $(targetprefix)/usr/local/sbin/udpstreampes
	touch $@

neutrino-mp-next-clean:
	rm -f $(D)/neutrino-mp-next
	rm -f $(sourcedir)/neutrino-mp-next/src/gui/version.h
	cd $(N_OBJDIR) && \
		$(MAKE) -C $(N_OBJDIR) distclean

neutrino-mp-next-distclean:
	rm -rf $(N_OBJDIR)
	rm -f $(D)/neutrino-mp-next*

################################################################################
#
# yaud-neutrino-hd2-exp
#
yaud-neutrino-hd2-exp: yaud-none lirc \
		boot-elf neutrino-hd2-exp release_neutrino
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

$(D)/neutrino-hd2-exp.do_prepare: | $(NEUTRINO_DEPS) $(NEUTRINO_DEPS2) $(MEDIAFW_DEP) libflac
	rm -rf $(sourcedir)/nhd2-exp
	rm -rf $(sourcedir)/nhd2-exp.org
	[ -d "$(archivedir)/neutrino-hd2-exp.svn" ] && \
	(cd $(archivedir)/neutrino-hd2-exp.svn; svn up ; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/neutrino-hd2-exp.svn" ] || \
	svn co http://neutrinohd2.googlecode.com/svn/branches/nhd2-exp $(archivedir)/neutrino-hd2-exp.svn; \
	cp -ra $(archivedir)/neutrino-hd2-exp.svn $(sourcedir)/nhd2-exp; \
	cp -ra $(sourcedir)/nhd2-exp $(sourcedir)/nhd2-exp.org
	for i in $(NEUTRINO_HD2_PATCHES); do \
		echo "==> Applying Patch: $(subst $(PATCHES)/,'',$$i)"; \
		set -e; cd $(sourcedir)/nhd2-exp && patch -p1 -i $$i; \
	done;
	touch $@

$(sourcedir)/nhd2-exp/config.status:
	cd $(sourcedir)/nhd2-exp && \
		./autogen.sh && \
		$(BUILDENV) \
		./configure \
			--build=$(build) \
			--host=$(target) \
			$(N_CONFIG_OPTS) \
			--with-boxtype=$(BOXTYPE) \
			--with-libdir=/usr/lib \
			--with-datadir=/usr/share/tuxbox \
			--with-fontdir=/usr/share/fonts \
			--with-configdir=/var/tuxbox/config \
			--with-gamesdir=/var/tuxbox/games \
			--with-plugindir=/var/tuxbox/plugins \
			--with-isocodesdir=/usr/share/iso-codes \
			--enable-standaloneplugins \
			--enable-radiotext \
			--enable-upnp \
			--enable-scart \
			--enable-ci \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			CPPFLAGS="$(N_CPPFLAGS)" LDFLAGS="$(TARGET_LDFLAGS)"

$(D)/neutrino-hd2-exp: neutrino-hd2-exp.do_prepare neutrino-hd2-exp.do_compile
	$(MAKE) -C $(sourcedir)/nhd2-exp install DESTDIR=$(targetprefix) && \
	rm -f $(targetprefix)/var/etc/.version
	make $(targetprefix)/var/etc/.version
	$(target)-strip $(targetprefix)/usr/local/bin/neutrino
	$(target)-strip $(targetprefix)/usr/local/bin/pzapit
	$(target)-strip $(targetprefix)/usr/local/bin/sectionsdcontrol
	touch $@

$(D)/neutrino-hd2-exp.do_compile: $(sourcedir)/nhd2-exp/config.status
	cd $(sourcedir)/nhd2-exp && \
		$(MAKE) all
	touch $@

neutrino-hd2-exp-clean:
	rm -f $(D)/neutrino-hd2-exp
	cd $(sourcedir)/nhd2-exp && \
		$(MAKE) clean

neutrino-hd2-exp-distclean:
	rm -f $(D)/neutrino-hd2-exp
	rm -f $(D)/neutrino-hd2-exp.do_compile
	rm -f $(D)/neutrino-hd2-exp.do_prepare

################################################################################
#
# yaud-neutrino-mp-tangos
#
yaud-neutrino-mp-tangos: yaud-none lirc \
		boot-elf neutrino-mp-tangos release_neutrino
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

yaud-neutrino-mp-tangos-plugins: yaud-none lirc \
		boot-elf neutrino-mp-tangos neutrino-mp-plugins release_neutrino
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

yaud-neutrino-mp-tangos-all: yaud-none lirc \
		boot-elf neutrino-mp-tangos neutrino-mp-plugins shairport release_neutrino
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

$(D)/neutrino-mp-tangos.do_prepare: | $(NEUTRINO_DEPS) libstb-hal-cst-next
	rm -rf $(sourcedir)/neutrino-mp-tangos
	rm -rf $(sourcedir)/neutrino-mp-tangos.org
	rm -rf $(N_OBJDIR)
	[ -d "$(archivedir)/neutrino-mp-tangos.git" ] && \
	(cd $(archivedir)/neutrino-mp-tangos.git; git pull; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/neutrino-mp-tangos.git" ] || \
	git clone https://github.com/TangoCash/neutrino-mp-cst-next.git $(archivedir)/neutrino-mp-tangos.git; \
	cp -ra $(archivedir)/neutrino-mp-tangos.git $(sourcedir)/neutrino-mp-tangos; \
	cp -ra $(sourcedir)/neutrino-mp-tangos $(sourcedir)/neutrino-mp-tangos.org
	for i in $(NEUTRINO_MP_TANGOS_PATCHES); do \
		echo "==> Applying Patch: $(subst $(PATCHES)/,'',$$i)"; \
		set -e; cd $(sourcedir)/neutrino-mp-tangos && patch -p1 -i $$i; \
	done;
	touch $@

$(D)/neutrino-mp-tangos.config.status:
	test -d $(N_OBJDIR) || mkdir -p $(N_OBJDIR) && \
	cd $(N_OBJDIR) && \
		$(sourcedir)/neutrino-mp-tangos/autogen.sh && \
		$(BUILDENV) \
		$(sourcedir)/neutrino-mp-tangos/configure \
			--build=$(build) \
			--host=$(target) \
			$(N_CONFIG_OPTS) \
			--disable-upnp \
			--enable-lua \
			--enable-ffmpegdec \
			--enable-giflib \
			--with-boxtype=$(BOXTYPE) \
			--with-tremor \
			--with-libdir=/usr/lib \
			--with-datadir=/usr/share/tuxbox \
			--with-fontdir=/usr/share/fonts \
			--with-configdir=/var/tuxbox/config \
			--with-gamesdir=/var/tuxbox/games \
			--with-plugindir=/var/tuxbox/plugins \
			--with-iconsdir=/usr/share/tuxbox/neutrino/icons \
			--with-localedir=/usr/share/tuxbox/neutrino/locale \
			--with-private_httpddir=/usr/share/tuxbox/neutrino/httpd \
			--with-themesdir=/usr/share/tuxbox/neutrino/themes \
			--with-stb-hal-includes=$(sourcedir)/libstb-hal-cst-next/include \
			--with-stb-hal-build=$(LH_OBJDIR) \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			CPPFLAGS="$(N_CPPFLAGS)"

$(sourcedir)/neutrino-mp-tangos/src/gui/version.h:
	@rm -f $@; \
	echo '#define BUILT_DATE "'`date`'"' > $@
	@if test -d $(sourcedir)/libstb-hal-cst-next ; then \
		pushd $(sourcedir)/libstb-hal-cst-next ; \
		HAL_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		pushd $(sourcedir)/neutrino-mp-tangos ; \
		NMP_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		pushd $(buildprefix) ; \
		DDT_REV=$$(git log | grep "^commit" | wc -l) ; \
		popd ; \
		echo '#define VCS "DDT-rev'$$DDT_REV'_HAL-rev'$$HAL_REV'-next_NMP-rev'$$NMP_REV'-tangos"' >> $@ ; \
	fi

$(D)/neutrino-mp-tangos.do_compile: neutrino-mp-tangos.config.status $(sourcedir)/neutrino-mp-tangos/src/gui/version.h
	cd $(sourcedir)/neutrino-mp-tangos && \
		$(MAKE) -C $(N_OBJDIR) all
	touch $@

$(D)/neutrino-mp-tangos: neutrino-mp-tangos.do_prepare neutrino-mp-tangos.do_compile
	$(MAKE) -C $(N_OBJDIR) install DESTDIR=$(targetprefix) && \
	rm -f $(targetprefix)/var/etc/.version
	make $(targetprefix)/var/etc/.version
	$(target)-strip $(targetprefix)/usr/local/bin/neutrino
	$(target)-strip $(targetprefix)/usr/local/bin/pzapit
	$(target)-strip $(targetprefix)/usr/local/bin/sectionsdcontrol
	$(target)-strip $(targetprefix)/usr/local/sbin/udpstreampes
	touch $@

neutrino-mp-tangos-clean:
	rm -f $(D)/neutrino-mp-tangos
	rm -f $(sourcedir)/neutrino-mp-tangos/src/gui/version.h
	cd $(N_OBJDIR) && \
		$(MAKE) -C $(N_OBJDIR) distclean

neutrino-mp-tangos-distclean:
	rm -rf $(N_OBJDIR)
	rm -f $(D)/neutrino-mp-tangos*

#
# Makefile to build NEUTRINO-PLUGINS
#
#
#
# PLUGINS
#
$(D)/neutrino-mp-plugins.do_prepare:
	rm -rf $(sourcedir)/neutrino-mp-plugins
	rm -rf $(sourcedir)/neutrino-mp-plugins.org
	[ -d "$(archivedir)/neutrino-mp-plugins.git" ] && \
	(cd $(archivedir)/neutrino-mp-plugins.git; git pull; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/neutrino-mp-plugins.git" ] || \
	git clone https://github.com/Duckbox-Developers/neutrino-mp-plugins.git $(archivedir)/neutrino-mp-plugins.git; \
	cp -ra $(archivedir)/neutrino-mp-plugins.git $(sourcedir)/neutrino-mp-plugins;\
	cp -ra $(sourcedir)/neutrino-mp-plugins $(sourcedir)/neutrino-mp-plugins.org
	touch $@

$(sourcedir)/neutrino-mp-plugins/config.status: $(D)/bootstrap $(D)/xupnpd
	cd $(sourcedir)/neutrino-mp-plugins && \
		./autogen.sh && \
		$(BUILDENV) \
		./configure \
			--host=$(target) \
			--build=$(build) \
			--prefix= \
			--with-target=cdk \
			--oldinclude=$(targetprefix)/include \
			--enable-maintainer-mode \
			--enable-giflib \
			--with-boxtype=$(BOXTYPE) \
			--with-plugindir=/var/tuxbox/plugins \
			--with-libdir=/usr/lib \
			--with-datadir=/usr/share/tuxbox \
			--with-fontdir=/usr/share/fonts \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			CPPFLAGS="$(N_CPPFLAGS) -DMARTII -DNEW_LIBCURL" \
			LDFLAGS="$(TARGET_LDFLAGS) -L$(sourcedir)/neutrino-mp-plugins/fx2/lib/.libs"

$(D)/neutrino-mp-plugins.do_compile: $(sourcedir)/neutrino-mp-plugins/config.status
	cd $(sourcedir)/neutrino-mp-plugins && \
		$(MAKE)
	touch $@

$(D)/neutrino-mp-plugins: neutrino-mp-plugins.do_prepare neutrino-mp-plugins.do_compile
	$(MAKE) -C $(sourcedir)/neutrino-mp-plugins install DESTDIR=$(targetprefix)
	touch $@

neutrino-mp-plugins-clean:
	rm -f $(D)/neutrino-mp-plugins
	cd $(sourcedir)/neutrino-mp-plugins && \
		$(MAKE) clean

neutrino-mp-plugins-distclean:
	rm -f $(D)/neutrino-mp-plugins*

#
# NHD2 plugins
#
yaud-neutrino-hd2-exp-plugins: yaud-none lirc \
		boot-elf neutrino-hd2-exp neutrino-mp-plugins release_neutrino
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

$(D)/nhd2-plugins.do_prepare:
	rm -rf $(sourcedir)/nhd2-plugins
	rm -rf $(sourcedir)/nhd2-plugins.org
	(cd $(archivedir)/neutrino-hd2-exp.git; git pull ; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/neutrino-hd2-exp.git" ] || \
	git clone https://github.com/mohousch/neutrinohd2.git $(archivedir)/neutrino-hd2-exp.git; \
	cp -ra $(archivedir)/neutrino-hd2-exp.git $(sourcedir)/nhd2-plugins; \
	(cd $(sourcedir)/nhd2-plugins; git checkout plugins; cd "$(buildprefix)";); \
	cp -ra $(sourcedir)/nhd2-plugins $(sourcedir)/nhd2-plugins.org
	for i in $(NEUTRINO_HD2_PLUGINS_PATCHES); do \
		echo "==> Applying Patch: $(subst $(PATCHES)/,'',$$i)"; \
		cd $(sourcedir)/nhd2-plugins && patch -p1 -i $$i; \
	done;
	touch $@

$(sourcedir)/nhd2-plugins/config.status: bootstrap
	cd $(sourcedir)/nhd2-plugins && \
		./autogen.sh && \
		$(BUILDENV) \
		./configure \
			--host=$(target) \
			--build=$(build) \
			--prefix= \
			--with-target=cdk \
			--with-boxtype=$(BOXTYPE) \
			--with-plugindir=/var/tuxbox/plugins \
			--with-libdir=/usr/lib \
			--with-datadir=/usr/share/tuxbox \
			--with-fontdir=/usr/share/fonts \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			CPPFLAGS="$(CPPFLAGS) -I$(driverdir) -I$(buildprefix)/$(KERNEL_DIR)/include -I$(targetprefix)/include" \
			LDFLAGS="$(TARGET_LDFLAGS)"

$(D)/nhd2-plugins.do_compile: $(sourcedir)/nhd2-plugins/config.status
	cd $(sourcedir)/nhd2-plugins && \
	$(MAKE)
	touch $@

$(D)/nhd2-plugins: nhd2-plugins.do_prepare nhd2-plugins.do_compile
	rm -rf $(targetprefix)/var/tuxbox/plugins/*
	$(MAKE) -C $(sourcedir)/nhd2-plugins install DESTDIR=$(targetprefix)
#	touch $@

nhd2-plugins-clean:
	rm -f $(D)/nhd2-plugins
	cd $(sourcedir)/nhd2-plugins && \
	$(MAKE) clean
	rm -f $(sourcedir)/nhd2-plugins/config.status

nhd2-plugins-distclean:
	rm -f $(D)/nhd2-plugins*
yaud-tvheadend: yaud-none \
		boot-elf tvheadend release_tvheadend
	[ -x $(customizationsdir)/$(notdir $@)-local.sh ] && KERNELVERSION=$(KERNELVERSION) && BOXTYPE=$(BOXTYPE) && $(customizationsdir)/$(notdir $@)-local.sh $(prefix) $(prefix)/$*cdkroot $(buildprefix) $(sourcedir) $(flashscriptdir) $(BOXTYPE) || true

$(D)/tvheadend.do_prepare: | $(TVHEADEND_DEPS)
	rm -rf $(sourcedir)/tvheadend
	rm -rf $(sourcedir)/tvheadend.org
	rm -rf $(N_OBJDIR)
	[ -d "$(archivedir)/tvheadend.git" ] && \
	(cd $(archivedir)/tvheadend.git; git pull; cd "$(buildprefix)";); \
	[ -d "$(archivedir)/tvheadend.git" ] || \
	git clone https://github.com/tvheadend/tvheadend.git $(archivedir)/tvheadend.git; \
	cp -ra $(archivedir)/tvheadend.git $(sourcedir)/tvheadend; \
	cp -ra $(sourcedir)/tvheadend $(sourcedir)/tvheadend.org
	touch $@

$(D)/tvheadend.config.status:
	cd $(sourcedir)/tvheadend && \
		$(BUILDENV) \
		./configure \
			--build=$(build) \
			--host=$(target) \
			--disable-avahi \
			--disable-tvhcsa \
			--disable-libav \
			--disable-dvben50221 \
			--disable-dbus_1 \
			PKG_CONFIG=$(hostprefix)/bin/$(target)-pkg-config \
			PKG_CONFIG_PATH=$(targetprefix)/usr/lib/pkgconfig \
			PY_PATH=$(targetprefix)/usr \
			$(PLATFORM_CPPFLAGS)

$(D)/tvheadend.do_compile: tvheadend.config.status
	cd $(sourcedir)/tvheadend && \
		$(MAKE) all
	touch $@

$(D)/tvheadend: tvheadend.do_prepare tvheadend.do_compile
	$(MAKE) -C $(sourcedir)/tvheadend install DESTDIR=$(targetprefix)
	if [ -e $(targetprefix)/usr/bin/tvheadend ]; then \
		$(target)-strip $(targetprefix)/usr/bin/tvheadend; \
	fi
	if [ -e $(targetprefix)/usr/local/bin/tvheadend ]; then \
		$(target)-strip $(targetprefix)/usr/local/bin/tvheadend; \
	fi
	touch $@

tvheadendclean:
	rm -f $(D)/tvheadend
	rm -f $(D)/tvheadend.do_compile
	cd $(sourcedir)/tvheadend && \
		$(MAKE) distclean

tvheadend-distclean:
	rm -f $(D)/tvheadend
	rm -f $(D)/tvheadend.do_compile
	rm -f $(D)/tvheadend.do_prepare
	rm -rf $(sourcedir)/tvheadend
	rm -rf $(sourcedir)/tvheadend.org

# Delete all marker files in .deps, except those belonging to bootstrap,
# thus forcing unpack-patch-install-delete-targets to be rebuilt.
depsclean:
	$(DEPSCLEANUP)
	( cd .deps && find . ! -name "*\.*" -delete )

mostlyclean-local: cdk-clean

# Clean tuxbox source directories
cdk-clean:
	-$(MAKE) -C $(buildprefix)/$(KERNEL_DIR) clean
	-$(MAKE) -C $(driverdir) KERNEL_LOCATION=$(buildprefix)/$(KERNEL_DIR) \
		BIN_DEST=$(targetprefix)/bin \
		INSTALL_MOD_PATH=$(targetprefix) clean
	-$(MAKE) -C $(appsdir)/tools distclean
	-$(MAKE) -C $(appsdir)/libs/gst-plugins-dvbmediasink-* distclean
	-$(MAKE) -C $(appsdir)/libs/libstgles distclean
	-$(MAKE) -C $(TFINSTALLER_DIR) clean

# Clean tuxbox source directories. Clean up in cdkroot as much as the
# uninstall facilities of the components allow.
clean-local: mostlyclean-local depsclean
	-rm -rf $(hostprefix)
	-rm -rf $(crossprefix)
	-rm -rf $(prefix)/*cdkroot
	-rm -rf $(prefix)/*cdkroot-tftpboot
	-rm -rf $(prefix)/release*
	-rm -rf $(D)/linux-kernel*

# Be brutal...just nuke it!
distclean-local:
	-$(MAKE) -C $(appsdir) distclean
	-$(MAKE) -C $(appsdir)/tools distclean
	-$(MAKE) driver-clean
	-rm -f Makefile-archive
	-rm -f rules-downcheck.pl
	-rm -rf $(D)
	-rm -rf $(prefix)/*cdkroot/
	-rm -rf $(prefix)/*cdkroot-tftpboot
	-rm -rf $(crossprefix)
	-rm -rf $(hostprefix)
	-rm -rf $(serversupport)
	-rm -rf $(buildtmp)
	-rm -rf $(sourcedir)
	-rm -rf linux-sh4-2.6.32.61_stm24_0217 host-u-boot-tools-1.3.1 mksquashfs ccache-3.1.9 cramfs-1.1 pkg-config-0.28 module-init-tools-3.16 mtd-utils-1.5.1 glib-2.45.4 libffi-3.2.1 u-boot-1.3.1 busybox-1.24.1 lsb-3.2 ipkg-0.99.163 module-init-tools-3.16 sysvinit-2.88dsf freetype-2.6 fontconfig-2.8.0 fribidi-0.19.7 giflib-5.0.6 giflib-4.1.6 libungif-4.1.4 jpeg-8d libjpeg-turbo-1.4.0 libpng-1.2.50 libpng-1.6.18 tiff-4.0.3 pixman-0.18.0 alsa-lib-1.0.29 alsa-utils-1.0.29 flac-1.3.1 a52dec-0.7.4 libao-1.1.0 libass-0.11.1 libbluray-0.5.0 libdvdcss-1.2.13 libdvdnav-4.2.1 libdvdread-4.9.9 libid3tag-0.15.1b libmad-0.15.1b libmpeg2-0.5.1 libogg-1.3.2 libsamplerate-0.1.8 libvorbis-1.3.4 libvorbisidec-1.0.2+svn18153 libdca-0.0.5 ncurses-5.9 gmp-6.0.0 lua-5.2.3 luacurl-v3 luaexpat-1.3.0 howl-1.0.0 openthreads pugixml-1.6 boost_1_53_0 zlib-1.2.8 libcap-2.22 readline-6.2 lirc-0.9.0 libsigc++-1.2.7 libsigc++-2.3.2 glib-2.45.4 libffi-3.2.1 libiconv-1.14 libmng-1.0.10 lcms-1.17 DirectFB-1.4.11 DFB++-1.0.0 libstgles-1.0 expat-2.1.0 libxmlccwrap-0.0.12 ffmpeg-2.6.3 fdk-aac-1.0 webkitdfb_2010-11-18 icu/source enchant-1.5.0 lite-0.9.0+git0.7982ccc sqlite-autoconf-3080600 cairo-1.8.10 evebrowser-0.0.1 BroFS1.2 rtmpdump-2.4 libdvbsi++-0.3.7 libmodplug-0.8.8.4 lzo-2.06 yajl-2.0.1 pcre-8.30 libcdio-0.83 jasper-1.900.1 mysql-5.1.40 libmicrohttpd-0.9.19 libexif-0.6.20 minidlna-1.1.5 djmount-0.71 libupnp-1.6.17 rarfs-0.1.0 sshfs-fuse-2.4 tinyxml2.6.2 libnfs-c0ebf57b21 taglib-1.8 libdaemon-0.14 libplist-1.10 libxml2-2.8.0 libxml2-2.9.0 libxslt-1.1.28 bzip2-1.0.6 grep-2.5.1 openrdate-1.1.2 mc-4.8.1.7 console-data-1.03 nano-2.4.2 rsync-2.6.9 curlftpfs-0.9.2 pngquant-1.1 mplayer-export-* mplayer-export-* opkg-0.2.0 sysstat-11.1.2 ImageMagick-6.7.7-7 shairport-1.0 dbus-dbus-1.8 avahi-0.6.31 mtd-utils-1.5.0 wget-1.15 host-python-2.7.9 python-2.7.9 gdata-2.0.18 elementtree-1.2.6-20050316 lxml-2.2.8 setuptools-5.2 Twisted-13.2.0 Imaging-1.1.7 pycrypto-2.5 pyusb-1.0.0a3 six-1.9.0 cffi-1.2.1 enum34-1.0.4 pyasn1-0.1.8 pyasn1-modules-0.0.7 pycparser-2.14 cryptography-0.8.1 pyOpenSSL-0.13.1 python-wifi-0.5.0 Cheetah-2.4.4 mechanize-0.2.5 zope.interface-4.1.1 requests-2.7.0 futures-2.1.6 singledispatch-3.4.0.3 livestreamer-1.0 livestreamersrv-1.0 orc-0.4.24 gmediarender-0.0.6 gst-plugins-dvbmediasink-1.0 gstreamer-1.6.1 gst-plugins-base-1.6.1 gst-plugins-good-1.6.1 gst-plugins-bad-1.6.1 gst-plugins-ugly-1.6.1 gst-libav-1.6.1 gst-fluendo-mpegdemux-0.10.71 gst-plugin-subsink-1.0 libtuxtxt tuxtxt enigma2-networkbrowser enigma2-webinterface e2openplugin-OpenWebif enigma2-plugins-all hotplug-e2-helper-1.0 libdreamdvd-1.0 graphlcd-base-touchcol lcd4linux-1.0 libusb-1.0.9 libusb-compat-0.1.5 libgd-2.1.0 dpf-ax openssl-1.0.2d openssl-0.9.8zf gnutls-3.4.3 nettle-3.1 dosfstools-3.0.16 e2fsprogs-1.42.13 fdisk-1.3.0a fuse-2.9.2 hddtemp-0.3-beta15 hdparm-9.43 jfsutils-1.1.15 lm_sensors-2.9.2 parted-3.0 sdparm-1.07 util-linux-2.25.2 xfsprogs-3.1.8 autofs-4.1.4 curl-7.44.0 portmap-6.0.0 nfs-utils-1.3.2 libevent-2.0.20-stable libnfsidmap-0.25 libsoup-2.50.0 vsftpd-3.0.3 samba-3.6.12 netio126 ntp-4.2.8 lighttpd-1.4.15 wireless_tools.29 ZD1211LnxDrv_2_15_0_0 libnl-2.0 wpa_supplicant-0.7.3 ethtool-6 xupnpd-1.0 udpxy-1.0.23-0 glib-networking-2.45.1 openvpn-2.3.8 openssh-7.1p1

.PHONY: depsclean mostlyclean-local cdk-clean distclean-local list-clean
TAGS: Makefile.am $(shell echo make/*.mk)
	etags --language=makefile $^

tags: Makefile.am $(shell echo make/*.mk)
	gnuctags --language=makefile $^
Makefile-archive: $(top_srcdir)/rules-archive $(top_srcdir)/rules-archive.pl
	$(top_srcdir)/rules-archive.pl $(top_srcdir)/rules-archive > Makefile-archive

download: $(archivedir)/ccache-3.1.9.tar.gz $(archivedir)/squashfs3.0.tar.gz $(archivedir)/lzma442.tar.bz2 $(archivedir)/squashfs4.0.tar.gz $(archivedir)/lzma465.tar.bz2 $(archivedir)/cramfs-1.1.tar.gz $(archivedir)/mtd-utils-1.5.1.tar.bz2 $(archivedir)/ipkg-utils-050831.tar.gz $(archivedir)/pkg-config-0.28.tar.gz $(archivedir)/u-boot-1.3.1.tar.bz2 $(archivedir)/busybox-1.24.1.tar.bz2 $(archivedir)/lsb_3.2-20.tar.gz $(archivedir)/ipkg-0.99.163.tar.gz $(archivedir)/module-init-tools-3.16.tar.bz2 $(archivedir)/sysvinit_2.88dsf.orig.tar.gz $(archivedir)/freetype-2.6.tar.bz2 $(archivedir)/fontconfig-2.8.0.tar.gz $(archivedir)/fribidi-0.19.7.tar.bz2 $(archivedir)/giflib-4.1.6.tar.bz2 $(archivedir)/giflib-5.0.6.tar.bz2 $(archivedir)/libungif-4.1.4.tar.bz2 $(archivedir)/jpegsrc.v8d.tar.gz $(archivedir)/libjpeg-turbo-1.4.0.tar.gz $(archivedir)/libpng-1.2.50.tar.bz2 $(archivedir)/libpng-1.6.18.tar.gz $(archivedir)/tiff-4.0.3.tar.gz $(archivedir)/pixman-0.18.0.tar.gz $(archivedir)/alsa-lib-1.0.29.tar.bz2 $(archivedir)/alsa-utils-1.0.29.tar.bz2 $(archivedir)/flac-1.3.1.tar.xz $(archivedir)/a52dec-0.7.4.tar.gz $(archivedir)/libao-1.1.0.tar.gz $(archivedir)/libass-0.11.1.tar.gz $(archivedir)/libbluray-0.5.0.tar.bz2 $(archivedir)/libdvdcss-1.2.13.tar.bz2 $(archivedir)/libdvdnav-4.2.1.tar.xz $(archivedir)/libdvdread-4.9.9.tar.xz $(archivedir)/libid3tag-0.15.1b.tar.gz $(archivedir)/libmad-0.15.1b.tar.gz $(archivedir)/libmpeg2-0.5.1.tar.gz $(archivedir)/libogg-1.3.2.tar.gz $(archivedir)/libsamplerate-0.1.8.tar.gz $(archivedir)/libvorbis-1.3.4.tar.gz $(archivedir)/libvorbisidec_1.0.2+svn18153.orig.tar.gz $(archivedir)/libdca-0.0.5.tar.bz2 $(archivedir)/ncurses-5.9.tar.gz $(archivedir)/gmp-6.0.0a.tar.xz $(archivedir)/lua-5.2.3.tar.gz $(archivedir)/luaposix.git $(archivedir)/luacurl.git $(archivedir)/luaexpat-1.3.0.tar.gz $(archivedir)/howl-1.0.0.tar.gz $(archivedir)/zlib-1.2.8.tar.gz $(archivedir)/readline-6.2.tar.gz $(archivedir)/rtmpdump.git $(archivedir)/lirc-0.9.0.tar.gz $(archivedir)/libsigc++-1.2.7.tar.gz $(archivedir)/libsigc++-2.3.2.tar.xz $(archivedir)/glib-2.45.4.tar.xz $(archivedir)/libffi-3.2.1.tar.gz $(archivedir)/libiconv-1.14.tar.gz $(archivedir)/libmng-1.0.10.tar.bz2 $(archivedir)/lcms-1.17.tar.gz $(archivedir)/DirectFB-1.4.11.tar.gz $(archivedir)/DFB++-1.0.0.tar.gz $(archivedir)/webkitdfb_2010-11-18.tar.gz $(archivedir)/icu4c-4_4_1-src.tgz $(archivedir)/sqlite-3.6.0.tar.gz $(archivedir)/sqlite-autoconf-3080600.tar.gz $(archivedir)/enchant-1.5.0.tar.gz $(archivedir)/lite-0.9.0+git0.7982ccc.tar.bz2 $(archivedir)/cairo-1.8.10.tar.gz $(archivedir)/expat-2.1.0.tar.gz $(archivedir)/ffmpeg-2.6.3.tar.bz2 $(archivedir)/fdk-aac.git $(archivedir)/libcap-2.22.tar.bz2 $(archivedir)/BroFS1.2.tgz $(archivedir)/libdvbsi++-0.3.7.tar.bz2 $(archivedir)/libmodplug-0.8.8.4.tar.gz $(archivedir)/lzo-2.06.tar.gz $(archivedir)/yajl.git $(archivedir)/pcre-8.30.tar.bz2 $(archivedir)/libcdio-0.83.tar.gz $(archivedir)/jasper-1.900.1.zip $(archivedir)/mysql-5.1.40.tar.gz $(archivedir)/libmicrohttpd-0.9.19.tar.gz $(archivedir)/libexif-0.6.20.tar.gz $(archivedir)/minidlna-1.1.5.tar.gz $(archivedir)/djmount-0.71.tar.gz $(archivedir)/libupnp-1.6.17.tar.bz2 $(archivedir)/rarfs-0.1.0.tar.gz $(archivedir)/sshfs-fuse-2.4.tar.bz2 $(archivedir)/tinyxml_2_6_2.tar.gz $(archivedir)/taglib-1.8.tar.gz $(archivedir)/libnfs.git $(archivedir)/libxml2-2.8.0.tar.gz $(archivedir)/libxml2-2.9.0.tar.gz $(archivedir)/libxslt-1.1.28.tar.gz $(archivedir)/pugixml-1.6.tar.gz $(archivedir)/bzip2-1.0.6.tar.gz $(archivedir)/grep-2.5.1.tar.bz2 $(archivedir)/grep_2.5.1.ds2-6.diff.gz $(archivedir)/openrdate-1.1.2.tar.gz $(archivedir)/termcap-2.0.8.tar.gz $(archivedir)/mc-4.8.1.7.tar.bz2 $(archivedir)/console-data_1.03.orig.tar.gz $(archivedir)/nano-2.4.2.tar.gz $(archivedir)/rsync-2.6.9.tar.gz $(archivedir)/curlftpfs-0.9.2.tar.gz $(archivedir)/boost_1_53_0.tar.bz2 $(archivedir)/pngquant-1.1-src.tgz $(archivedir)/mplayer-export-snapshot.tar.bz2 $(archivedir)/opkg-0.2.0.tar.gz $(archivedir)/sysstat-11.1.2.tar.bz2 $(archivedir)/ImageMagick-6.7.7-7.tar.bz2 $(archivedir)/shairport.git $(archivedir)/wget-1.15.tar.gz $(archivedir)/avahi-0.6.31.tar.gz $(archivedir)/dbus-dbus-1.8.tar.gz $(archivedir)/libdaemon-0.14.tar.gz $(archivedir)/libplist-1.10.tar.gz $(archivedir)/Python-2.7.9.tar.xz $(archivedir)/gdata-2.0.18.tar.gz $(archivedir)/elementtree-1.2.6-20050316.tar.gz $(archivedir)/lxml-2.2.8.tgz $(archivedir)/libxmlccwrap-0.0.12.tar.gz $(archivedir)/setuptools-5.2.tar.gz $(archivedir)/Twisted-13.2.0.tar.bz2 $(archivedir)/Imaging-1.1.7.tar.gz $(archivedir)/pycrypto-2.5.tar.gz $(archivedir)/pyOpenSSL-0.13.1.tar.gz $(archivedir)/pyusb-1.0.0a3.tar.gz $(archivedir)/python-wifi-0.5.0.tar.bz2 $(archivedir)/Cheetah-2.4.4.tar.gz $(archivedir)/mechanize-0.2.5.tar.gz $(archivedir)/zope.interface-4.1.1.tar.gz $(archivedir)/six-1.9.0.tar.gz $(archivedir)/cffi-1.2.1.tar.gz $(archivedir)/enum34-1.0.4.tar.gz $(archivedir)/pyasn1-0.1.8.tar.gz $(archivedir)/pyasn1-modules-0.0.7.tar.gz $(archivedir)/pycparser-2.14.tar.gz $(archivedir)/cryptography-0.8.1.tar.gz $(archivedir)/requests-2.7.0.tar.gz $(archivedir)/futures-2.1.6.tar.gz $(archivedir)/singledispatch-3.4.0.3.tar.gz $(archivedir)/livestreamer.git $(archivedir)/livestreamersrv.git $(archivedir)/orc-0.4.24.tar.xz $(archivedir)/gmediarender-0.0.6.tar.bz2 $(archivedir)/gst-plugins-dvbmediasink.git $(archivedir)/gstreamer-1.6.1.tar.xz $(archivedir)/gst-plugins-base-1.6.1.tar.xz $(archivedir)/gst-plugins-good-1.6.1.tar.xz $(archivedir)/gst-plugins-bad-1.6.1.tar.xz $(archivedir)/gst-plugins-ugly-1.6.1.tar.xz $(archivedir)/gst-fluendo-mpegdemux-0.10.71.tar.gz $(archivedir)/gst-libav-1.6.1.tar.xz $(archivedir)/gst-plugin-subsink.git $(archivedir)/libtuxtxt.git $(archivedir)/enigma2-openpli-plugins-enigma2.git $(archivedir)/e2openplugin-OpenWebif.git $(archivedir)/hotplug-e2-helper.git $(archivedir)/libdreamdvd.git $(archivedir)/graphlcd-base-touchcol.git $(archivedir)/libusb-1.0.9.tar.bz2 $(archivedir)/libusb-compat-0.1.5.tar.bz2 $(archivedir)/libgd-2.1.0.tar.gz $(archivedir)/dpf-ax.svn $(archivedir)/openssl-0.9.8zf.tar.gz $(archivedir)/openssl-1.0.2d.tar.gz $(archivedir)/gnutls-3.4.3.tar.xz $(archivedir)/nettle-3.1.tar.gz $(archivedir)/dosfstools-3.0.16.tar.gz $(archivedir)/e2fsprogs-1.42.13.tar.gz $(archivedir)/fdisk-1.3.0a.tar.gz $(archivedir)/fuse-2.9.2.tar.gz $(archivedir)/hddtemp-0.3-beta15.tar.bz2 $(archivedir)/hdparm-9.43.tar.gz $(archivedir)/jfsutils-1.1.15.tar.gz $(archivedir)/lm_sensors-2.9.2.tar.gz $(archivedir)/sdparm-1.07.tgz $(archivedir)/parted-3.0.tar.gz $(archivedir)/util-linux-2.25.2.tar.gz $(archivedir)/xfsprogs-3.1.8.tar.gz $(archivedir)/autofs-4.1.4.tar.gz $(archivedir)/curl-7.44.0.tar.bz2 $(archivedir)/portmap_6.0.0.orig.tar.gz $(archivedir)/portmap_6.0.0-2.diff.gz  $(archivedir)/nfs-utils-1.3.2.tar.bz2 $(archivedir)/libevent-2.0.20-stable.tar.gz $(archivedir)/libnfsidmap-0.25.tar.gz $(archivedir)/libsoup-2.50.0.tar.xz $(archivedir)/vsftpd-3.0.3.tar.gz $(archivedir)/ntp-4.2.8.tar.gz $(archivedir)/samba-3.6.12.tar.gz $(archivedir)/netio126.zip $(archivedir)/lighttpd-1.4.15.tar.gz $(archivedir)/zd1211lnxdrv_2_15_0_0.tar.gz $(archivedir)/wireless_tools.29.tar.gz $(archivedir)/libnl-2.0.tar.gz $(archivedir)/wpa_supplicant-0.7.3.tar.gz $(archivedir)/ethtool-6.tar.gz $(archivedir)/xupnpd.git $(archivedir)/udpxy.1.0.23-0-prod.tar.gz $(archivedir)/glib-networking-2.45.1.tar.xz $(archivedir)/openvpn-2.3.8.tar.xz $(archivedir)/openssh-7.1p1.tar.gz

$(archivedir)/ccache-3.1.9.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://samba.org/ftp/ccache/ccache-3.1.9.tar.gz || \
	false )
	@touch $@

$(archivedir)/squashfs3.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://heanet.dl.sourceforge.net/sourceforge/squashfs/squashfs3.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/lzma442.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://heanet.dl.sourceforge.net/sourceforge/sevenzip/lzma442.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/squashfs4.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://heanet.dl.sourceforge.net/sourceforge/squashfs/squashfs4.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/lzma465.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://heanet.dl.sourceforge.net/sourceforge/sevenzip/lzma465.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/cramfs-1.1.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://heanet.dl.sourceforge.net/sourceforge/cramfs/cramfs-1.1.tar.gz || \
	false )
	@touch $@

$(archivedir)/mtd-utils-1.5.1.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.infradead.org/pub/mtd-utils/mtd-utils-1.5.1.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/ipkg-utils-050831.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.gwdg.de/linux/handhelds/packages/ipkg-utils/ipkg-utils-050831.tar.gz || \
	false )
	@touch $@

$(archivedir)/pkg-config-0.28.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://pkgconfig.freedesktop.org/releases/pkg-config-0.28.tar.gz || \
	false )
	@touch $@

$(archivedir)/u-boot-1.3.1.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.denx.de/pub/u-boot/u-boot-1.3.1.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/busybox-1.24.1.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.busybox.net/downloads/busybox-1.24.1.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/lsb_3.2-20.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://debian.sdinet.de/etch/sdinet/lsb/lsb_3.2-20.tar.gz || \
	false )
	@touch $@

$(archivedir)/ipkg-0.99.163.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.gwdg.de/linux/handhelds/packages/ipkg/ipkg-0.99.163.tar.gz || \
	false )
	@touch $@

$(archivedir)/module-init-tools-3.16.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.be.debian.org/pub/linux/utils/kernel/module-init-tools/module-init-tools-3.16.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/sysvinit_2.88dsf.orig.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.debian.org/debian/pool/main/s/sysvinit/sysvinit_2.88dsf.orig.tar.gz || \
	false )
	@touch $@

$(archivedir)/freetype-2.6.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://prdownloads.sourceforge.net/sourceforge/freetype/freetype-2.6.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/fontconfig-2.8.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.freedesktop.org/software/fontconfig/release/fontconfig-2.8.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/fribidi-0.19.7.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://fribidi.org/download/fribidi-0.19.7.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/giflib-4.1.6.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://heanet.dl.sourceforge.net/sourceforge/giflib/giflib-4.1.6.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/giflib-5.0.6.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.sourceforge.net/project/giflib/giflib-5.0.6.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/libungif-4.1.4.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://heanet.dl.sourceforge.net/sourceforge/giflib/libungif-4.1.4.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/jpegsrc.v8d.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.ijg.org/files/jpegsrc.v8d.tar.gz || \
	false )
	@touch $@

$(archivedir)/libjpeg-turbo-1.4.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sourceforge.net/projects/libjpeg-turbo/files/1.4.0/libjpeg-turbo-1.4.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/libpng-1.2.50.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sourceforge.net/projects/libpng/files/libpng12/1.2.50/libpng-1.2.50.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/libpng-1.6.18.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sourceforge.net/projects/libpng/files/libpng16/1.6.18/libpng-1.6.18.tar.gz || \
	false )
	@touch $@

$(archivedir)/tiff-4.0.3.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://download.osgeo.org/libtiff/tiff-4.0.3.tar.gz || \
	false )
	@touch $@

$(archivedir)/pixman-0.18.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://cairographics.org/releases/pixman-0.18.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/alsa-lib-1.0.29.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.alsa-project.org/pub/lib/alsa-lib-1.0.29.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/alsa-utils-1.0.29.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.alsa-project.org/pub/utils/alsa-utils-1.0.29.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/flac-1.3.1.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.xiph.org/releases/flac/flac-1.3.1.tar.xz || \
	false )
	@touch $@

$(archivedir)/a52dec-0.7.4.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://liba52.sourceforge.net/files/a52dec-0.7.4.tar.gz || \
	false )
	@touch $@

$(archivedir)/libao-1.1.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.xiph.org/releases/ao/libao-1.1.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/libass-0.11.1.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://github.com/libass/libass/releases/download/0.11.1/libass-0.11.1.tar.gz || \
	false )
	@touch $@

$(archivedir)/libbluray-0.5.0.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://download.videolan.org/pub/videolan/libbluray/0.5.0/libbluray-0.5.0.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/libdvdcss-1.2.13.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://download.videolan.org/pub/libdvdcss/1.2.13/libdvdcss-1.2.13.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/libdvdnav-4.2.1.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://dvdnav.mplayerhq.hu/releases/libdvdnav-4.2.1.tar.xz || \
	false )
	@touch $@

$(archivedir)/libdvdread-4.9.9.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://dvdnav.mplayerhq.hu/releases/libdvdread-4.9.9.tar.xz || \
	false )
	@touch $@

$(archivedir)/libid3tag-0.15.1b.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://download.sf.net/mad/libid3tag-0.15.1b.tar.gz || \
	false )
	@touch $@

$(archivedir)/libmad-0.15.1b.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://download.sf.net/mad/libmad-0.15.1b.tar.gz || \
	false )
	@touch $@

$(archivedir)/libmpeg2-0.5.1.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://libmpeg2.sourceforge.net/files/libmpeg2-0.5.1.tar.gz || \
	false )
	@touch $@

$(archivedir)/libogg-1.3.2.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.xiph.org/releases/ogg/libogg-1.3.2.tar.gz || \
	false )
	@touch $@

$(archivedir)/libsamplerate-0.1.8.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.mega-nerd.com/SRC/libsamplerate-0.1.8.tar.gz || \
	false )
	@touch $@

$(archivedir)/libvorbis-1.3.4.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.xiph.org/releases/vorbis/libvorbis-1.3.4.tar.gz || \
	false )
	@touch $@

$(archivedir)/libvorbisidec_1.0.2+svn18153.orig.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.debian.org/debian/pool/main/libv/libvorbisidec/libvorbisidec_1.0.2+svn18153.orig.tar.gz || \
	false )
	@touch $@

$(archivedir)/libdca-0.0.5.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://download.videolan.org/pub/videolan/libdca/0.0.5//libdca-0.0.5.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/ncurses-5.9.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.gnu.org/gnu/ncurses/ncurses-5.9.tar.gz || \
	false )
	@touch $@

$(archivedir)/gmp-6.0.0a.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://gmplib.org/download/gmp//gmp-6.0.0a.tar.xz || \
	false )
	@touch $@

$(archivedir)/lua-5.2.3.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.lua.org/ftp/lua-5.2.3.tar.gz || \
	false )
	@touch $@

$(archivedir)/luaposix.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/luaposix/luaposix.git $(archivedir)/luaposix.git && (cd $(archivedir)/luaposix.git; git checkout release-v31; cd -) || \
	false )
	@touch $@

$(archivedir)/luacurl.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/Lua-cURL/Lua-cURLv3.git $(archivedir)/luacurl.git || \
	false )
	@touch $@

$(archivedir)/luaexpat-1.3.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://matthewwild.co.uk/projects/luaexpat/luaexpat-1.3.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/howl-1.0.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.sourceforge.net/project/howl/howl/1.0.0/howl-1.0.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/zlib-1.2.8.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://zlib.net/zlib-1.2.8.tar.gz || \
	false )
	@touch $@

$(archivedir)/readline-6.2.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.gnu.org/gnu/readline/readline-6.2.tar.gz || \
	false )
	@touch $@

$(archivedir)/rtmpdump.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/oe-alliance/rtmpdump $(archivedir)/rtmpdump.git && (cd $(archivedir)/rtmpdump.git; git checkout 2.4; cd -) || \
	false )
	@touch $@

$(archivedir)/lirc-0.9.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://prdownloads.sourceforge.net/lirc/lirc-0.9.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/libsigc++-1.2.7.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.gnome.org/pub/GNOME/sources/libsigc++/1.2/libsigc++-1.2.7.tar.gz || \
	false )
	@touch $@

$(archivedir)/libsigc++-2.3.2.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.gnome.org/pub/GNOME/sources/libsigc++/2.3/libsigc++-2.3.2.tar.xz || \
	false )
	@touch $@

$(archivedir)/glib-2.45.4.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.acc.umu.se/pub/GNOME/sources/glib/2.45/glib-2.45.4.tar.xz || \
	false )
	@touch $@

$(archivedir)/libffi-3.2.1.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://sourceware.org/pub/libffi/libffi-3.2.1.tar.gz || \
	false )
	@touch $@

$(archivedir)/libiconv-1.14.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.gnu.org/gnu/libiconv/libiconv-1.14.tar.gz || \
	false )
	@touch $@

$(archivedir)/libmng-1.0.10.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://dfn.dl.sourceforge.net/sourceforge/libmng/libmng-1.0.10.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/lcms-1.17.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sourceforge.net/projects/lcms/files/lcms/1.17/lcms-1.17.tar.gz || \
	false )
	@touch $@

$(archivedir)/DirectFB-1.4.11.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://directfb.org/downloads/Core/DirectFB-1.4/DirectFB-1.4.11.tar.gz || \
	false )
	@touch $@

$(archivedir)/DFB++-1.0.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.directfb.org/downloads/Extras/DFB++-1.0.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/webkitdfb_2010-11-18.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.duckbox.info/files/packages/webkitdfb_2010-11-18.tar.gz || \
	false )
	@touch $@

$(archivedir)/icu4c-4_4_1-src.tgz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://download.icu-project.org/files/icu4c/4.4.1/icu4c-4_4_1-src.tgz || \
	false )
	@touch $@

$(archivedir)/sqlite-3.6.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.duckbox.info/files/packages/sqlite-3.6.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/sqlite-autoconf-3080600.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.sqlite.org/2014/sqlite-autoconf-3080600.tar.gz || \
	false )
	@touch $@

$(archivedir)/enchant-1.5.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.abisource.com/downloads/enchant/1.5.0/enchant-1.5.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/lite-0.9.0+git0.7982ccc.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.duckbox.info/files/packages/lite-0.9.0+git0.7982ccc.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/cairo-1.8.10.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://cairographics.org/releases/cairo-1.8.10.tar.gz || \
	false )
	@touch $@

$(archivedir)/expat-2.1.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://prdownloads.sourceforge.net/sourceforge/expat/expat-2.1.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/ffmpeg-2.6.3.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ffmpeg.org/releases/ffmpeg-2.6.3.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/fdk-aac.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/mstorsjo/fdk-aac.git $(archivedir)/fdk-aac.git || \
	false )
	@touch $@

$(archivedir)/libcap-2.22.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://mirror.linux.org.au/linux/libs/security/linux-privs/libcap2/libcap-2.22.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/BroFS1.2.tgz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.avalpa.com/assets/freesoft/other/BroFS1.2.tgz || \
	false )
	@touch $@

$(archivedir)/libdvbsi++-0.3.7.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.saftware.de/libdvbsi++/libdvbsi++-0.3.7.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/libmodplug-0.8.8.4.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.sourceforge.net/project/modplug-xmms/libmodplug/0.8.8.4/libmodplug-0.8.8.4.tar.gz || \
	false )
	@touch $@

$(archivedir)/lzo-2.06.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.oberhumer.com/opensource/lzo/download/lzo-2.06.tar.gz || \
	false )
	@touch $@

$(archivedir)/yajl.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/lloyd/yajl $(archivedir)/yajl.git && (cd $(archivedir)/yajl.git; git checkout f4b2b1af87483caac60e50e5352fc783d9b2de2d; cd -) || \
	false )
	@touch $@

$(archivedir)/pcre-8.30.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sourceforge.net/projects/pcre/files/pcre/8.30/pcre-8.30.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/libcdio-0.83.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.gnu.org/gnu/libcdio/libcdio-0.83.tar.gz || \
	false )
	@touch $@

$(archivedir)/jasper-1.900.1.zip:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.ece.uvic.ca/~frodo/jasper/software/jasper-1.900.1.zip || \
	false )
	@touch $@

$(archivedir)/mysql-5.1.40.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.mysql.com/archives/mysql-5.1/mysql-5.1.40.tar.gz || \
	false )
	@touch $@

$(archivedir)/libmicrohttpd-0.9.19.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.halifax.rwth-aachen.de/gnu/libmicrohttpd/libmicrohttpd-0.9.19.tar.gz || \
	false )
	@touch $@

$(archivedir)/libexif-0.6.20.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sourceforge.net/projects/libexif/files/libexif/0.6.20/libexif-0.6.20.tar.gz || \
	false )
	@touch $@

$(archivedir)/minidlna-1.1.5.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sourceforge.net/projects/minidlna/files/minidlna/1.1.5/minidlna-1.1.5.tar.gz || \
	false )
	@touch $@

$(archivedir)/djmount-0.71.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sourceforge.net/projects/djmount/files/djmount/0.71/djmount-0.71.tar.gz || \
	false )
	@touch $@

$(archivedir)/libupnp-1.6.17.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sourceforge.net/projects/pupnp/files/latest/download/libupnp-1.6.17.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/rarfs-0.1.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.sourceforge.net/project/rarfs/rarfs/0.1.0/rarfs-0.1.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/sshfs-fuse-2.4.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://fossies.org/linux/misc/sshfs-fuse-2.4.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/tinyxml_2_6_2.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ignum.dl.sourceforge.net/project/tinyxml/tinyxml/2.6.2/tinyxml_2_6_2.tar.gz || \
	false )
	@touch $@

$(archivedir)/taglib-1.8.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://github.com/downloads/taglib/taglib/taglib-1.8.tar.gz || \
	false )
	@touch $@

$(archivedir)/libnfs.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/sahlberg/libnfs.git $(archivedir)/libnfs.git || \
	false )
	@touch $@

$(archivedir)/libxml2-2.8.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://xmlsoft.org/sources/libxml2-2.8.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/libxml2-2.9.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://xmlsoft.org/sources/libxml2-2.9.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/libxslt-1.1.28.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://xmlsoft.org/sources/libxslt-1.1.28.tar.gz || \
	false )
	@touch $@

$(archivedir)/pugixml-1.6.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://github.com/zeux/pugixml/releases/download/v1.6/pugixml-1.6.tar.gz || \
	false )
	@touch $@

$(archivedir)/bzip2-1.0.6.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz || \
	false )
	@touch $@

$(archivedir)/grep-2.5.1.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://mirrors.kernel.org/gnu/grep/grep-2.5.1.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/grep_2.5.1.ds2-6.diff.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://64studio.hivelocity.net/apt/pool/main/g/grep/grep_2.5.1.ds2-6.diff.gz || \
	false )
	@touch $@

$(archivedir)/openrdate-1.1.2.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://prdownloads.sourceforge.net/sourceforge/openrdate/openrdate-1.1.2.tar.gz || \
	false )
	@touch $@

$(archivedir)/termcap-2.0.8.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://fresh.t-systems-sfr.com/linux/src/termcap-2.0.8.tar.gz || \
	false )
	@touch $@

$(archivedir)/mc-4.8.1.7.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.midnight-commander.org/downloads/mc-4.8.1.7.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/console-data_1.03.orig.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.debian.org/debian/pool/main/c/console-data/console-data_1.03.orig.tar.gz || \
	false )
	@touch $@

$(archivedir)/nano-2.4.2.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.nano-editor.org/dist/v2.4/nano-2.4.2.tar.gz || \
	false )
	@touch $@

$(archivedir)/rsync-2.6.9.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://samba.anu.edu.au/ftp/rsync/rsync-2.6.9.tar.gz || \
	false )
	@touch $@

$(archivedir)/curlftpfs-0.9.2.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sourceforge.net/projects/curlftpfs/files/latest/download/curlftpfs-0.9.2.tar.gz || \
	false )
	@touch $@

$(archivedir)/boost_1_53_0.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://prdownloads.sourceforge.net/sourceforge/boost/boost_1_53_0.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/pngquant-1.1-src.tgz:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.simplesystems.org/pub/libpng/png/applications/pngquant/pngquant-1.1-src.tgz || \
	false )
	@touch $@

$(archivedir)/mplayer-export-snapshot.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.mplayerhq.hu/MPlayer/releases/mplayer-export-snapshot.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/opkg-0.2.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://opkg.googlecode.com/files/opkg-0.2.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/sysstat-11.1.2.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://pagesperso-orange.fr/sebastien.godard/sysstat-11.1.2.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/ImageMagick-6.7.7-7.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.fifi.org/pub/ImageMagick/ImageMagick-6.7.7-7.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/shairport.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/abrasive/shairport $(archivedir)/shairport.git && (cd $(archivedir)/shairport.git; git checkout 1.0-dev; cd -) || \
	false )
	@touch $@

$(archivedir)/wget-1.15.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.gnu.org/gnu/wget/wget-1.15.tar.gz || \
	false )
	@touch $@

$(archivedir)/avahi-0.6.31.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.avahi.org/download/avahi-0.6.31.tar.gz || \
	false )
	@touch $@

$(archivedir)/dbus-dbus-1.8.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://cgit.freedesktop.org/dbus/dbus/snapshot/dbus-dbus-1.8.tar.gz || \
	false )
	@touch $@

$(archivedir)/libdaemon-0.14.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://0pointer.de/lennart/projects/libdaemon/libdaemon-0.14.tar.gz || \
	false )
	@touch $@

$(archivedir)/libplist-1.10.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://cgit.sukimashita.com/libplist.git/snapshot/libplist-1.10.tar.gz || \
	false )
	@touch $@

$(archivedir)/Python-2.7.9.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.python.org/ftp/python/2.7.9/Python-2.7.9.tar.xz || \
	false )
	@touch $@

$(archivedir)/gdata-2.0.18.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://gdata-python-client.googlecode.com/files/gdata-2.0.18.tar.gz || \
	false )
	@touch $@

$(archivedir)/elementtree-1.2.6-20050316.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://effbot.org/media/downloads/elementtree-1.2.6-20050316.tar.gz || \
	false )
	@touch $@

$(archivedir)/lxml-2.2.8.tgz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://launchpad.net/lxml/2.2/2.2.8/+download/lxml-2.2.8.tgz || \
	false )
	@touch $@

$(archivedir)/libxmlccwrap-0.0.12.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.ant.uni-bremen.de/whomes/rinas/libxmlccwrap/download/libxmlccwrap-0.0.12.tar.gz || \
	false )
	@touch $@

$(archivedir)/setuptools-5.2.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://pypi.python.org/packages/source/s/setuptools/setuptools-5.2.tar.gz || \
	false )
	@touch $@

$(archivedir)/Twisted-13.2.0.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://twistedmatrix.com/Releases/Twisted/13.2/Twisted-13.2.0.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/Imaging-1.1.7.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://effbot.org/downloads/Imaging-1.1.7.tar.gz || \
	false )
	@touch $@

$(archivedir)/pycrypto-2.5.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://pypi.python.org/packages/source/p/pycrypto/pycrypto-2.5.tar.gz || \
	false )
	@touch $@

$(archivedir)/pyOpenSSL-0.13.1.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://pypi.python.org/packages/source/p/pyOpenSSL/pyOpenSSL-0.13.1.tar.gz || \
	false )
	@touch $@

$(archivedir)/pyusb-1.0.0a3.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://pypi.python.org/packages/source/p/pyusb/pyusb-1.0.0a3.tar.gz || \
	false )
	@touch $@

$(archivedir)/python-wifi-0.5.0.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://freefr.dl.sourceforge.net/project/pythonwifi.berlios/python-wifi-0.5.0.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/Cheetah-2.4.4.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://pypi.python.org/packages/source/C/Cheetah/Cheetah-2.4.4.tar.gz || \
	false )
	@touch $@

$(archivedir)/mechanize-0.2.5.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://pypi.python.org/packages/source/m/mechanize/mechanize-0.2.5.tar.gz || \
	false )
	@touch $@

$(archivedir)/zope.interface-4.1.1.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://pypi.python.org/packages/source/z/zope.interface/zope.interface-4.1.1.tar.gz || \
	false )
	@touch $@

$(archivedir)/six-1.9.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://pypi.python.org/packages/source/s/six/six-1.9.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/cffi-1.2.1.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://pypi.python.org/packages/source/c/cffi/cffi-1.2.1.tar.gz || \
	false )
	@touch $@

$(archivedir)/enum34-1.0.4.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://pypi.python.org/packages/source/e/enum34/enum34-1.0.4.tar.gz || \
	false )
	@touch $@

$(archivedir)/pyasn1-0.1.8.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://pypi.python.org/packages/source/p/pyasn1/pyasn1-0.1.8.tar.gz || \
	false )
	@touch $@

$(archivedir)/pyasn1-modules-0.0.7.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://pypi.python.org/packages/source/p/pyasn1-modules/pyasn1-modules-0.0.7.tar.gz || \
	false )
	@touch $@

$(archivedir)/pycparser-2.14.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://pypi.python.org/packages/source/p/pycparser/pycparser-2.14.tar.gz || \
	false )
	@touch $@

$(archivedir)/cryptography-0.8.1.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://pypi.python.org/packages/source/c/cryptography/cryptography-0.8.1.tar.gz || \
	false )
	@touch $@

$(archivedir)/requests-2.7.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://pypi.python.org/packages/source/r/requests/requests-2.7.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/futures-2.1.6.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://pypi.python.org/packages/source/f/futures/futures-2.1.6.tar.gz || \
	false )
	@touch $@

$(archivedir)/singledispatch-3.4.0.3.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://pypi.python.org/packages/source/s/singledispatch/singledispatch-3.4.0.3.tar.gz || \
	false )
	@touch $@

$(archivedir)/livestreamer.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/chrippa/livestreamer $(archivedir)/livestreamer.git || \
	false )
	@touch $@

$(archivedir)/livestreamersrv.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/athoik/livestreamersrv $(archivedir)/livestreamersrv.git || \
	false )
	@touch $@

$(archivedir)/orc-0.4.24.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://gstreamer.freedesktop.org/src/orc/orc-0.4.24.tar.xz || \
	false )
	@touch $@

$(archivedir)/gmediarender-0.0.6.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://savannah.nongnu.org/download/gmrender/gmediarender-0.0.6.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/gst-plugins-dvbmediasink.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/christophecvr/gstreamer1.0-plugin-multibox-dvbmediasink.git $(archivedir)/gst-plugins-dvbmediasink.git || \
	false )
	@touch $@

$(archivedir)/gstreamer-1.6.1.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://gstreamer.freedesktop.org/src/gstreamer/gstreamer-1.6.1.tar.xz || \
	false )
	@touch $@

$(archivedir)/gst-plugins-base-1.6.1.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://gstreamer.freedesktop.org/src/gst-plugins-base/gst-plugins-base-1.6.1.tar.xz || \
	false )
	@touch $@

$(archivedir)/gst-plugins-good-1.6.1.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://gstreamer.freedesktop.org/src/gst-plugins-good/gst-plugins-good-1.6.1.tar.xz || \
	false )
	@touch $@

$(archivedir)/gst-plugins-bad-1.6.1.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://gstreamer.freedesktop.org/src/gst-plugins-bad/gst-plugins-bad-1.6.1.tar.xz || \
	false )
	@touch $@

$(archivedir)/gst-plugins-ugly-1.6.1.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://gstreamer.freedesktop.org/src/gst-plugins-ugly/gst-plugins-ugly-1.6.1.tar.xz || \
	false )
	@touch $@

$(archivedir)/gst-fluendo-mpegdemux-0.10.71.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://core.fluendo.com/gstreamer/src/gst-fluendo-mpegdemux/gst-fluendo-mpegdemux-0.10.71.tar.gz || \
	false )
	@touch $@

$(archivedir)/gst-libav-1.6.1.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://gstreamer.freedesktop.org/src/gst-libav/gst-libav-1.6.1.tar.xz || \
	false )
	@touch $@

$(archivedir)/gst-plugin-subsink.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/christophecvr/gstreamer1.0-plugin-subsink.git $(archivedir)/gst-plugin-subsink.git || \
	false )
	@touch $@

$(archivedir)/libtuxtxt.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/OpenPLi/tuxtxt.git $(archivedir)/libtuxtxt.git || \
	false )
	@touch $@

$(archivedir)/enigma2-openpli-plugins-enigma2.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/OpenPLi/enigma2-plugins.git $(archivedir)/enigma2-openpli-plugins-enigma2.git || \
	false )
	@touch $@

$(archivedir)/e2openplugin-OpenWebif.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/HDMU/e2openplugin-OpenWebif $(archivedir)/e2openplugin-OpenWebif.git || \
	false )
	@touch $@

$(archivedir)/hotplug-e2-helper.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/OpenPLi/hotplug-e2-helper.git $(archivedir)/hotplug-e2-helper.git || \
	false )
	@touch $@

$(archivedir)/libdreamdvd.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/mirakels/libdreamdvd $(archivedir)/libdreamdvd.git || \
	false )
	@touch $@

$(archivedir)/graphlcd-base-touchcol.git:
	false || mkdir -p $(archivedir) && ( \
	git clone git://projects.vdr-developer.org/graphlcd-base.git $(archivedir)/graphlcd-base-touchcol.git && (cd $(archivedir)/graphlcd-base-touchcol.git; git checkout touchcol; cd -) || \
	false )
	@touch $@

$(archivedir)/libusb-1.0.9.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.sourceforge.net/project/libusb/libusb-1.0/libusb-1.0.9/libusb-1.0.9.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/libusb-compat-0.1.5.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.sourceforge.net/project/libusb/libusb-compat-0.1/libusb-compat-0.1.5/libusb-compat-0.1.5.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/libgd-2.1.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://bitbucket.org/libgd/gd-libgd/downloads/libgd-2.1.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/dpf-ax.svn:
	false || mkdir -p $(archivedir) && ( \
	svn checkout svn://svn.code.sf.net/p/dpf-ax/code/trunk $(archivedir)/dpf-ax.svn || \
	false )
	@touch $@

$(archivedir)/openssl-0.9.8zf.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.openssl.org/source/openssl-0.9.8zf.tar.gz || \
	false )
	@touch $@

$(archivedir)/openssl-1.0.2d.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.openssl.org/source/openssl-1.0.2d.tar.gz || \
	false )
	@touch $@

$(archivedir)/gnutls-3.4.3.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -c --passive-ftp -P $(archivedir) ftp://ftp.gnutls.org/gcrypt/gnutls/v3.4/gnutls-3.4.3.tar.xz || \
	false )
	@touch $@

$(archivedir)/nettle-3.1.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://ftp.gnu.org/gnu/nettle/nettle-3.1.tar.gz || \
	false )
	@touch $@

$(archivedir)/dosfstools-3.0.16.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.daniel-baumann.ch/files/software/dosfstools/dosfstools-3.0.16.tar.gz || \
	false )
	@touch $@

$(archivedir)/e2fsprogs-1.42.13.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sourceforge.net/projects/e2fsprogs/files/e2fsprogs/v1.42.13/e2fsprogs-1.42.13.tar.gz || \
	false )
	@touch $@

$(archivedir)/fdisk-1.3.0a.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.gnu.org/gnu/fdisk/fdisk-1.3.0a.tar.gz || \
	false )
	@touch $@

$(archivedir)/fuse-2.9.2.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://dfn.dl.sourceforge.net/sourceforge/fuse/fuse-2.9.2.tar.gz || \
	false )
	@touch $@

$(archivedir)/hddtemp-0.3-beta15.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://savannah.c3sl.ufpr.br/hddtemp/hddtemp-0.3-beta15.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/hdparm-9.43.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://prdownloads.sourceforge.net/sourceforge/hdparm/hdparm-9.43.tar.gz || \
	false )
	@touch $@

$(archivedir)/jfsutils-1.1.15.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://jfs.sourceforge.net/project/pub/jfsutils-1.1.15.tar.gz || \
	false )
	@touch $@

$(archivedir)/lm_sensors-2.9.2.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://dl.lm-sensors.org/lm-sensors/releases/lm_sensors-2.9.2.tar.gz || \
	false )
	@touch $@

$(archivedir)/sdparm-1.07.tgz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://sg.danny.cz/sg/p/sdparm-1.07.tgz || \
	false )
	@touch $@

$(archivedir)/parted-3.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.gnu.org/pub/gnu/parted/parted-3.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/util-linux-2.25.2.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.kernel.org/pub/linux/utils/util-linux/v2.25/util-linux-2.25.2.tar.gz || \
	false )
	@touch $@

$(archivedir)/xfsprogs-3.1.8.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.gwdg.de/pub/linux/misc/xfs/xfs/cmd_tars/xfsprogs-3.1.8.tar.gz || \
	false )
	@touch $@

$(archivedir)/autofs-4.1.4.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://kernel.org/pub/linux/daemons/autofs/v4/autofs-4.1.4.tar.gz || \
	false )
	@touch $@

$(archivedir)/curl-7.44.0.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://curl.haxx.se/download/curl-7.44.0.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/portmap_6.0.0.orig.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.de.debian.org/debian/pool/main/p/portmap/portmap_6.0.0.orig.tar.gz || \
	false )
	@touch $@

$(archivedir)/portmap_6.0.0-2.diff.gz :
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://debian.osuosl.org/debian/pool/main/p/portmap/portmap_6.0.0-2.diff.gz  || \
	false )
	@touch $@

$(archivedir)/nfs-utils-1.3.2.tar.bz2:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.sourceforge.net/project/nfs/nfs-utils/1.3.2/nfs-utils-1.3.2.tar.bz2 || \
	false )
	@touch $@

$(archivedir)/libevent-2.0.20-stable.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.sourceforge.net/project/levent/libevent/libevent-2.0/libevent-2.0.20-stable.tar.gz || \
	false )
	@touch $@

$(archivedir)/libnfsidmap-0.25.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.citi.umich.edu/projects/nfsv4/linux/libnfsidmap/libnfsidmap-0.25.tar.gz || \
	false )
	@touch $@

$(archivedir)/libsoup-2.50.0.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://download.gnome.org/sources/libsoup/2.50/libsoup-2.50.0.tar.xz || \
	false )
	@touch $@

$(archivedir)/vsftpd-3.0.3.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) https://security.appspot.com/downloads/vsftpd-3.0.3.tar.gz || \
	false )
	@touch $@

$(archivedir)/ntp-4.2.8.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.eecis.udel.edu/~ntp/ntp_spool/ntp4/ntp-4.2/ntp-4.2.8.tar.gz || \
	false )
	@touch $@

$(archivedir)/samba-3.6.12.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.samba.org/samba/ftp/stable/samba-3.6.12.tar.gz || \
	false )
	@touch $@

$(archivedir)/netio126.zip:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://bnsmb.de/files/public/windows/netio126.zip || \
	false )
	@touch $@

$(archivedir)/lighttpd-1.4.15.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.lighttpd.net/download/lighttpd-1.4.15.tar.gz || \
	false )
	@touch $@

$(archivedir)/zd1211lnxdrv_2_15_0_0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.lutec.eu/treiber/zd1211lnxdrv_2_15_0_0.tar.gz || \
	false )
	@touch $@

$(archivedir)/wireless_tools.29.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/wireless_tools.29.tar.gz || \
	false )
	@touch $@

$(archivedir)/libnl-2.0.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.carisma.slowglass.com/~tgr/libnl/files/libnl-2.0.tar.gz || \
	false )
	@touch $@

$(archivedir)/wpa_supplicant-0.7.3.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://hostap.epitest.fi/releases/wpa_supplicant-0.7.3.tar.gz || \
	false )
	@touch $@

$(archivedir)/ethtool-6.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://downloads.openwrt.org/sources/ethtool-6.tar.gz || \
	false )
	@touch $@

$(archivedir)/xupnpd.git:
	false || mkdir -p $(archivedir) && ( \
	git clone https://github.com/clark15b/xupnpd $(archivedir)/xupnpd.git || \
	false )
	@touch $@

$(archivedir)/udpxy.1.0.23-0-prod.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://www.udpxy.com/download/1_23/udpxy.1.0.23-0-prod.tar.gz || \
	false )
	@touch $@

$(archivedir)/glib-networking-2.45.1.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://ftp.acc.umu.se/pub/GNOME/sources/glib-networking/2.45/glib-networking-2.45.1.tar.xz || \
	false )
	@touch $@

$(archivedir)/openvpn-2.3.8.tar.xz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://swupdate.openvpn.org/community/releases/openvpn-2.3.8.tar.xz || \
	false )
	@touch $@

$(archivedir)/openssh-7.1p1.tar.gz:
	false || mkdir -p $(archivedir) && ( \
	wget -t 2 -T 10 -c -P $(archivedir) http://artfiles.org/openbsd/OpenSSH/portable/openssh-7.1p1.tar.gz || \
	false )
	@touch $@



#
# release_common_utils
#
release_enigma2_common_utils:
#	remove the slink to busybox
	rm -f $(prefix)/release/sbin/halt
	cp -f $(targetprefix)/sbin/halt $(prefix)/release/sbin/
	cp -f $(targetprefix)/etc/init.d/umountfs $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/sendsigs $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/reboot $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/rc $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/network $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/networking $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/mountvirtfs $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/mountall $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/hostname $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/vsftpd $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/bootclean.sh $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/getfb.awk $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/makedev $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/udhcpc $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/autofs $(prefix)/release/etc/init.d/
	mkdir -p $(prefix)/release/etc/rc.d/rc0.d
	ln -s ../init.d $(prefix)/release/etc/rc.d
	ln -fs halt $(prefix)/release/sbin/reboot
	ln -fs halt $(prefix)/release/sbin/poweroff
	ln -s ../init.d/sendsigs $(prefix)/release/etc/rc.d/rc0.d/S20sendsigs
	ln -s ../init.d/umountfs $(prefix)/release/etc/rc.d/rc0.d/S40umountfs
	ln -s ../init.d/halt $(prefix)/release/etc/rc.d/rc0.d/S90halt
	mkdir -p $(prefix)/release/etc/rc.d/rc6.d
	ln -s ../init.d/sendsigs $(prefix)/release/etc/rc.d/rc6.d/S20sendsigs
	ln -s ../init.d/umountfs $(prefix)/release/etc/rc.d/rc6.d/S40umountfs
	ln -s ../init.d/reboot $(prefix)/release/etc/rc.d/rc6.d/S90reboot

#
# release_cube_common
#
release_enigma2_cube_common:
	cp $(buildprefix)/root/release/halt_cuberevo $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(buildprefix)/root/release/reboot_cuberevo $(prefix)/release/etc/init.d/reboot
	chmod 777 $(prefix)/release/etc/init.d/reboot
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/bin/eeprom $(prefix)/release/bin
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox/micom.ko $(prefix)/release/lib/modules/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx21143}.fw
	rm -f $(prefix)/release/bin/tffpctl
	rm -f $(prefix)/release/bin/vfdctl
	rm -f $(prefix)/release/bin/tfd2mtd

#
# release_cube_common_tuner
#
release_enigma2_cube_common_tuner:
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/multituner/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/media/dvb/frontends/dvb-pll.ko $(prefix)/release/lib/modules/

#
# release_cuberevo_9500hd
#
release_enigma2_cuberevo_9500hd: release_enigma2_common_utils release_enigma2_cube_common release_enigma2_cube_common_tuner
	echo "cuberevo-9500hd" > $(prefix)/release/etc/hostname

#
# release_cuberevo_2000hd
#
release_enigma2_cuberevo_2000hd: release_enigma2_common_utils release_enigma2_cube_common release_enigma2_cube_common_tuner
	echo "cuberevo-2000hd" > $(prefix)/release/etc/hostname

#
# release_cuberevo_250hd
#
release_enigma2_cuberevo_250hd: release_enigma2_common_utils release_enigma2_cube_common release_enigma2_cube_common_tuner
	echo "cuberevo-250hd" > $(prefix)/release/etc/hostname

#
# release_cuberevo_mini_fta
#
release_enigma2_cuberevo_mini_fta: release_enigma2_common_utils release_enigma2_cube_common release_enigma2_cube_common_tuner
	echo "cuberevo-mini-fta" > $(prefix)/release/etc/hostname

#
# release_cuberevo_mini2
#
release_enigma2_cuberevo_mini2: release_enigma2_common_utils release_enigma2_cube_common release_enigma2_cube_common_tuner
	echo "cuberevo-mini2" > $(prefix)/release/etc/hostname

#
# release_cuberevo_mini
#
release_enigma2_cuberevo_mini: release_enigma2_common_utils release_enigma2_cube_common release_enigma2_cube_common_tuner
	echo "cuberevo-mini" > $(prefix)/release/etc/hostname

#
# release_cuberevo
#
release_enigma2_cuberevo: release_enigma2_common_utils release_enigma2_cube_common release_enigma2_cube_common_tuner
	echo "cuberevo" > $(prefix)/release/etc/hostname

#
# release_common_ipbox
#
release_enigma2_common_ipbox:
	cp $(buildprefix)/root/release/halt_ipbox $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/siinfo/siinfo.ko $(prefix)/release/lib/modules/
	cp -f $(buildprefix)/root/release/fstab_ipbox $(prefix)/release/etc/fstab
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	cp -dp $(buildprefix)/root/release/lircd_ipbox.conf $(prefix)/release/etc/lircd.conf
	cp -p $(buildprefix)/root/release/lircd_ipbox $(prefix)/release/usr/bin/lircd
	mkdir -p $(prefix)/release/var/run/lirc
	rm -f $(prefix)/release/lib/firmware/*
	rm -f $(prefix)/release/lib/modules/boxtype.ko
	rm -f $(prefix)/release/lib/modules/bpamem.ko
	rm -f $(prefix)/release/lib/modules/lzo*.ko
	rm -f $(prefix)/release/lib/modules/ramzswap.ko
	rm -f $(prefix)/release/lib/modules/simu_button.ko
	rm -f $(prefix)/release/lib/modules/stmvbi.ko
	rm -f $(prefix)/release/lib/modules/stmvout.ko
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/etc/network/interfaces
	echo "config.usage.hdd_standby=0" >> $(prefix)/release/etc/enigma2/settings

#
# release_ipbox9900
#
release_enigma2_ipbox9900: release_enigma2_common_utils release_enigma2_common_ipbox
	echo "ipbox9900" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox99xx/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/rmu/rmu.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/ipbox99xx_fan/ipbox_fan.ko $(prefix)/release/lib/modules/
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ipbox.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml
	cp -p $(buildprefix)/root/release/tvmode_ipbox $(prefix)/release/usr/bin/tvmode

#
# release_ipbox99
#
release_enigma2_ipbox99: release_enigma2_common_utils release_enigma2_common_ipbox
	echo "ipbox99" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox99xx/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/ipbox99xx_fan/ipbox_fan.ko $(prefix)/release/lib/modules/
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ipbox.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml
	cp -p $(buildprefix)/root/release/tvmode_ipbox $(prefix)/release/usr/bin/tvmode

#
# release_ipbox55
#
release_enigma2_ipbox55: release_enigma2_common_utils release_enigma2_common_ipbox
	echo "ipbox55" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox55/front.ko $(prefix)/release/lib/modules/
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ipbox.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml
	cp -p $(buildprefix)/root/release/tvmode_ipbox55 $(prefix)/release/usr/bin/tvmode

#
# release_ufs910
#
release_enigma2_ufs910: release_enigma2_common_utils
	echo "ufs910" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/vfd/vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,stv6306}.fw
	mv $(prefix)/release/lib/firmware/dvb-fe-cx21143.fw $(prefix)/release/lib/firmware/dvb-fe-cx24116.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm $(prefix)/release/lib/firmware/component_7111_mb618.fw
	cp -dp $(buildprefix)/root/release/lircd_ufs910.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	mkdir -p $(prefix)/release/var/run/lirc
	rm -f $(prefix)/release/bin/vdstandby
	rm -f $(prefix)/release/bin/eeprom
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs910.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_ufs912
#
release_enigma2_ufs912: release_enigma2_common_utils
	echo "ufs912" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/boot/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs912.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_ufs913
#
release_enigma2_ufs913: release_enigma2_common_utils
	echo "ufs913" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/multituner/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/boot/audio.elf
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs912.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_ufs922
#
release_enigma2_ufs922: release_enigma2_common_utils
	echo "ufs922" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/ufs922_fan/fan_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs910.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_ufc960
#
release_enigma2_ufc960: release_enigma2_common_utils
	echo "ufc960" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs910.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_spark
#
release_enigma2_spark: release_enigma2_common_utils
	echo "spark" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_spark $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom_spark/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/boot/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/vdstandby
	rm -f $(prefix)/release/bin/eeprom
	cp -dp $(buildprefix)/root/release/lircd_spark.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	mkdir -p $(prefix)/release/var/run/lirc
	cp -f $(buildprefix)/root/sbin/flash_* $(prefix)/release/sbin
	cp -f $(buildprefix)/root/sbin/nand* $(prefix)/release/sbin
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_spark.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_spark7162
#
release_enigma2_spark7162: release_enigma2_common_utils
	echo "spark7162" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_spark7162 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom_spark/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp -f $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/i2c_spi/i2s.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/boot/audio.elf
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/vdstandby
	rm -f $(prefix)/release/bin/eeprom
	cp -dp $(buildprefix)/root/release/lircd_spark7162.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	mkdir -p $(prefix)/release/var/run/lirc
	cp -f $(buildprefix)/root/sbin/flashcp $(prefix)/release/sbin
	cp -f $(buildprefix)/root/sbin/flash_* $(prefix)/release/sbin
	cp -f $(buildprefix)/root/sbin/nand* $(prefix)/release/sbin
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_spark.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_fortis_hdbox
#
release_enigma2_fortis_hdbox: release_enigma2_common_utils
	echo "fortis" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_fortis_hdbox $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/eeprom
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs910.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_atevio7500
#
release_enigma2_atevio7500: release_enigma2_common_utils
	echo "atevio7500" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_fortis_hdbox $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/multituner/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/boot/audio.elf
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	cp $(targetprefix)/lib/firmware/dvb-fe-avl2108.fw $(prefix)/release/lib/firmware/
	cp $(targetprefix)/lib/firmware/dvb-fe-stv6306.fw $(prefix)/release/lib/firmware/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	rm -f $(prefix)/release/lib/modules/boxtype.ko
	rm -f $(prefix)/release/lib/modules/mpeg2hw.ko
	rm -f $(prefix)/release/bin/eeprom
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs910.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_octagon1008
#
release_enigma2_octagon1008: release_enigma2_common_utils
	echo "octagon1008" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_octagon1008 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/lib/firmware/dvb-fe-avl2108.fw $(prefix)/release/lib/firmware/
	cp $(targetprefix)/lib/firmware/dvb-fe-stv6306.fw $(prefix)/release/lib/firmware/
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	rm -f $(prefix)/release/bin/eeprom
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs910.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_hs7110
#
release_enigma2_hs7110: release_enigma2_common_utils
	echo "hs7110" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7110 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/boot/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_fortis.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_hs7810a
#
release_enigma2_hs7810a: release_enigma2_common_utils
	echo "hs7810a" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7810a $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/boot/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs910.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_hs7119
#
release_enigma2_hs7119: release_enigma2_common_utils
	echo "hs7119" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7119 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/boot/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs910.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_fortis.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_hs7819
#
release_enigma2_hs7819: release_enigma2_common_utils
	echo "hs7819" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7819 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/boot/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_fortis.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_atemio520
#
release_enigma2_atemio520: release_enigma2_common_utils
	echo "atemio520" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_atemio520 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/cn_micom/cn_micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/boot/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs910.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_atemio530
#
release_enigma2_atemio530: release_enigma2_common_utils
	echo "atemio530" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_atemio530 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/cn_micom/cn_micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/boot/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs910.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_hl101
#
release_enigma2_hl101: release_enigma2_common_utils
	echo "hl101" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hl101 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/proton/proton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/lib/firmware/dvb-fe-avl2108.fw $(prefix)/release/lib/firmware/
	cp $(targetprefix)/lib/firmware/dvb-fe-stv6306.fw $(prefix)/release/lib/firmware/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	cp -dp $(buildprefix)/root/release/lircd_hl101.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	mkdir -p $(prefix)/release/var/run/lirc
	rm -f $(prefix)/release/bin/vdstandby
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_hl101.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_adb_box
#
release_enigma2_adb_box: release_enigma2_common_utils
	echo "Adb_Box" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_adb_box $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/adb_box_vfd/vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/adb_box_fan/fan_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec_adb_box/cec_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	cp -f $(buildprefix)/root/release/fstab_adb_box $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_adb_box.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/lircd
	mkdir -p $(prefix)/release/var/run/lirc
	rm -f $(prefix)/release/bin/vdstandby
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_adb_box.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_vip1_v2
#
release_enigma2_vip1_v2: release_enigma2_common_utils
	echo "Edision-v2" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_vip2 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/release/fstab_vip2 $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_vip1_v2.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	mkdir -p $(prefix)/release/var/run/lirc
	rm -f $(prefix)/release/bin/vdstandby
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_vip2.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_vip2_v1
#
release_enigma2_vip2_v1: release_enigma2_common_utils
	echo "Edision-v1" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_vip2 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/release/fstab_vip2 $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_vip2_v1.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	mkdir -p $(prefix)/release/var/run/lirc
	rm -f $(prefix)/release/bin/vdstandby
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_vip2.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_hs5101
#
release_enigma2_hs5101: release_enigma2_common_utils
	echo "hs5101" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/button_hs5101/button.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/vfd_hs5101/vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/boot/video.elf
	cp -dp $(buildprefix)/root/release/lircd_hs5101.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	mkdir -p $(prefix)/release/var/run/lirc
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/vdstandby
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_ufs910.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_tf7700
#
release_enigma2_tf7700: release_enigma2_common_utils
	echo "tf7700" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_tf7700 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/tffp/tffp.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	cp -f $(buildprefix)/root/release/fstab_tf7700 $(prefix)/release/etc/fstab
	cp -f $(targetprefix)/sbin/shutdown $(prefix)/release/sbin/
	rm -f $(prefix)/release/bin/vdstandby
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_tf7700.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_vitamin_hd5000
#
release_enigma2_vitamin_hd5000: release_enigma2_common_utils
	echo "vitamin_hd5000" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/vitamin_hd5000/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard/smartcard.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/boot/audio.elf
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_vitamin_hd5000.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,cx24116,cx21143,stv6306}.fw
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw

#
# release_SAGEMCOM88
#
release_enigma2_sagemcom88: release_enigma2_common_utils
	echo "sagemcom88" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_led/front_led.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_vfd/front_vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/sagemcomtype/boxtype.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/boot/audio.elf
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_sagemcom88.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml
	[ -e $(buildprefix)/root/release/fe_core_sagemcom88$(KERNELSTMLABEL).ko ] && cp $(buildprefix)/root/release/fe_core_sagemcom88$(KERNELSTMLABEL).ko $(prefix)/release/lib/modules/fe_core.ko || true
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,cx24116,cx21143,stv6306}.fw
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7111_mb618.fw
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/sbin/lircmd $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irexec $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irrecord $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irsend $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irw $(prefix)/release/usr/bin/
	cp -dp $(buildprefix)/root/release/lircd_sagemcom88.conf $(prefix)/release/etc/lircd.conf

#
# release_arivalink200
#
release_enigma2_arivalink200: release_enigma2_common_utils
	echo "Ariva@Link200" > $(prefix)/release/etc/hostname
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_arivalink200.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml
	cp -dp $(buildprefix)/root/release/lircd_arivalink200.conf $(prefix)/release/etc/lircd.conf
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/

	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,cx21143,stv6306}.fw
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/sbin/lircmd $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irexec $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irrecord $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irsend $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irw $(prefix)/release/usr/bin/
	mkdir -p $(prefix)/release/var/run/lirc
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_ArivaLink200/vfd.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_ArivaLink200/vfd.ko $(prefix)/release/lib/modules/ || true

#
# release_FORTIS_DP7000
#
release_enigma2_fortis_dp7000: release_enigma2_common_utils
	echo "fortis_dp7000" > $(prefix)/release/etc/hostname
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/sbin/lircmd $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irexec $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irrecord $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irsend $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irw $(prefix)/release/usr/bin/
	mkdir -p $(prefix)/release/var/run/lirc

#
# release_adb5800
#
release_enigma2_adb5800: release_enigma2_common_utils
	echo "ADB5800" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_adb_box $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_bska/front_bska.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_bsla/front_bsla.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/adb_box_fan/fan_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec_adb_box/cec_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard_nbox/smartcard.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/dvbt/as102/dvb-as102.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/dvbt/siano/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	cp -f $(buildprefix)/root/release/fstab_adb_box $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_adb_box.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/lircd
	mkdir -p $(prefix)/release/var/run/lirc
	rm -f $(prefix)/release/bin/vdstandby
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_adb_box.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_base
#
# the following target creates the common file base
release_enigma2_base:
	rm -rf $(prefix)/release || true
	$(INSTALL_DIR) $(prefix)/release && \
	$(INSTALL_DIR) $(prefix)/release/{bin,boot,dev,dev.static,etc,lib,media,mnt,proc,ram,root,sbin,share,sys,tmp,usr,var} && \
	$(INSTALL_DIR) $(prefix)/release/etc/{enigma2,init.d,network,tuxbox,tuxtxt} && \
	$(INSTALL_DIR) $(prefix)/release/etc/network/{if-down.d,if-post-down.d,if-pre-up.d,if-up.d} && \
	$(INSTALL_DIR) $(prefix)/release/lib/{modules,firmware} && \
	$(INSTALL_DIR) $(prefix)/release/media/{dvd,hdd,net} && \
	ln -sf /media/hdd $(prefix)/release/hdd && \
	$(INSTALL_DIR) $(prefix)/release/mnt/{hdd,nfs,usb} && \
	$(INSTALL_DIR) $(prefix)/release/usr/{bin,lib,local,share} && \
	$(INSTALL_DIR) $(prefix)/release/usr/local/{bin,share} && \
	ln -sf /etc $(prefix)/release/usr/local/etc && \
	$(INSTALL_DIR) $(prefix)/release/usr/local/share/{enigma2,keymaps} && \
	ln -s /usr/local/share/keymaps $(prefix)/release/usr/share/keymaps
	$(INSTALL_DIR) $(prefix)/release/usr/share/{fonts,zoneinfo,udhcpc} && \
	$(INSTALL_DIR) $(prefix)/release/var/{etc,opkg} && \
	touch $(prefix)/release/var/etc/.firstboot && \
	cp -a $(targetprefix)/bin/* $(prefix)/release/bin/ && \
	ln -sf /bin/showiframe $(prefix)/release/usr/bin/showiframe && \
	ln -sf /bin/grab $(prefix)/release/usr/bin/grab && \
	cp -dp $(targetprefix)/usr/bin/sdparm $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/init $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/killall5 $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/portmap $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/hd-idle $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/mke2fs $(prefix)/release/sbin/ && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext2 && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext3 && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext4 && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext4dev && \
	cp -dp $(targetprefix)/sbin/fsck $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/e2fsck $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/shutdown $(prefix)/release/sbin/ && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext2 && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext3 && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext4 && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext4dev && \
	cp -dp $(targetprefix)/sbin/sfdisk $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/tune2fs $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/etc/init.d/portmap $(prefix)/release/etc/init.d/ && \
	cp -dp $(buildprefix)/root/sbin/MAKEDEV $(prefix)/release/sbin/MAKEDEV && \
	ln -sf ../sbin/MAKEDEV $(prefix)/release/dev/MAKEDEV && \
	cp $(targetprefix)/boot/uImage $(prefix)/release/boot/ && \
	cp $(targetprefix)/boot/audio.elf $(prefix)/release/boot/audio.elf && \
	cp -dp $(targetprefix)/etc/fstab $(prefix)/release/etc/ && \
	cp -dp $(buildprefix)/root/etc/group $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/host.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/hostname $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/hosts $(prefix)/release/etc/ && \
	cp $(buildprefix)/root/root_enigma2/etc/inetd.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/localtime $(prefix)/release/etc/ && \
	ln -sf /proc/mounts $(prefix)/release/etc/mtab && \
	cp -dp $(buildprefix)/root/etc/nsswitch.conf $(prefix)/release/etc/ && \
	cp -dp $(buildprefix)/root/etc/passwd $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/profile $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/protocols $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/resolv.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/services $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/shells $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/shells.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/vsftpd.conf $(prefix)/release/etc/ && \
	cp $(buildprefix)/root/etc/image-version $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/timezone.xml $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/vdstandby.cfg $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/network/interfaces $(prefix)/release/etc/network/ && \
	cp -dp $(targetprefix)/etc/network/options $(prefix)/release/etc/network/ && \
	cp $(buildprefix)/root/root_enigma2/etc/tuxbox/satellites.xml $(prefix)/release/etc/tuxbox/ && \
	cp $(buildprefix)/root/root_enigma2/etc/tuxbox/cables.xml $(prefix)/release/etc/tuxbox/ && \
	cp $(buildprefix)/root/root_enigma2/etc/tuxbox/terrestrial.xml $(prefix)/release/etc/tuxbox/ && \
	cp $(buildprefix)/root/root_enigma2/etc/tuxbox/tuxtxt2.conf $(prefix)/release/etc/tuxtxt/ && \
	cp -aR $(buildprefix)/root/usr/share/udhcpc/* $(prefix)/release/usr/share/udhcpc/ && \
	cp -aR $(buildprefix)/root/usr/share/zoneinfo/* $(prefix)/release/usr/share/zoneinfo/ && \
	echo "576i50" > $(prefix)/release/etc/videomode && \
	cp $(buildprefix)/root/release/rcS$(if $(TF7700),_$(TF7700))$(if $(HL101),_$(HL101))$(if $(VIP1_V2),_$(VIP1_V2))$(if $(VIP2_V1),_$(VIP2_V1))$(if $(UFS910),_$(UFS910))$(if $(UFS912),_$(UFS912))$(if $(UFS913),_$(UFS913))$(if $(SPARK),_$(SPARK))$(if $(SPARK7162),_$(SPARK7162))$(if $(UFS922),_$(UFS922))$(if $(UFC960),_$(UFC960))$(if $(OCTAGON1008),_$(OCTAGON1008))$(if $(FORTIS_HDBOX),_$(FORTIS_HDBOX))$(if $(ATEVIO7500),_$(ATEVIO7500))$(if $(HS7110),_$(HS7110))$(if $(HS7810A),_$(HS7810A))$(if $(HS7119),_$(HS7119))$(if $(HS7819),_$(HS7819))$(if $(ATEMIO520),_$(ATEMIO520))$(if $(ATEMIO530),_$(ATEMIO530))$(if $(CUBEREVO),_$(CUBEREVO))$(if $(CUBEREVO_MINI),_$(CUBEREVO_MINI))$(if $(CUBEREVO_MINI2),_$(CUBEREVO_MINI2))$(if $(CUBEREVO_MINI_FTA),_$(CUBEREVO_MINI_FTA))$(if $(CUBEREVO_250HD),_$(CUBEREVO_250HD))$(if $(CUBEREVO_2000HD),_$(CUBEREVO_2000HD))$(if $(CUBEREVO_9500HD),_$(CUBEREVO_9500HD))$(if $(IPBOX9900),_$(IPBOX9900))$(if $(IPBOX99),_$(IPBOX99))$(if $(IPBOX55),_$(IPBOX55))$(if $(ADB_BOX),_$(ADB_BOX))$(if $(VITAMIN_HD5000),_$(VITAMIN_HD5000))$(if $(SAGEMCOM88),_$(SAGEMCOM88))$(if $(ARIVALINK200),_$(ARIVALINK200))$(if $(ADB5800),_$(ADB5800)) $(prefix)/release/etc/init.d/rcS && \
	chmod 755 $(prefix)/release/etc/init.d/rcS && \
	export CROSS_COMPILE=$(target)- && \
		$(MAKE) install -C busybox-1.24.1 CONFIG_PREFIX=$(prefix)/release && \
	cp -dp $(targetprefix)/usr/bin/vsftpd $(prefix)/release/usr/bin/ && \
	cp $(buildprefix)/root/bootscreen/bootlogo.mvi $(prefix)/release/boot/ && \
	cp $(buildprefix)/root/bin/autologin $(prefix)/release/bin/ && \
	cp $(buildprefix)/root/usr/sbin/fw_printenv $(prefix)/release/usr/sbin/ && \
	ln -sf ../../usr/sbin/fw_printenv $(prefix)/release/usr/sbin/fw_setenv && \
	cp $(buildprefix)/root/bin/vdstandby $(prefix)/release/bin/ && \
	cp -dp $(targetprefix)/sbin/blkid $(prefix)/release/sbin/ && \
	cp -p $(targetprefix)/usr/bin/ffmpeg $(prefix)/release/sbin/ && \
	cp -p $(targetprefix)/usr/bin/opkg-cl $(prefix)/release/usr/bin/opkg && \
	cp -dp $(targetprefix)/usr/bin/python* $(prefix)/release/usr/bin/ && \
	cp -p $(targetprefix)/usr/sbin/ethtool $(prefix)/release/usr/sbin/ && \
	cp -p $(targetprefix)/usr/sbin/livestreamersrv $(prefix)/release/usr/sbin/ && \
	cp -dp $(targetprefix)/sbin/mkfs $(prefix)/release/sbin/
	cp -dp $(targetprefix)/sbin/jfs_fsck $(prefix)/release/sbin/ && \
	ln -sf /sbin/jfs_fsck $(prefix)/release/sbin/fsck.jfs && \
	cp -dp $(targetprefix)/sbin/jfs_mkfs $(prefix)/release/sbin/ && \
	ln -sf /sbin/jfs_mkfs $(prefix)/release/sbin/mkfs.jfs && \
	cp -dp $(targetprefix)/sbin/jfs_tune $(prefix)/release/sbin/

	cp -dp $(buildprefix)/root/release/inittab$(if $(FORTIS_HDBOX)$(OCTAGON1008)$(CUBEREVO)$(CUBEREVO_MINI2)$(CUBEREVO_2000HD),_ttyAS1) $(prefix)/release/etc/inittab
	cp $(buildprefix)/root/release/fw_env.config$(if $(ATEVIO7500),_$(ATEVIO7500))$(if $(FORTIS_HDBOX),_$(FORTIS_HDBOX))$(if $(OCTAGON1008),_$(OCTAGON1008))$(if $(TF7700),_$(TF7700))$(if $(UFS910),_$(UFS910))$(if $(UFS912),_$(UFS912))$(if $(UFS913),_$(UFS913))$(if $(UFS922),_$(UFS922))$(if $(ADB_BOX),_$(ADB_BOX))$(if $(CUBEREVO),_$(CUBEREVO))$(if $(CUBEREVO_MINI),_$(CUBEREVO_MINI))$(if $(CUBEREVO_MINI2),_$(CUBEREVO_MINI2))$(if $(CUBEREVO_250HD),_$(CUBEREVO_250HD))$(if $(CUBEREVO_2000HD),_$(CUBEREVO_2000HD))$(if $(IPBOX9900),_$(IPBOX9900))$(if $(IPBOX99),_$(IPBOX99))$(if $(IPBOX55),_$(IPBOX55))$(if $(SPARK),_$(SPARK))$(if $(SPARK7162),_$(SPARK7162))$(if $(VITAMIN_HD5000),_$(VITAMIN_HD5000))$(if $(ADB5800),_$(ADB5800)) $(prefix)/release/etc/fw_env.config

#
# Player
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stm_v4l2.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stm_v4l2.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvbi.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvbi.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvout.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvout.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmfb.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmfb.ko $(prefix)/release/lib/modules/ || true
	cd $(targetprefix)/lib/modules/$(KERNELVERSION)/extra && \
	for mod in \
		sound/pseudocard/pseudocard.ko \
		sound/silencegen/silencegen.ko \
		stm/mmelog/mmelog.ko \
		stm/monitor/stm_monitor.ko \
		media/dvb/stm/dvb/stmdvb.ko \
		sound/ksound/ksound.ko \
		media/dvb/stm/mpeg2_hard_host_transformer/mpeg2hw.ko \
		media/dvb/stm/backend/player2.ko \
		media/dvb/stm/h264_preprocessor/sth264pp.ko \
		media/dvb/stm/allocator/stmalloc.ko \
		stm/platform/platform.ko \
		stm/platform/p2div64.ko \
		media/sysfs/stm/stmsysfs.ko \
	;do \
		echo `pwd` player2/linux/drivers/$$mod; \
		if [ -e player2/linux/drivers/$$mod ]; then \
			cp player2/linux/drivers/$$mod $(prefix)/release/lib/modules/; \
			sh4-linux-strip --strip-unneeded $(prefix)/release/lib/modules/`basename $$mod`; \
		else \
			touch $(prefix)/release/lib/modules/`basename $$mod`; \
		fi; \
		echo "."; \
	done
	echo "touched";

#
# modules
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/avs/avs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/avs/avs.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/bpamem/bpamem.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/bpamem/bpamem.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/boxtype/boxtype.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/boxtype/boxtype.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/compcache/ramzswap.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/compcache/ramzswap.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/e2_proc/e2_proc.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/e2_proc/e2_proc.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/net/ipv6/ipv6.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/net/ipv6/ipv6.ko $(prefix)/release/lib/modules || true

#
# multicom 324
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshell/embxshell.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshell/embxshell.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxmailbox/embxmailbox.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxmailbox/embxmailbox.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshm/embxshm.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshm/embxshm.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/mme/mme_host.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/mme/mme_host.ko $(prefix)/release/lib/modules || true

#
# multicom 406
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embx/embx.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embx/embx.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxmailbox/embxmailbox.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxmailbox/embxmailbox.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxshm/embxshm.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxshm/embxshm.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics_user.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics_user.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme_user.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme_user.ko $(prefix)/release/lib/modules || true

	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/simu_button/simu_button.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cic/*.ko $(prefix)/release/lib/modules/
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/button/button.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/button/button.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec/cec.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec/cec.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cpu_frequ/cpu_frequ.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cpu_frequ/cpu_frequ.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/led/led.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/led/led.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti/pti.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti/pti.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti_np/pti.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti_np/pti.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard/smartcard.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard/smartcard.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/autofs4/autofs4.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/autofs4/autofs4.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/net/tun.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/net/tun.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/ftdi_sio.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/ftdi_sio.ko $(prefix)/release/lib/modules/ftdi.ko || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/pl2303.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/pl2303.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/usbserial.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/usbserial.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/fuse/fuse.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/fuse/fuse.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/ntfs/ntfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/ntfs/ntfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/cifs/cifs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/cifs/cifs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/jfs/jfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/jfs/jfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfsd/nfsd.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfsd/nfsd.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/exportfs/exportfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/exportfs/exportfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs_common/nfs_acl.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs_common/nfs_acl.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs/nfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs/nfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/mt7601Usta/mt7601Usta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/mt7601Usta/mt7601Usta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt2870sta/rt2870sta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt2870sta/rt2870sta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt3070sta/rt3070sta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt3070sta/rt3070sta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt5370sta/rt5370sta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt5370sta/rt5370sta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl871x/8712u.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl871x/8712u.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8188eu/8188eu.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8188eu/8188eu.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8192cu/8192cu.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8192cu/8192cu.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/sata_switch/sata.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/sata_switch/sata.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/mini_fo/mini_fo.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/mini_fo/mini_fo.ko $(prefix)/release/lib/modules || true

#
# lib usr/lib
#
	cp -R $(targetprefix)/lib/* $(prefix)/release/lib/
	rm -f $(prefix)/release/lib/*.{a,o,la}
	chmod 755 $(prefix)/release/lib/*

	cp -R $(targetprefix)/usr/lib/* $(prefix)/release/usr/lib/
	rm -rf $(prefix)/release/usr/lib/{engines,enigma2,gconv,ldscripts,libxslt-plugins,pkgconfig,python$(PYTHON_VERSION),sigc++-1.2,X11,lua}
	rm -f $(prefix)/release/usr/lib/*.{a,o,la}
	chmod 755 $(prefix)/release/usr/lib/*

#
# fonts
#
	cp $(buildprefix)/root/root_enigma2/usr/share/fonts/* $(prefix)/release/usr/share/fonts/
	cp $(targetprefix)/usr/local/share/fonts/* $(prefix)/release/usr/share/fonts/
	ln -s /usr/share/fonts $(prefix)/release/usr/local/share/fonts

#
# enigma2
#
	if [ -e $(targetprefix)/usr/bin/enigma2 ]; then \
		cp -f $(targetprefix)/usr/bin/enigma2 $(prefix)/release/usr/local/bin/enigma2; \
	fi

	if [ -e $(targetprefix)/usr/local/bin/enigma2 ]; then \
		cp -f $(targetprefix)/usr/local/bin/enigma2 $(prefix)/release/usr/local/bin/enigma2; \
	fi

	cp -a $(targetprefix)/usr/local/share/enigma2/* $(prefix)/release/usr/local/share/enigma2
	cp $(buildprefix)/root/root_enigma2/etc/enigma2/* $(prefix)/release/etc/enigma2
	ln -s /usr/local/share/enigma2 $(prefix)/release/usr/share/enigma2
	ln -sf /etc/timezone.xml $(prefix)/release/etc/tuxbox/timezone.xml

	$(INSTALL_DIR) $(prefix)/release/usr/lib/enigma2
	cp -a $(targetprefix)/usr/lib/enigma2/* $(prefix)/release/usr/lib/enigma2/

	if test -d $(targetprefix)/usr/local/lib/enigma2; then \
		cp -a $(targetprefix)/usr/local/lib/enigma2/* $(prefix)/release/usr/lib/enigma2; \
	fi

#
# python2.7
#
	if [ $(PYTHON_VERSION) == 2.7 ]; then \
		$(INSTALL_DIR) $(prefix)/release/usr/include; \
		$(INSTALL_DIR) $(prefix)/release$(PYTHON_INCLUDE_DIR); \
		cp $(targetprefix)$(PYTHON_INCLUDE_DIR)/pyconfig.h $(prefix)/release$(PYTHON_INCLUDE_DIR); \
	fi

#
# tuxtxt
#
	if [ -e $(targetprefix)/usr/bin/tuxtxt ]; then \
		cp -p $(targetprefix)/usr/bin/tuxtxt $(prefix)/release/usr/bin/; \
	fi

#
# hotplug
#
	if [ -e $(targetprefix)/usr/bin/hotplug_e2_helper ]; then \
		cp -dp $(targetprefix)/usr/bin/hotplug_e2_helper $(prefix)/release/sbin/hotplug; \
		cp -dp $(targetprefix)/usr/bin/bdpoll $(prefix)/release/sbin/; \
	else \
		cp -dp $(targetprefix)/sbin/hotplug $(prefix)/release/sbin/; \
	fi

#
# WLAN
#
	if [ -e $(targetprefix)/usr/sbin/ifrename ]; then \
		cp -dp $(targetprefix)/usr/sbin/ifrename $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwconfig $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwevent $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwgetid $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwlist $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwpriv $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwspy $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/wpa_cli $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/wpa_passphrase $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/wpa_supplicant $(prefix)/release/usr/sbin/; \
	fi

#
# delete unnecessary files
#
	rm -rf $(prefix)/release/lib/autofs
	rm -rf $(prefix)/release/usr/lib/m4-nofpu/
	rm -rf $(prefix)/release/lib/modules/$(KERNELVERSION)
	rm -rf $(prefix)/release/usr/lib/gcc
	rm -rf $(prefix)/release/usr/lib/enigma2/python/Plugins/DemoPlugins
	rm -rf $(prefix)/release/usr/lib/enigma2/python/Plugins/SystemPlugins/FrontprocessorUpgrade
	rm -rf $(prefix)/release/usr/lib/enigma2/python/Plugins/SystemPlugins/NFIFlash
	rm -rf $(prefix)/release/usr/lib/enigma2/python/Plugins/Extensions/FileManager
	rm -rf $(prefix)/release/usr/lib/enigma2/python/Plugins/Extensions/TuxboxPlugins
	$(INSTALL_DIR) $(prefix)/release$(PYTHON_DIR)
	cp -a $(targetprefix)$(PYTHON_DIR)/* $(prefix)/release$(PYTHON_DIR)/
	rm -rf $(prefix)/release$(PYTHON_DIR)/{bsddb,compiler,curses,distutils,lib-old,lib-tk,plat-linux3,test}
	rm -rf $(prefix)/release$(PYTHON_DIR)/ctypes/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/email/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/json/tests
	rm -rf $(prefix)/release$(PYTHON_DIR)/lib2to3/tests
	rm -rf $(prefix)/release$(PYTHON_DIR)/sqlite3/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/unittest/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/{test,conch,mail,names,news,words,flow,lore,pair,runner}
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/Cheetah/Tests
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/livestreamer_cli
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/lxml
	rm -f $(prefix)/release$(PYTHON_DIR)/site-packages/libxml2mod.so
	rm -f $(prefix)/release$(PYTHON_DIR)/site-packages/libxsltmod.so
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/OpenSSL/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/setuptools
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/zope/interface/tests
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/application/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/conch/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/internet/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/lore/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/mail/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/manhole/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/names/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/news/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/pair/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/persisted/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/protocols/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/python/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/runner/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/scripts/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/trial/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/web/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/twisted/words/test
	rm -rf $(prefix)/release$(PYTHON_DIR)/site-packages/*-py$(PYTHON_VERSION).egg-info

#
# Dont remove pyo files, remove pyc instead
#
	find $(prefix)/release/usr/lib/enigma2/ -name '*.pyc' -exec rm -f {} \;
#	find $(prefix)/release/usr/lib/enigma2/ -not -name 'mytest.py' -name '*.py' -exec rm -f {} \;
	find $(prefix)/release/usr/lib/enigma2/ -name '*.a' -exec rm -f {} \;
	find $(prefix)/release/usr/lib/enigma2/ -name '*.o' -exec rm -f {} \;
	find $(prefix)/release/usr/lib/enigma2/ -name '*.la' -exec rm -f {} \;

	find $(prefix)/release$(PYTHON_DIR)/ -name '*.pyc' -exec rm -f {} \;
#	find $(prefix)/release$(PYTHON_DIR)/ -name '*.py' -exec rm -f {} \;
	find $(prefix)/release$(PYTHON_DIR)/ -name '*.a' -exec rm -f {} \;
	find $(prefix)/release$(PYTHON_DIR)/ -name '*.c' -exec rm -f {} \;
	find $(prefix)/release$(PYTHON_DIR)/ -name '*.pyx' -exec rm -f {} \;
	find $(prefix)/release$(PYTHON_DIR)/ -name '*.o' -exec rm -f {} \;
	find $(prefix)/release$(PYTHON_DIR)/ -name '*.la' -exec rm -f {} \;

#
# alsa
#
	if [ -e $(targetprefix)/usr/share/alsa ]; then \
		mkdir -p $(prefix)/release/usr/share/alsa/; \
		mkdir $(prefix)/release/usr/share/alsa/cards/; \
		mkdir $(prefix)/release/usr/share/alsa/pcm/; \
		cp -dp $(targetprefix)/usr/share/alsa/alsa.conf $(prefix)/release/usr/share/alsa/alsa.conf; \
		cp $(targetprefix)/usr/share/alsa/cards/aliases.conf $(prefix)/release/usr/share/alsa/cards/; \
		cp $(targetprefix)/usr/share/alsa/pcm/default.conf $(prefix)/release/usr/share/alsa/pcm/; \
		cp $(targetprefix)/usr/share/alsa/pcm/dmix.conf $(prefix)/release/usr/share/alsa/pcm/; \
	fi

#
# NFS-UTILS
#
	if [ -e $(targetprefix)/usr/sbin/rpc.nfsd ]; then \
		cp -f $(targetprefix)/etc/exports $(prefix)/release/etc/; \
		cp -f $(targetprefix)/etc/init.d/nfs-common $(prefix)/release/etc/init.d/; \
		cp -f $(targetprefix)/etc/init.d/nfs-kernel-server $(prefix)/release/etc/init.d/; \
		cp -f $(targetprefix)/usr/sbin/exportfs $(prefix)/release/usr/sbin/; \
		cp -f $(targetprefix)/usr/sbin/rpc.nfsd $(prefix)/release/usr/sbin/; \
		cp -f $(targetprefix)/usr/sbin/rpc.mountd $(prefix)/release/usr/sbin/; \
		cp -f $(targetprefix)/usr/sbin/rpc.statd $(prefix)/release/usr/sbin/; \
	fi

#
# AUTOFS
#
	if [ -d $(prefix)/release/usr/lib/autofs ]; then \
		cp -f $(targetprefix)/usr/sbin/automount $(prefix)/release/usr/sbin/; \
		cp -f $(buildprefix)/root/etc/auto.hotplug $(prefix)/release/etc/; \
		cp -f $(buildprefix)/root/etc/auto.network $(prefix)/release/etc/; \
		cp -f $(buildprefix)/root/etc/init.d/autofs $(prefix)/release/etc/init.d/; \
		ln -s /usr/sbin/automount $(prefix)/release/sbin/automount; \
	fi

#
# GSTREAMER
#
	if [ -d $(prefix)/release/usr/lib/gstreamer-1.0 ]; then \
		rm -rf $(prefix)/release/usr/lib/gstreamer-1.0/*; \
		cp -a $(targetprefix)/usr/bin/gst-* $(prefix)/release/usr/bin/; \
		sh4-linux-strip --strip-unneeded $(prefix)/release/usr/bin/gst-launch*; \
		cp -a $(targetprefix)/usr/lib/gstreamer-1.0/libgst*.so $(prefix)/release/usr/lib/gstreamer-1.0/; \
		sh4-linux-strip --strip-unneeded $(prefix)/release/usr/lib/gstreamer-1.0/*; \
	fi

#
# GRAPHLCD
#
	if [ -e $(prefix)/release/usr/lib/libglcddrivers.so ]; then \
		cp -f $(targetprefix)/etc/graphlcd.conf $(prefix)/release/etc/graphlcd.conf; \
	fi

#
# udpxy
#
	if [ -e $(targetprefix)/usr/bin/udpxy ]; then \
		cp -f $(targetprefix)/usr/bin/udpxy $(prefix)/release/usr/bin; \
		cp -a $(targetprefix)/usr/bin/udpxrec $(prefix)/release/usr/bin; \
	fi

#
# minidlna
#
	if [ -e $(targetprefix)/usr/sbin/minidlnad ]; then \
		cp -f $(targetprefix)/usr/sbin/minidlnad $(prefix)/release/usr/sbin/; \
	fi

#
# DIRECTFB
#
	if [ -d $(prefix)/release/usr/lib/directfb-1.4-5 ]; then \
		rm -rf $(prefix)/release/usr/lib/directfb-1.4-5/gfxdrivers/*.{a,o,la}; \
		rm -rf $(prefix)/release/usr/lib/directfb-1.4-5/inputdrivers/*; \
		cp -a $(targetprefix)/usr/lib/directfb-1.4-5/inputdrivers/libdirectfb_enigma2remote.so $(prefix)/release/usr/lib/directfb-1.4-5/inputdrivers/; \
		cp -a $(targetprefix)/usr/lib/directfb-1.4-5/inputdrivers/libdirectfb_linux_input.so $(prefix)/release/usr/lib/directfb-1.4-5/inputdrivers/; \
		rm -rf $(prefix)/release/usr/lib/directfb-1.4-5/systems/*.{a,o,la}; \
		rm -rf $(prefix)/release/usr/lib/directfb-1.4-5/systems/libdirectfb_dummy.so; \
		rm -rf $(prefix)/release/usr/lib/directfb-1.4-5/systems/libdirectfb_fbdev.so; \
		rm -rf $(prefix)/release/usr/lib/directfb-1.4-5/wm/*.{a,o,la}; \
		rm -rf $(prefix)/release/usr/lib/directfb-1.4-5/interfaces/IDirectFBFont/*.{a,o,la}; \
		rm -rf $(prefix)/release/usr/lib/directfb-1.4-5/interfaces/IDirectFBImageProvider/*.{a,o,la}; \
		rm -rf $(prefix)/release/usr/lib/directfb-1.4-5/interfaces/IDirectFBVideoProvider/*.{a,o,la}; \
	fi
	if [ -d $(prefix)/release/usr/lib/icu ]; then \
		rm -rf $(prefix)/release/usr/lib/icu; \
	fi
	if [ -d $(prefix)/release/usr/lib/glib-2.0 ]; then \
		rm -rf $(prefix)/release/usr/lib/glib-2.0; \
	fi
	if [ -d $(prefix)/release/usr/lib/enchant ]; then \
		rm -rf $(prefix)/release/usr/lib/enchant; \
	fi

#
# DVB-T USB
#
	if [ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/dvbt/as102/dvb-as102.ko ]; then \
		cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/dvbt/as102/dvb-as102.ko $(prefix)/release/lib/modules/; \
		cp $(buildprefix)/root/firmware/as102_data1_st.hex $(prefix)/release/lib/firmware/; \
		cp $(buildprefix)/root/firmware/as102_data2_st.hex $(prefix)/release/lib/firmware/; \
	fi

#
# The main target depends on the model.
# IMPORTANT: it is assumed that only one variable is set. Otherwise the target name won't be resolved.
#
$(D)/release_enigma2: \
$(D)/%release_enigma2: release_enigma2_base release_enigma2_$(TF7700)$(HL101)$(VIP1_V2)$(VIP2_V1)$(UFS910)$(UFS912)$(UFS913)$(UFS922)$(UFC960)$(SPARK)$(SPARK7162)$(OCTAGON1008)$(FORTIS_HDBOX)$(ATEVIO7500)$(HS7110)$(HS7810A)$(HS7119)$(HS7819)$(ATEMIO520)$(ATEMIO530)$(CUBEREVO)$(CUBEREVO_MINI)$(CUBEREVO_MINI2)$(CUBEREVO_MINI_FTA)$(CUBEREVO_250HD)$(CUBEREVO_2000HD)$(CUBEREVO_9500HD)$(HOMECAST5101)$(IPBOX9900)$(IPBOX99)$(IPBOX55)$(ADB_BOX)$(VITAMIN_HD5000)$(SAGEMCOM88)$(ARIVALINK200)$(FORTIS_DP7000)$(ADB5800)
	touch $@

#
# FOR YOUR OWN CHANGES use these folder in cdk/own_build/enigma2
#
#	default for all receiver
	find $(buildprefix)/own_build/enigma2/ -mindepth 1 -maxdepth 1 -exec cp -at$(prefix)/release/ -- {} +
#	receiver specific (only if directory exist)
	[ -d "$(buildprefix)/own_build/enigma2.$(BOXTYPE)" ] && find $(buildprefix)/own_build/enigma2.$(BOXTYPE)/ -mindepth 1 -maxdepth 1 -exec cp -at$(prefix)/release/ -- {} + || true
	rm -f $(prefix)/release/for_your_own_changes

#
# sh4-linux-strip all
#
	find $(prefix)/release/ -name '*' -exec sh4-linux-strip --strip-unneeded {} &>/dev/null \;

#
# release-clean
#
release-enigma2-clean:
	rm -f $(D)/release

#
# release_common_utils
#
release_neutrino_common_utils:
#	remove the slink to busybox
	rm -f $(prefix)/release/sbin/halt
	cp -f $(targetprefix)/sbin/halt $(prefix)/release/sbin/
	cp -f $(targetprefix)/etc/init.d/umountfs $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/sendsigs $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/reboot $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/rc $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/network $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/networking $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/mountvirtfs $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/mountall $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/hostname $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/vsftpd $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/bootclean.sh $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/getfb.awk $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/makedev $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/udhcpc $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/autofs $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/swap $(prefix)/release/etc/init.d/
	mkdir -p $(prefix)/release/etc/rc.d/rc0.d
	ln -s ../init.d $(prefix)/release/etc/rc.d
	ln -fs halt $(prefix)/release/sbin/reboot
	ln -fs halt $(prefix)/release/sbin/poweroff
	ln -s ../init.d/sendsigs $(prefix)/release/etc/rc.d/rc0.d/S20sendsigs
	ln -s ../init.d/umountfs $(prefix)/release/etc/rc.d/rc0.d/S40umountfs
	ln -s ../init.d/halt $(prefix)/release/etc/rc.d/rc0.d/S90halt
	mkdir -p $(prefix)/release/etc/rc.d/rc6.d
	ln -s ../init.d/sendsigs $(prefix)/release/etc/rc.d/rc6.d/S20sendsigs
	ln -s ../init.d/umountfs $(prefix)/release/etc/rc.d/rc6.d/S40umountfs
	ln -s ../init.d/reboot $(prefix)/release/etc/rc.d/rc6.d/S90reboot

#
# release_cube_common
#
release_neutrino_cube_common:
	cp $(buildprefix)/root/release/halt_cuberevo $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(buildprefix)/root/release/reboot_cuberevo $(prefix)/release/etc/init.d/reboot
	chmod 777 $(prefix)/release/etc/init.d/reboot
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/bin/eeprom $(prefix)/release/bin
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox/micom.ko $(prefix)/release/lib/modules/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx21143}.fw
#	rm -f $(prefix)/release/bin/vfdctl

#
# release_cube_common_tuner
#
release_neutrino_cube_common_tuner:
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/multituner/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/media/dvb/frontends/dvb-pll.ko $(prefix)/release/lib/modules/

#
# release_cuberevo_9500hd
#
release_neutrino_cuberevo_9500hd: release_neutrino_common_utils release_neutrino_cube_common release_neutrino_cube_common_tuner
	echo "cuberevo-9500hd" > $(prefix)/release/etc/hostname

#
# release_cuberevo_2000hd
#
release_neutrino_cuberevo_2000hd: release_neutrino_common_utils release_neutrino_cube_common release_neutrino_cube_common_tuner
	echo "cuberevo-2000hd" > $(prefix)/release/etc/hostname

#
# release_cuberevo_250hd
#
release_neutrino_cuberevo_250hd: release_neutrino_common_utils release_neutrino_cube_common release_neutrino_cube_common_tuner
	echo "cuberevo-250hd" > $(prefix)/release/etc/hostname

#
# release_cuberevo_mini_fta
#
release_neutrino_cuberevo_mini_fta: release_neutrino_common_utils release_neutrino_cube_common release_neutrino_cube_common_tuner
	echo "cuberevo-mini-fta" > $(prefix)/release/etc/hostname

#
# release_cuberevo_mini2
#
release_neutrino_cuberevo_mini2: release_neutrino_common_utils release_neutrino_cube_common release_neutrino_cube_common_tuner
	echo "cuberevo-mini2" > $(prefix)/release/etc/hostname

#
# release_cuberevo_mini
#
release_neutrino_cuberevo_mini: release_neutrino_common_utils release_neutrino_cube_common release_neutrino_cube_common_tuner
	echo "cuberevo-mini" > $(prefix)/release/etc/hostname

#
# release_cuberevo
#
release_neutrino_cuberevo: release_neutrino_common_utils release_neutrino_cube_common release_neutrino_cube_common_tuner
	echo "cuberevo" > $(prefix)/release/etc/hostname

#
# release_common_ipbox
#
release_neutrino_common_ipbox:
	cp $(buildprefix)/root/release/halt_ipbox $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/siinfo/siinfo.ko $(prefix)/release/lib/modules/
	cp -f $(buildprefix)/root/release/fstab_ipbox $(prefix)/release/etc/fstab
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	cp -dp $(buildprefix)/root/release/lircd_ipbox.conf $(prefix)/release/etc/lircd.conf
	cp -p $(buildprefix)/root/release/lircd_ipbox $(prefix)/release/usr/bin/lircd
	rm -f $(prefix)/release/lib/firmware/*
	rm -f $(prefix)/release/lib/modules/boxtype.ko
	rm -f $(prefix)/release/lib/modules/bpamem.ko
	rm -f $(prefix)/release/lib/modules/ramzswap.ko
	rm -f $(prefix)/release/lib/modules/simu_button.ko
	rm -f $(prefix)/release/lib/modules/stmvbi.ko
	rm -f $(prefix)/release/lib/modules/stmvout.ko
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/etc/network/interfaces

#
# release_ipbox9900
#
release_neutrino_ipbox9900: release_neutrino_common_utils release_neutrino_common_ipbox
	echo "ipbox9900" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox99xx/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/rmu/rmu.ko $(prefix)/release/lib/modules/
	cp -p $(buildprefix)/root/release/tvmode_ipbox $(prefix)/release/usr/bin/tvmode

#
# release_ipbox99
#
release_neutrino_ipbox99: release_neutrino_common_utils release_neutrino_common_ipbox
	echo "ipbox99" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox99xx/micom.ko $(prefix)/release/lib/modules/
	cp -p $(buildprefix)/root/release/tvmode_ipbox $(prefix)/release/usr/bin/tvmode

#
# release_ipbox55
#
release_neutrino_ipbox55: release_neutrino_common_utils release_neutrino_common_ipbox
	echo "ipbox55" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox55/front.ko $(prefix)/release/lib/modules/
	cp -p $(buildprefix)/root/release/tvmode_ipbox55 $(prefix)/release/usr/bin/tvmode

#
# release_ufs910
#
release_neutrino_ufs910: release_neutrino_common_utils
	echo "ufs910" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/vfd/vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/lib/firmware/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,stv6306}.fw
	mv $(prefix)/release/lib/firmware/dvb-fe-cx21143.fw $(prefix)/release/lib/firmware/dvb-fe-cx24116.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm $(prefix)/release/lib/firmware/component_7111_mb618.fw
	cp -dp $(buildprefix)/root/release/lircd_ufs910.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	rm -f $(prefix)/release/bin/vdstandby
	rm -f $(prefix)/release/bin/eeprom

#
# release_ufs912
#
release_neutrino_ufs912: release_neutrino_common_utils
	echo "ufs912" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom

#
# release_ufs913
#
release_neutrino_ufs913: release_neutrino_common_utils
	echo "ufs913" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/multituner/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom

#
# release_ufs922
#
release_neutrino_ufs922: release_neutrino_common_utils
	echo "ufs922" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/ufs922_fan/fan_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom

#
# release_ufc960
#
release_neutrino_ufc960: release_neutrino_common_utils
	echo "ufc960" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom

#
# release_spark
#
release_neutrino_spark: release_neutrino_common_utils
	echo "spark" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_spark $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom_spark/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/vdstandby
	rm -f $(prefix)/release/bin/eeprom
	cp -dp $(buildprefix)/root/release/lircd_spark.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	cp -f $(buildprefix)/root/sbin/flash_* $(prefix)/release/sbin
	cp -f $(buildprefix)/root/sbin/nand* $(prefix)/release/sbin

#
# release_spark7162
#
release_neutrino_spark7162: release_neutrino_common_utils
	echo "spark7162" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_spark7162 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom_spark/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp -f $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/i2c_spi/i2s.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/vdstandby
	rm -f $(prefix)/release/bin/eeprom
	cp -dp $(buildprefix)/root/release/lircd_spark7162.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	cp -f $(buildprefix)/root/sbin/flashcp $(prefix)/release/sbin
	cp -f $(buildprefix)/root/sbin/flash_* $(prefix)/release/sbin
	cp -f $(buildprefix)/root/sbin/nand* $(prefix)/release/sbin

#
# release_fortis_hdbox
#
release_neutrino_fortis_hdbox: release_neutrino_common_utils
	echo "fortis" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_fortis_hdbox $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/eeprom

#
# release_atevio7500
#
release_neutrino_atevio7500: release_neutrino_common_utils
	echo "atevio7500" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_fortis_hdbox $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/multituner/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	cp $(targetprefix)/lib/firmware/dvb-fe-avl2108.fw $(prefix)/release/lib/firmware/
	cp $(targetprefix)/lib/firmware/dvb-fe-stv6306.fw $(prefix)/release/lib/firmware/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	rm -f $(prefix)/release/lib/modules/boxtype.ko
	rm -f $(prefix)/release/lib/modules/mpeg2hw.ko
	rm -f $(prefix)/release/bin/eeprom

#
# release_octagon1008
#
release_neutrino_octagon1008: release_neutrino_common_utils
	echo "octagon1008" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_octagon1008 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/lib/firmware/dvb-fe-avl2108.fw $(prefix)/release/lib/firmware/
	cp $(targetprefix)/lib/firmware/dvb-fe-stv6306.fw $(prefix)/release/lib/firmware/
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	rm -f $(prefix)/release/bin/eeprom

#
# release_hs7110
#
release_neutrino_hs7110: release_neutrino_common_utils
	echo "hs7110" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7110 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_hs7810a
#
release_neutrino_hs7810a: release_neutrino_common_utils
	echo "hs7810a" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7810a $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_hs7119
#
release_neutrino_hs7119: release_neutrino_common_utils
	echo "hs7119" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7119 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_hs7819
#
release_neutrino_hs7819: release_neutrino_common_utils
	echo "hs7819" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7819 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_atemio520
#
release_neutrino_atemio520: release_neutrino_common_utils
	echo "atemio520" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_atemio520 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/cn_micom/cn_micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_atemio530
#
release_neutrino_atemio530: release_neutrino_common_utils
	echo "atemio530" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_atemio530 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/cn_micom/cn_micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_hl101
#
release_neutrino_hl101: release_neutrino_common_utils
	echo "hl101" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hl101 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/proton/proton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/lib/firmware/dvb-fe-avl2108.fw $(prefix)/release/lib/firmware/
	cp $(targetprefix)/lib/firmware/dvb-fe-stv6306.fw $(prefix)/release/lib/firmware/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	cp -dp $(buildprefix)/root/release/lircd_hl101.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/

#
# release_adb_box
#
release_neutrino_adb_box: release_neutrino_common_utils
	echo "Adb_Box" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_adb_box $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/adb_box_vfd/vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/adb_box_fan/fan_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec_adb_box/cec_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/dvbt/as102/dvb-as102.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/lib/firmware/video.elf
	cp $(buildprefix)/root/firmware/as102_data1_st.hex $(prefix)/release/lib/firmware/
	cp $(buildprefix)/root/firmware/as102_data2_st.hex $(prefix)/release/lib/firmware/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	cp -f $(buildprefix)/root/release/fstab_adb_box $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_adb_box.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/lircd

#
# release_vip1_v2
#
release_neutrino_vip1_v2: release_neutrino_common_utils
	echo "Edision-v2" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_vip2 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/release/fstab_vip2 $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_vip1_v2.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/

#
# release_vip2_v1
#
release_neutrino_vip2_v1: release_neutrino_common_utils
	echo "Edision-v1" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_vip2 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/release/fstab_vip2 $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_vip2_v1.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/

#
# release_hs5101
#
release_neutrino_hs5101: release_neutrino_common_utils
	echo "hs5101" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/button_hs5101/button.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/vfd_hs5101/vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/lib/firmware/video.elf
	cp -dp $(buildprefix)/root/release/lircd_hs5101.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/vdstandby

#
# release_tf7700
#
release_neutrino_tf7700: release_neutrino_common_utils
	echo "tf7700" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_tf7700 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/tffp/tffp.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	cp -f $(buildprefix)/root/release/fstab_tf7700 $(prefix)/release/etc/fstab

#
# release_vitamin_hd5000
#
release_neutrino_vitamin_hd5000: release_neutrino_common_utils
	echo "vitamin_hd5000" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/vitamin_hd5000/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard/smartcard.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,cx24116,cx21143,stv6306}.fw
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw

#
# release_SAGEMCOM88
#
release_neutrino_sagemcom88: release_neutrino_common_utils
	echo "sagemcom88" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_led/front_led.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_vfd/front_vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/sagemcomtype/sagemcomtype.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/lib/firmware/audio.elf
	[ -e $(buildprefix)/root/release/fe_core_sagemcom88$(KERNELSTMLABEL).ko ] && cp $(buildprefix)/root/release/fe_core_sagemcom88$(KERNELSTMLABEL).ko $(prefix)/release/lib/modules/fe_core.ko || true
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,cx24116,cx21143,stv6306}.fw
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7111_mb618.fw
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/sbin/lircmd $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irexec $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irrecord $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irsend $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irw $(prefix)/release/usr/bin/
	cp -dp $(buildprefix)/root/release/lircd_sagemcom88.conf $(prefix)/release/etc/lircd.conf

#
# release_adb5800
#
release_neutrino_adb5800: release_neutrino_common_utils
	echo "ADB5800" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_adb_box $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_bska/front_bska.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_bsla/front_bsla.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/adb_box_fan/fan_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec_adb_box/cec_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard_nbox/smartcard.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/dvbt/as102/dvb-as102.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/dvbt/siano/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	cp -f $(buildprefix)/root/release/fstab_adb_box $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_adb_box.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/lircd
	mkdir -p $(prefix)/release/var/run/lirc
	rm -f $(prefix)/release/bin/vdstandby
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_adb_box.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_base
#
# the following target creates the common file base
release_neutrino_base:
	rm -rf $(prefix)/release || true
	$(INSTALL_DIR) $(prefix)/release && \
	$(INSTALL_DIR) $(prefix)/release/{bin,boot,dev,dev.static,etc,hdd,lib,media,mnt,proc,ram,root,sbin,swap,sys,tmp,usr,var} && \
	$(INSTALL_DIR) $(prefix)/release/etc/{init.d,network,mdev} && \
	$(INSTALL_DIR) $(prefix)/release/etc/network/{if-down.d,if-post-down.d,if-pre-up.d,if-up.d} && \
	$(INSTALL_DIR) $(prefix)/release/lib/{modules,udev,firmware} && \
	$(INSTALL_DIR) $(prefix)/release/media/{dvd,nfs,usb,sda1,sdb1} && \
	ln -sf /hdd $(prefix)/release/media/hdd && \
	$(INSTALL_DIR) $(prefix)/release/mnt/{hdd,nfs,usb} && \
	$(INSTALL_DIR) $(prefix)/release/usr/{bin,lib,local,share} && \
	$(INSTALL_DIR) $(prefix)/release/usr/local/{bin,sbin} && \
	$(INSTALL_DIR) $(prefix)/release/usr/share/{fonts,tuxbox,udhcpc,zoneinfo} && \
	$(INSTALL_DIR) $(prefix)/release/usr/share/tuxbox/neutrino && \
	$(INSTALL_DIR) $(prefix)/release/usr/share/tuxbox/neutrino/icons/logo && \
	ln -sf /usr/share/tuxbox/neutrino/icons/logo $(prefix)/release/logos && \
	ln -sf /usr/share $(prefix)/release/share && \
	$(INSTALL_DIR) $(prefix)/release/var/{bin,boot,etc,httpd,lib,tuxbox,update} && \
	$(INSTALL_DIR) $(prefix)/release/var/lib/nfs && \
	$(INSTALL_DIR) $(prefix)/release/var/tuxbox/{config,locale,plugins,themes} && \
	$(INSTALL_DIR) $(prefix)/release/var/tuxbox/config/zapit && \
	ln -sf /usr/share/tuxbox/neutrino/icons/logo $(prefix)/release/var/httpd/logos && \
	touch $(prefix)/release/var/etc/.firstboot && \
	cp -a $(targetprefix)/bin/* $(prefix)/release/bin/ && \
	ln -sf /bin/showiframe $(prefix)/release/usr/bin/showiframe && \
	cp -dp $(targetprefix)/sbin/init $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/killall5 $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/portmap $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/hd-idle $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/mke2fs $(prefix)/release/sbin/ && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext2 && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext3 && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext4 && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext4dev && \
	cp -dp $(targetprefix)/sbin/fsck $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/e2fsck $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/shutdown $(prefix)/release/sbin/ && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext2 && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext3 && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext4 && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext4dev && \
	cp -dp $(targetprefix)/sbin/sfdisk $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/tune2fs $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/etc/init.d/portmap $(prefix)/release/etc/init.d/ && \
	cp -dp $(buildprefix)/root/sbin/MAKEDEV $(prefix)/release/sbin/MAKEDEV && \
	ln -sf ../sbin/MAKEDEV $(prefix)/release/dev/MAKEDEV && \
	ln -sf ../../sbin/MAKEDEV $(prefix)/release/lib/udev/MAKEDEV && \
	cp $(targetprefix)/boot/uImage $(prefix)/release/boot/ && \
	cp $(targetprefix)/boot/audio.elf $(prefix)/release/lib/firmware/audio.elf && \
	cp -dp $(targetprefix)/etc/fstab $(prefix)/release/etc/ && \
	cp -dp $(buildprefix)/root/etc/group $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/host.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/hostname $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/hosts $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/localtime $(prefix)/release/etc/ && \
	ln -sf /proc/mounts $(prefix)/release/etc/mtab && \
	cp -dp $(buildprefix)/root/etc/nsswitch.conf $(prefix)/release/etc/ && \
	cp -dp $(buildprefix)/root/etc/passwd $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/profile $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/protocols $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/resolv.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/services $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/shells $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/shells.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/vsftpd.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/var/etc/.version $(prefix)/release/ && \
	ln -sf /.version $(prefix)/release/var/etc/.version && \
	cp -dp $(targetprefix)/etc/timezone.xml $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/vdstandby.cfg $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/network/interfaces $(prefix)/release/etc/network/ && \
	cp -dp $(targetprefix)/etc/network/options $(prefix)/release/etc/network/ && \
	cp -aR $(buildprefix)/root/etc/mdev/* $(prefix)/release/etc/mdev/ && \
	cp -aR $(buildprefix)/root/usr/share/udhcpc/* $(prefix)/release/usr/share/udhcpc/ && \
	cp -aR $(buildprefix)/root/usr/share/zoneinfo/* $(prefix)/release/usr/share/zoneinfo/ && \
	echo "576i50" > $(prefix)/release/etc/videomode && \
	cp $(buildprefix)/root/release/rcS_neutrino$(if $(TF7700),_$(TF7700))$(if $(OCTAGON1008),_$(OCTAGON1008))$(if $(FORTIS_HDBOX),_$(FORTIS_HDBOX))$(if $(ATEVIO7500),_$(ATEVIO7500))$(if $(HS7110),_$(HS7110))$(if $(HS7810A),_$(HS7810A))$(if $(HS7119),_$(HS7119))$(if $(HS7819),_$(HS7819))$(if $(ATEMIO520),_$(ATEMIO520))$(if $(ATEMIO530),_$(ATEMIO530))$(if $(HL101),_$(HL101))$(if $(VIP1_V2),_$(VIP1_V2))$(if $(VIP2_V1),_$(VIP2_V1))$(if $(ADB_BOX),_$(ADB_BOX))$(if $(UFS910),_$(UFS910))$(if $(UFS912),_$(UFS912))$(if $(UFS913),_$(UFS913))$(if $(UFS922),_$(UFS922))$(if $(CUBEREVO),_$(CUBEREVO))$(if $(CUBEREVO_MINI),_$(CUBEREVO_MINI))$(if $(CUBEREVO_MINI2),_$(CUBEREVO_MINI2))$(if $(CUBEREVO_MINI_FTA),_$(CUBEREVO_MINI_FTA))$(if $(CUBEREVO_250HD),_$(CUBEREVO_250HD))$(if $(CUBEREVO_2000HD),_$(CUBEREVO_2000HD))$(if $(CUBEREVO_9500HD),_$(CUBEREVO_9500HD))$(if $(IPBOX9900),_$(IPBOX9900))$(if $(IPBOX99),_$(IPBOX99))$(if $(IPBOX55),_$(IPBOX55))$(if $(SPARK),_$(SPARK))$(if $(SPARK7162),_$(SPARK7162))$(if $(ADB5800),_$(ADB5800)) $(prefix)/release/etc/init.d/rcS && \
	chmod 755 $(prefix)/release/etc/init.d/rcS && \
	export CROSS_COMPILE=$(target)- && \
		$(MAKE) install -C busybox-1.24.1 CONFIG_PREFIX=$(prefix)/release && \
	cp -dp $(targetprefix)/usr/bin/vsftpd $(prefix)/release/usr/bin/ && \
	cp $(buildprefix)/root/bin/autologin $(prefix)/release/bin/ && \
	cp $(buildprefix)/root/usr/sbin/fw_printenv $(prefix)/release/usr/sbin/ && \
	ln -sf ../../usr/sbin/fw_printenv $(prefix)/release/usr/sbin/fw_setenv && \
	cp -dp $(targetprefix)/sbin/hotplug $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/blkid $(prefix)/release/sbin/ && \
	cp -p $(targetprefix)/usr/bin/ffmpeg $(prefix)/release/sbin/ && \
	ln -sf ../../bin/busybox $(prefix)/release/usr/bin/ether-wake && \
	cp -dp $(targetprefix)/sbin/mkfs $(prefix)/release/sbin/
	cp -dp $(targetprefix)/sbin/jfs_fsck $(prefix)/release/sbin/ && \
	ln -sf /sbin/jfs_fsck $(prefix)/release/sbin/fsck.jfs && \
	cp -dp $(targetprefix)/sbin/jfs_mkfs $(prefix)/release/sbin/ && \
	ln -sf /sbin/jfs_mkfs $(prefix)/release/sbin/mkfs.jfs && \
	cp -dp $(targetprefix)/sbin/jfs_tune $(prefix)/release/sbin/

	cp -dp $(buildprefix)/root/release/inittab$(if $(FORTIS_HDBOX)$(OCTAGON1008)$(CUBEREVO)$(CUBEREVO_MINI2)$(CUBEREVO_2000HD),_ttyAS1) $(prefix)/release/etc/inittab
	cp $(buildprefix)/root/release/fw_env.config$(if $(ATEVIO7500),_$(ATEVIO7500))$(if $(FORTIS_HDBOX),_$(FORTIS_HDBOX))$(if $(OCTAGON1008),_$(OCTAGON1008))$(if $(TF7700),_$(TF7700))$(if $(UFS910),_$(UFS910))$(if $(UFS912),_$(UFS912))$(if $(UFS913),_$(UFS913))$(if $(UFS922),_$(UFS922))$(if $(ADB_BOX),_$(ADB_BOX))$(if $(CUBEREVO),_$(CUBEREVO))$(if $(CUBEREVO_MINI),_$(CUBEREVO_MINI))$(if $(CUBEREVO_MINI2),_$(CUBEREVO_MINI2))$(if $(CUBEREVO_250HD),_$(CUBEREVO_250HD))$(if $(CUBEREVO_2000HD),_$(CUBEREVO_2000HD))$(if $(IPBOX9900),_$(IPBOX9900))$(if $(IPBOX99),_$(IPBOX99))$(if $(IPBOX55),_$(IPBOX55))$(if $(SPARK),_$(SPARK))$(if $(SPARK7162),_$(SPARK7162))$(if $(VITAMIN_HD5000),_$(VITAMIN_HD5000))$(if $(ADB5800),_$(ADB5800)) $(prefix)/release/etc/fw_env.config

#
# Player
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stm_v4l2.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stm_v4l2.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvbi.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvbi.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvout.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvout.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmfb.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmfb.ko $(prefix)/release/lib/modules/ || true
	cd $(targetprefix)/lib/modules/$(KERNELVERSION)/extra && \
	for mod in \
		sound/pseudocard/pseudocard.ko \
		sound/silencegen/silencegen.ko \
		stm/mmelog/mmelog.ko \
		stm/monitor/stm_monitor.ko \
		media/dvb/stm/dvb/stmdvb.ko \
		sound/ksound/ksound.ko \
		media/dvb/stm/mpeg2_hard_host_transformer/mpeg2hw.ko \
		media/dvb/stm/backend/player2.ko \
		media/dvb/stm/h264_preprocessor/sth264pp.ko \
		media/dvb/stm/allocator/stmalloc.ko \
		stm/platform/platform.ko \
		stm/platform/p2div64.ko \
		media/sysfs/stm/stmsysfs.ko \
	;do \
		echo `pwd` player2/linux/drivers/$$mod; \
		if [ -e player2/linux/drivers/$$mod ]; then \
			cp player2/linux/drivers/$$mod $(prefix)/release/lib/modules/; \
			sh4-linux-strip --strip-unneeded $(prefix)/release/lib/modules/`basename $$mod`; \
		else \
			touch $(prefix)/release/lib/modules/`basename $$mod`; \
		fi; \
		echo "."; \
	done
	echo "touched";

#
# modules
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/avs/avs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/avs/avs.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/bpamem/bpamem.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/bpamem/bpamem.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/boxtype/boxtype.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/boxtype/boxtype.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/compcache/ramzswap.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/compcache/ramzswap.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/e2_proc/e2_proc.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/e2_proc/e2_proc.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/net/ipv6/ipv6.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/net/ipv6/ipv6.ko $(prefix)/release/lib/modules || true

#
# multicom 324
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshell/embxshell.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshell/embxshell.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxmailbox/embxmailbox.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxmailbox/embxmailbox.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshm/embxshm.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshm/embxshm.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/mme/mme_host.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/mme/mme_host.ko $(prefix)/release/lib/modules || true

#
# multicom 406
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embx/embx.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embx/embx.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxmailbox/embxmailbox.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxmailbox/embxmailbox.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxshm/embxshm.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxshm/embxshm.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics_user.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics_user.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme_user.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme_user.ko $(prefix)/release/lib/modules || true

	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/simu_button/simu_button.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cic/*.ko $(prefix)/release/lib/modules/
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/button/button.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/button/button.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec/cec.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec/cec.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cpu_frequ/cpu_frequ.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cpu_frequ/cpu_frequ.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/led/led.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/led/led.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti/pti.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti/pti.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti_np/pti.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti_np/pti.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard/smartcard.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard/smartcard.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/autofs4/autofs4.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/autofs4/autofs4.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/net/tun.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/net/tun.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/ftdi_sio.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/ftdi_sio.ko $(prefix)/release/lib/modules/ftdi_sio.ko || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/pl2303.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/pl2303.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/usbserial.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/usbserial.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/fuse/fuse.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/fuse/fuse.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/ntfs/ntfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/ntfs/ntfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/cifs/cifs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/cifs/cifs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/jfs/jfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/jfs/jfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfsd/nfsd.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfsd/nfsd.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/exportfs/exportfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/exportfs/exportfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs_common/nfs_acl.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs_common/nfs_acl.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs/nfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs/nfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/mt7601Usta/mt7601Usta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/mt7601Usta/mt7601Usta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt2870sta/rt2870sta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt2870sta/rt2870sta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt3070sta/rt3070sta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt3070sta/rt3070sta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt5370sta/rt5370sta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt5370sta/rt5370sta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl871x/8712u.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl871x/8712u.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8188eu/8188eu.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8188eu/8188eu.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8192cu/8192cu.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8192cu/8192cu.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/sata_switch/sata.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/sata_switch/sata.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/mini_fo/mini_fo.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/mini_fo/mini_fo.ko $(prefix)/release/lib/modules || true

#
# lib usr/lib
#
	cp -R $(targetprefix)/lib/* $(prefix)/release/lib/
	chmod 755 $(prefix)/release/lib/*
	ln -s /var/tuxbox/plugins/libfx2.so $(prefix)/release/lib/libfx2.so

	cp -R $(targetprefix)/usr/lib/* $(prefix)/release/usr/lib/
	chmod 755 $(prefix)/release/usr/lib/*

#
# fonts
#
	if [ -e $(targetprefix)/usr/share/fonts/neutrino.ttf ]; then \
		cp -aR $(targetprefix)/usr/share/fonts/neutrino.ttf $(prefix)/release/usr/share/fonts; \
	fi
	if [ -e $(targetprefix)/usr/share/fonts/micron.ttf ]; then \
		cp -aR $(targetprefix)/usr/share/fonts/micron.ttf $(prefix)/release/usr/share/fonts; \
	fi
	if [ -e $(targetprefix)/usr/share/fonts/DejaVuLGCSansMono-Bold.ttf ]; then \
		cp -aR $(targetprefix)/usr/share/fonts/DejaVuLGCSansMono-Bold.ttf $(prefix)/release/usr/share/fonts; \
		ln -s /usr/share/fonts/DejaVuLGCSansMono-Bold.ttf $(prefix)/release/usr/share/fonts/tuxtxt.ttf; \
	fi

#
# neutrino
#
	ln -sf /usr/share $(prefix)/release/usr/local/share
	cp $(targetprefix)/usr/local/bin/neutrino $(prefix)/release/usr/local/bin/
	cp $(targetprefix)/usr/local/bin/pzapit $(prefix)/release/usr/local/bin/
	cp $(targetprefix)/usr/local/bin/sectionsdcontrol $(prefix)/release/usr/local/bin/
	if [ -e $(targetprefix)/usr/local/bin/luaclient ]; then \
		cp $(targetprefix)/usr/local/bin/luaclient $(prefix)/release/bin/; \
	fi
	if [ -e $(targetprefix)/usr/local/bin/rcsim ]; then \
		cp $(targetprefix)/usr/local/bin/rcsim $(prefix)/release/bin/; \
	fi
	if [ -e $(targetprefix)/usr/local/sbin/udpstreampes ]; then \
		cp $(targetprefix)/usr/local/sbin/udpstreampes $(prefix)/release/usr/local/sbin/; \
	fi
	if [ -e $(targetprefix)/usr/local/bin/udpstreampes ]; then \
		cp $(targetprefix)/usr/local/bin/udpstreampes $(prefix)/release/usr/local/bin/; \
	fi

#
# channellist / tuxtxt
#
	cp -aR $(targetprefix)/var/tuxbox/config/* $(prefix)/release/var/tuxbox/config

#
# copy root_neutrino
#
	cp -aR $(buildprefix)/root/root_neutrino/* $(prefix)/release/

	rm -f $(prefix)/release/var/tuxbox/config/cables.xml
	rm -f $(prefix)/release/var/tuxbox/config/terrestrial.xml

#
# iso-codes
#
	cp -aR $(targetprefix)/usr/local/share/iso-codes $(prefix)/release/usr/share/

#
# httpd/icons/locale/themes
#
	cp -aR $(targetprefix)/usr/share/tuxbox/neutrino/* $(prefix)/release/usr/share/tuxbox/neutrino

#
# backup/restore NMP
#
	[ -e $(targetprefix)/usr/local/bin/backup.sh ] && cp -aR $(targetprefix)/usr/local/bin/backup.sh $(prefix)/release/bin || true
	[ -e $(targetprefix)/usr/local/bin/restore.sh ] && cp -aR $(targetprefix)/usr/local/bin/restore.sh $(prefix)/release/bin || true

#
# WLAN
#
	if [ -e $(targetprefix)/usr/sbin/ifrename ]; then \
		cp -dp $(targetprefix)/usr/sbin/ifrename $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwconfig $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwevent $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwgetid $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwlist $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwpriv $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwspy $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/wpa_cli $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/wpa_passphrase $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/wpa_supplicant $(prefix)/release/usr/sbin/; \
	fi

#
# alsa
#
	if [ -e $(targetprefix)/usr/share/alsa ]; then \
		mkdir -p $(prefix)/release/usr/share/alsa/; \
		cp -dp $(targetprefix)/usr/share/alsa/alsa.conf $(prefix)/release/usr/share/alsa/alsa.conf; \
	fi

#
# NFS-UTILS
#
	if [ -e $(targetprefix)/usr/sbin/rpc.nfsd ]; then \
		cp -f $(targetprefix)/etc/exports $(prefix)/release/etc/; \
		cp -f $(targetprefix)/etc/init.d/nfs-common $(prefix)/release/etc/init.d/; \
		cp -f $(targetprefix)/etc/init.d/nfs-kernel-server $(prefix)/release/etc/init.d/; \
		cp -f $(targetprefix)/usr/sbin/exportfs $(prefix)/release/usr/sbin/; \
		cp -f $(targetprefix)/usr/sbin/rpc.nfsd $(prefix)/release/usr/sbin/; \
		cp -f $(targetprefix)/usr/sbin/rpc.mountd $(prefix)/release/usr/sbin/; \
		cp -f $(targetprefix)/usr/sbin/rpc.statd $(prefix)/release/usr/sbin/; \
	fi

#
# AUTOFS
#
	if [ -d $(prefix)/release/usr/lib/autofs ]; then \
		cp -f $(targetprefix)/usr/sbin/automount $(prefix)/release/usr/sbin/; \
		cp -f $(buildprefix)/root/etc/auto.hotplug $(prefix)/release/etc/; \
		cp -f $(buildprefix)/root/etc/auto.network $(prefix)/release/etc/; \
		cp -f $(buildprefix)/root/etc/init.d/autofs $(prefix)/release/etc/init.d/; \
		ln -s /usr/sbin/automount $(prefix)/release/sbin/automount; \
	fi

#
# GRAPHLCD
#
	if [ -e $(prefix)/release/usr/lib/libglcddrivers.so ]; then \
		cp -f $(targetprefix)/etc/graphlcd.conf $(prefix)/release/etc/graphlcd.conf; \
		rm -f $(prefix)/release/usr/lib/libglcdskin.so*; \
	fi

#
# minidlna
#
	if [ -e $(targetprefix)/usr/sbin/minidlnad ]; then \
		cp -f $(targetprefix)/usr/sbin/minidlnad $(prefix)/release/usr/sbin/; \
	fi

#
# openvpn
#
	if [ -e $(targetprefix)/usr/sbin/openvpn ]; then \
		cp -f $(targetprefix)/usr/sbin/openvpn $(prefix)/release/usr/sbin; \
		$(INSTALL_DIR) $(prefix)/release/etc/openvpn; \
	fi

#
# udpxy
#
	if [ -e $(targetprefix)/usr/bin/udpxy ]; then \
		cp -f $(targetprefix)/usr/bin/udpxy $(prefix)/release/usr/bin; \
		cp -a $(targetprefix)/usr/bin/udpxrec $(prefix)/release/usr/bin; \
	fi

#
# xupnpd
#
	if [ -e $(targetprefix)/usr/bin/xupnpd ]; then \
		cp -f $(targetprefix)/usr/bin/xupnpd $(prefix)/release/usr/bin; \
		cp -aR $(targetprefix)/usr/share/xupnpd $(prefix)/release/usr/share; \
		mkdir -p $(prefix)/release/usr/share/xupnpd/playlists; \
	fi

#
# lua
#
	if [ -d $(targetprefix)/usr/share/lua ]; then \
		cp -aR $(targetprefix)/usr/share/lua $(prefix)/release/usr/share; \
	fi

#
# Plugins
#
	if [ -e $(targetprefix)/var/tuxbox/plugins/libfx2.so ]; then \
		cp -f $(targetprefix)/var/tuxbox/plugins/*.so $(prefix)/release/var/tuxbox/plugins; \
		cp -f $(targetprefix)/var/tuxbox/plugins/*.cfg $(prefix)/release/var/tuxbox/plugins; \
		cp -af $(targetprefix)/bin/{shellexec,msgbox,getrc,input} $(prefix)/release/bin; \
	fi
	if [ -e $(prefix)/release/var/tuxbox/plugins/tuxwetter.so ]; then \
		cp -rf $(targetprefix)/var/tuxbox/config/tuxwetter $(prefix)/release/var/tuxbox/config; \
	fi
	if [ -e $(prefix)/release/var/tuxbox/plugins/soko.so ]; then \
		cp -rf $(targetprefix)/usr/share/tuxbox/sokoban $(prefix)/release/var/tuxbox/plugins; \
		ln -s /var/tuxbox/plugins/sokoban $(prefix)/release/usr/share/tuxbox/sokoban; \
	fi

	if [ -e $(targetprefix)/var/tuxbox/plugins/tuxcom.so -a -e $(targetprefix)/var/tuxbox/plugins/tuxcom.cfg ]; then \
		cp -f $(targetprefix)/var/tuxbox/plugins/tuxcom* $(prefix)/release/var/tuxbox/plugins; \
	fi

#
# shairport
#
	if [ -e $(targetprefix)/usr/bin/shairport ]; then \
		cp -f $(targetprefix)/usr/bin/shairport $(prefix)/release/usr/bin; \
		cp -f $(targetprefix)/usr/bin/mDNSPublish $(prefix)/release/usr/bin; \
		cp -f $(targetprefix)/usr/bin/mDNSResponder $(prefix)/release/usr/bin; \
		cp -f $(buildprefix)/root/etc/init.d/shairport $(prefix)/release/etc/init.d/shairport; \
		chmod 755 $(prefix)/release/etc/init.d/shairport; \
		cp -f $(targetprefix)/usr/lib/libhowl.so* $(prefix)/release/usr/lib; \
		cp -f $(targetprefix)/usr/lib/libmDNSResponder.so* $(prefix)/release/usr/lib; \
	fi

#
# Neutrino HD2 Workaround Build in Player
#
	if [ -e $(targetprefix)/usr/local/bin/eplayer3 ]; then \
		cp -f $(targetprefix)/usr/local/bin/eplayer3 $(prefix)/release/bin/; \
		cp -f $(targetprefix)/usr/local/bin/meta $(prefix)/release/bin/; \
	fi

#
# delete unnecessary files
#
	rm -f $(prefix)/release/lib/*.{a,o,la}
	rm -rf $(prefix)/release/usr/lib/{engines,enigma2,gconv,libxslt-plugins,pkgconfig,python$(PYTHON_VERSION),sigc++-2.0}
	rm -f $(prefix)/release/usr/lib/*.{a,o,la}
	rm -f $(prefix)/release/usr/lib/lua/5.2/*.la
	rm -rf $(prefix)/release/lib/autofs
	rm -f $(prefix)/release/lib/libSegFault*
	rm -f $(prefix)/release/lib/libthread_db*
	rm -f $(prefix)/release/lib/libanl*
	rm -rf $(prefix)/release/usr/lib/m4-nofpu/
	rm -f $(prefix)/release/lib/modules/lzo*.ko
	rm -rf $(prefix)/release/lib/modules/$(KERNELVERSION)
	rm -rf $(prefix)/release/usr/lib/alsa-lib
	rm -rf $(prefix)/release/usr/lib/alsaplayer
	rm -rf $(prefix)/release/usr/lib/audit
	rm -rf $(prefix)/release/usr/lib/glib-2.0
#	rm -f $(prefix)/release/usr/lib/libexpat*
	rm -f $(prefix)/release/usr/lib/xml2Conf.sh
	rm -f $(prefix)/release/usr/lib/libfontconfig*
	rm -f $(prefix)/release/usr/lib/libtermcap*
	rm -f $(prefix)/release/usr/lib/libmenu*
	rm -f $(prefix)/release/usr/lib/libpanel*
	rm -f $(prefix)/release/usr/lib/libdvdcss*
	rm -f $(prefix)/release/usr/lib/libdvdnav*
	rm -f $(prefix)/release/usr/lib/libdvdread*
	rm -f $(prefix)/release/usr/lib/libncurses*
	rm -f $(prefix)/release/usr/lib/libthread_db*
	rm -f $(prefix)/release/usr/lib/libanl*
	rm -f $(prefix)/release/usr/lib/libopkg*
	rm -f $(prefix)/release/bin/gitVCInfo
	rm -f $(prefix)/release/bin/libstb-hal-test
	rm -f $(prefix)/release/bin/wdctl

#
# The main target depends on the model.
# IMPORTANT: it is assumed that only one variable is set. Otherwise the target name won't be resolved.
#
$(D)/release_neutrino: \
$(D)/%release_neutrino: release_neutrino_base release_neutrino_$(TF7700)$(HL101)$(VIP1_V2)$(VIP2_V1)$(UFS910)$(UFS912)$(UFS913)$(UFS922)$(UFC960)$(SPARK)$(SPARK7162)$(OCTAGON1008)$(FORTIS_HDBOX)$(ATEVIO7500)$(HS7110)$(HS7810A)$(HS7119)$(HS7819)$(ATEMIO520)$(ATEMIO530)$(CUBEREVO)$(CUBEREVO_MINI)$(CUBEREVO_MINI2)$(CUBEREVO_MINI_FTA)$(CUBEREVO_250HD)$(CUBEREVO_2000HD)$(CUBEREVO_9500HD)$(IPBOX9900)$(IPBOX99)$(IPBOX55)$(ADB_BOX)$(VITAMIN_HD5000)$(SAGEMCOM88)$(ADB5800)
	touch $@

#
# FOR YOUR OWN CHANGES use these folder in cdk/own_build/neutrino-hd
#
#	default for all receiver
	find $(buildprefix)/own_build/neutrino-hd/ -mindepth 1 -maxdepth 1 -exec cp -at$(prefix)/release/ -- {} +
#	receiver specific (only if directory exist)
	[ -d "$(buildprefix)/own_build/neutrino-hd.$(BOXTYPE)" ] && find $(buildprefix)/own_build/neutrino-hd.$(BOXTYPE)/ -mindepth 1 -maxdepth 1 -exec cp -at$(prefix)/release/ -- {} + || true
	echo $(BOXTYPE) > $(prefix)/release/etc/model
	rm -f $(prefix)/release/for_your_own_changes

# nicht die feine Art, aber funktioniert ;)
	cp -dpfr $(prefix)/release/etc $(prefix)/release/var
	rm -fr $(prefix)/release/etc
	ln -sf /var/etc $(prefix)/release

	ln -s /tmp $(prefix)/release/lib/init
	ln -s /tmp $(prefix)/release/var/lib/urandom
	ln -s /tmp $(prefix)/release/var/lock
	ln -s /tmp $(prefix)/release/var/log
	ln -s /tmp $(prefix)/release/var/run
	ln -s /tmp $(prefix)/release/var/tmp

#
#
#
	mv -f $(prefix)/release/usr/share/tuxbox/neutrino/icons/scan.jpg $(prefix)/release/var/boot/
	ln -s /var/boot/scan.jpg $(prefix)/release/usr/share/tuxbox/neutrino/icons/
	mv -f $(prefix)/release/usr/share/tuxbox/neutrino/icons/mp3.jpg $(prefix)/release/var/boot/
	ln -s /var/boot/mp3.jpg $(prefix)/release/usr/share/tuxbox/neutrino/icons/
	rm -f $(prefix)/release/usr/share/tuxbox/neutrino/icons/mp3-?.jpg
	mv -f $(prefix)/release/usr/share/tuxbox/neutrino/icons/shutdown.jpg $(prefix)/release/var/boot/
	ln -s /var/boot/shutdown.jpg $(prefix)/release/usr/share/tuxbox/neutrino/icons/
	mv -f $(prefix)/release/usr/share/tuxbox/neutrino/icons/radiomode.jpg $(prefix)/release/var/boot/
	ln -s /var/boot/radiomode.jpg $(prefix)/release/usr/share/tuxbox/neutrino/icons/
	mv -f $(prefix)/release/usr/share/tuxbox/neutrino/icons/start.jpg $(prefix)/release/var/boot/
	ln -s /var/boot/start.jpg $(prefix)/release/usr/share/tuxbox/neutrino/icons/

	rm -f $(prefix)/release/bin/pic2m2v
	rm -f $(prefix)/release/usr/lib/*.py
	rm -f $(prefix)/release/usr/share/tuxbox/neutrino/httpd/images/rc_cst_v?.*
	rm -f $(prefix)/release/usr/share/tuxbox/neutrino/httpd/images/rc_spark_new.jpg
	rm -f $(prefix)/release/usr/share/tuxbox/neutrino/httpd/images/rc_spark_old.jpg

#
# sh4-linux-strip all
#
	find $(prefix)/release/ -name '*' -exec sh4-linux-strip --strip-unneeded {} &>/dev/null \;

#
# release-clean
#
release-neutrino-clean:
	rm -f $(D)/release_neutrino

#
# release_common_utils
#
release_tvheadend_common_utils:
#	remove the slink to busybox
	rm -f $(prefix)/release/sbin/halt
	cp -f $(targetprefix)/sbin/halt $(prefix)/release/sbin/
	cp -f $(targetprefix)/etc/init.d/umountfs $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/sendsigs $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/reboot $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/rc $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/network $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/networking $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/mountvirtfs $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/mountall $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/hostname $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/vsftpd $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/bootclean.sh $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/getfb.awk $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/makedev $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/udhcpc $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/autofs $(prefix)/release/etc/init.d/
	cp -f $(targetprefix)/etc/init.d/swap $(prefix)/release/etc/init.d/
	mkdir -p $(prefix)/release/etc/rc.d/rc0.d
	ln -s ../init.d $(prefix)/release/etc/rc.d
	ln -fs halt $(prefix)/release/sbin/reboot
	ln -fs halt $(prefix)/release/sbin/poweroff
	ln -s ../init.d/sendsigs $(prefix)/release/etc/rc.d/rc0.d/S20sendsigs
	ln -s ../init.d/umountfs $(prefix)/release/etc/rc.d/rc0.d/S40umountfs
	ln -s ../init.d/halt $(prefix)/release/etc/rc.d/rc0.d/S90halt
	mkdir -p $(prefix)/release/etc/rc.d/rc6.d
	ln -s ../init.d/sendsigs $(prefix)/release/etc/rc.d/rc6.d/S20sendsigs
	ln -s ../init.d/umountfs $(prefix)/release/etc/rc.d/rc6.d/S40umountfs
	ln -s ../init.d/reboot $(prefix)/release/etc/rc.d/rc6.d/S90reboot

#
# release_cube_common
#
release_tvheadend_cube_common:
	cp $(buildprefix)/root/release/halt_cuberevo $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(buildprefix)/root/release/reboot_cuberevo $(prefix)/release/etc/init.d/reboot
	chmod 777 $(prefix)/release/etc/init.d/reboot
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/bin/eeprom $(prefix)/release/bin
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox/micom.ko $(prefix)/release/lib/modules/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx21143}.fw
#	rm -f $(prefix)/release/bin/vfdctl

#
# release_cube_common_tuner
#
release_tvheadend_cube_common_tuner:
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/multituner/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/media/dvb/frontends/dvb-pll.ko $(prefix)/release/lib/modules/

#
# release_cuberevo_9500hd
#
release_tvheadend_cuberevo_9500hd: release_tvheadend_common_utils release_tvheadend_cube_common release_tvheadend_cube_common_tuner
	echo "cuberevo-9500hd" > $(prefix)/release/etc/hostname

#
# release_cuberevo_2000hd
#
release_tvheadend_cuberevo_2000hd: release_tvheadend_common_utils release_tvheadend_cube_common release_tvheadend_cube_common_tuner
	echo "cuberevo-2000hd" > $(prefix)/release/etc/hostname

#
# release_cuberevo_250hd
#
release_tvheadend_cuberevo_250hd: release_tvheadend_common_utils release_tvheadend_cube_common release_tvheadend_cube_common_tuner
	echo "cuberevo-250hd" > $(prefix)/release/etc/hostname

#
# release_cuberevo_mini_fta
#
release_tvheadend_cuberevo_mini_fta: release_tvheadend_common_utils release_tvheadend_cube_common release_tvheadend_cube_common_tuner
	echo "cuberevo-mini-fta" > $(prefix)/release/etc/hostname

#
# release_cuberevo_mini2
#
release_tvheadend_cuberevo_mini2: release_tvheadend_common_utils release_tvheadend_cube_common release_tvheadend_cube_common_tuner
	echo "cuberevo-mini2" > $(prefix)/release/etc/hostname

#
# release_cuberevo_mini
#
release_tvheadend_cuberevo_mini: release_tvheadend_common_utils release_tvheadend_cube_common release_tvheadend_cube_common_tuner
	echo "cuberevo-mini" > $(prefix)/release/etc/hostname

#
# release_cuberevo
#
release_tvheadend_cuberevo: release_tvheadend_common_utils release_tvheadend_cube_common release_tvheadend_cube_common_tuner
	echo "cuberevo" > $(prefix)/release/etc/hostname

#
# release_common_ipbox
#
release_tvheadend_common_ipbox:
	cp $(buildprefix)/root/release/halt_ipbox $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/siinfo/siinfo.ko $(prefix)/release/lib/modules/
	cp -f $(buildprefix)/root/release/fstab_ipbox $(prefix)/release/etc/fstab
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	cp -dp $(buildprefix)/root/release/lircd_ipbox.conf $(prefix)/release/etc/lircd.conf
	cp -p $(buildprefix)/root/release/lircd_ipbox $(prefix)/release/usr/bin/lircd
	rm -f $(prefix)/release/lib/firmware/*
	rm -f $(prefix)/release/lib/modules/boxtype.ko
	rm -f $(prefix)/release/lib/modules/bpamem.ko
	rm -f $(prefix)/release/lib/modules/ramzswap.ko
	rm -f $(prefix)/release/lib/modules/simu_button.ko
	rm -f $(prefix)/release/lib/modules/stmvbi.ko
	rm -f $(prefix)/release/lib/modules/stmvout.ko
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/etc/network/interfaces

#
# release_ipbox9900
#
release_tvheadend_ipbox9900: release_tvheadend_common_utils release_tvheadend_common_ipbox
	echo "ipbox9900" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox99xx/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/rmu/rmu.ko $(prefix)/release/lib/modules/
	cp -p $(buildprefix)/root/release/tvmode_ipbox $(prefix)/release/usr/bin/tvmode

#
# release_ipbox99
#
release_tvheadend_ipbox99: release_tvheadend_common_utils release_tvheadend_common_ipbox
	echo "ipbox99" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox99xx/micom.ko $(prefix)/release/lib/modules/
	cp -p $(buildprefix)/root/release/tvmode_ipbox $(prefix)/release/usr/bin/tvmode

#
# release_ipbox55
#
release_tvheadend_ipbox55: release_tvheadend_common_utils release_tvheadend_common_ipbox
	echo "ipbox55" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/ipbox55/front.ko $(prefix)/release/lib/modules/
	cp -p $(buildprefix)/root/release/tvmode_ipbox55 $(prefix)/release/usr/bin/tvmode

#
# release_ufs910
#
release_tvheadend_ufs910: release_tvheadend_common_utils
	echo "ufs910" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/vfd/vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/lib/firmware/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,stv6306}.fw
	mv $(prefix)/release/lib/firmware/dvb-fe-cx21143.fw $(prefix)/release/lib/firmware/dvb-fe-cx24116.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm $(prefix)/release/lib/firmware/component_7111_mb618.fw
	cp -dp $(buildprefix)/root/release/lircd_ufs910.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	rm -f $(prefix)/release/bin/vdstandby
	rm -f $(prefix)/release/bin/eeprom

#
# release_ufs912
#
release_tvheadend_ufs912: release_tvheadend_common_utils
	echo "ufs912" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom

#
# release_ufs913
#
release_tvheadend_ufs913: release_tvheadend_common_utils
	echo "ufs913" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/multituner/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom

#
# release_ufs922
#
release_tvheadend_ufs922: release_tvheadend_common_utils
	echo "ufs922" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/ufs922_fan/fan_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom

#
# release_ufc960
#
release_tvheadend_ufc960: release_tvheadend_common_utils
	echo "ufc960" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/micom/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/eeprom

#
# release_spark
#
release_tvheadend_spark: release_tvheadend_common_utils
	echo "spark" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_spark $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom_spark/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/vdstandby
	rm -f $(prefix)/release/bin/eeprom
	cp -dp $(buildprefix)/root/release/lircd_spark.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	cp -f $(buildprefix)/root/sbin/flash_* $(prefix)/release/sbin
	cp -f $(buildprefix)/root/sbin/nand* $(prefix)/release/sbin

#
# release_spark7162
#
release_tvheadend_spark7162: release_tvheadend_common_utils
	echo "spark7162" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_spark7162 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom_spark/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp -f $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/i2c_spi/i2s.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/gotosleep
	rm -f $(prefix)/release/bin/vdstandby
	rm -f $(prefix)/release/bin/eeprom
	cp -f $(buildprefix)/root/sbin/flashcp $(prefix)/release/sbin
	cp -f $(buildprefix)/root/sbin/flash_* $(prefix)/release/sbin
	cp -f $(buildprefix)/root/sbin/nand* $(prefix)/release/sbin

#
# release_fortis_hdbox
#
release_tvheadend_fortis_hdbox: release_tvheadend_common_utils
	echo "fortis" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_fortis_hdbox $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/eeprom

#
# release_atevio7500
#
release_tvheadend_atevio7500: release_tvheadend_common_utils
	echo "atevio7500" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_fortis_hdbox $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/multituner/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	cp $(targetprefix)/lib/firmware/dvb-fe-avl2108.fw $(prefix)/release/lib/firmware/
	cp $(targetprefix)/lib/firmware/dvb-fe-stv6306.fw $(prefix)/release/lib/firmware/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	rm -f $(prefix)/release/lib/modules/boxtype.ko
	rm -f $(prefix)/release/lib/modules/mpeg2hw.ko
	rm -f $(prefix)/release/bin/eeprom

#
# release_octagon1008
#
release_tvheadend_octagon1008: release_tvheadend_common_utils
	echo "octagon1008" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_octagon1008 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/lib/firmware/dvb-fe-avl2108.fw $(prefix)/release/lib/firmware/
	cp $(targetprefix)/lib/firmware/dvb-fe-stv6306.fw $(prefix)/release/lib/firmware/
	rm -f $(prefix)/release/lib/firmware/component_7111_mb618.fw
	rm -f $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	rm -f $(prefix)/release/bin/eeprom

#
# release_hs7110
#
release_tvheadend_hs7110: release_tvheadend_common_utils
	echo "hs7110" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7110 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_hs7810a
#
release_tvheadend_hs7810a: release_tvheadend_common_utils
	echo "hs7810a" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7810a $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_hs7119
#
release_tvheadend_hs7119: release_tvheadend_common_utils
	echo "hs7119" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7119 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_hs7819
#
release_tvheadend_hs7819: release_tvheadend_common_utils
	echo "hs7819" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hs7819 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/nuvoton/nuvoton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_atemio520
#
release_tvheadend_atemio520: release_tvheadend_common_utils
	echo "atemio520" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_atemio520 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/cn_micom/cn_micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_atemio530
#
release_tvheadend_atemio530: release_tvheadend_common_utils
	echo "atemio530" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_atemio530 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/cn_micom/cn_micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/lnb/lnb.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw

#
# release_hl101
#
release_tvheadend_hl101: release_tvheadend_common_utils
	echo "hl101" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_hl101 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/proton/proton.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/lib/firmware/dvb-fe-avl2108.fw $(prefix)/release/lib/firmware/
	cp $(targetprefix)/lib/firmware/dvb-fe-stv6306.fw $(prefix)/release/lib/firmware/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	cp -dp $(buildprefix)/root/release/lircd_hl101.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/

#
# release_adb_box
#
release_tvheadend_adb_box: release_tvheadend_common_utils
	echo "Adb_Box" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_adb_box $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/adb_box_vfd/vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/adb_box_fan/fan_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec_adb_box/cec_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/dvbt/as102/dvb-as102.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/lib/firmware/video.elf
	cp $(buildprefix)/root/firmware/as102_data1_st.hex $(prefix)/release/lib/firmware/
	cp $(buildprefix)/root/firmware/as102_data2_st.hex $(prefix)/release/lib/firmware/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	cp -f $(buildprefix)/root/release/fstab_adb_box $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_adb_box.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/lircd

#
# release_vip1_v2
#
release_tvheadend_vip1_v2: release_tvheadend_common_utils
	echo "Edision-v2" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_vip2 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/release/fstab_vip2 $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_vip1_v2.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/

#
# release_vip2_v1
#
release_tvheadend_vip2_v1: release_tvheadend_common_utils
	echo "Edision-v1" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_vip2 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/aotom/aotom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx24116,cx21143,stv6306}.fw
	cp -f $(buildprefix)/root/release/fstab_vip2 $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_vip2_v1.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/

#
# release_hs5101
#
release_tvheadend_hs5101: release_tvheadend_common_utils
	echo "hs5101" > $(prefix)/release/etc/hostname
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/button_hs5101/button.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/vfd_hs5101/vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/lib/firmware/video.elf
	cp -dp $(buildprefix)/root/release/lircd_hs5101.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,avl6222,cx21143,stv6306}.fw
	rm -f $(prefix)/release/bin/vdstandby

#
# release_tf7700
#
release_tvheadend_tf7700: release_tvheadend_common_utils
	echo "tf7700" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_tf7700 $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/tffp/tffp.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7109c3.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7109.elf $(prefix)/release/lib/firmware/video.elf
	cp -f $(buildprefix)/root/release/fstab_tf7700 $(prefix)/release/etc/fstab

#
# release_vitamin_hd5000
#
release_tvheadend_vitamin_hd5000: release_tvheadend_common_utils
	echo "vitamin_hd5000" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7111.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/vitamin_hd5000/micom.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard/smartcard.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7111.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7111.elf $(prefix)/release/lib/firmware/audio.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,cx24116,cx21143,stv6306}.fw
	mv $(prefix)/release/lib/firmware/component_7111_mb618.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7105_pdk7105.fw

#
# release_SAGEMCOM88
#
release_tvheadend_sagemcom88: release_tvheadend_common_utils
	echo "sagemcom88" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_ufs912 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-sti7105.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_led/front_led.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_vfd/front_vfd.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/sagemcomtype/sagemcomtype.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7105.elf $(prefix)/release/lib/firmware/video.elf
	cp $(targetprefix)/boot/audio_7105.elf $(prefix)/release/lib/firmware/audio.elf
	[ -e $(buildprefix)/root/release/fe_core_sagemcom88$(KERNELSTMLABEL).ko ] && cp $(buildprefix)/root/release/fe_core_sagemcom88$(KERNELSTMLABEL).ko $(prefix)/release/lib/modules/fe_core.ko || true
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl2108,cx24116,cx21143,stv6306}.fw
	mv $(prefix)/release/lib/firmware/component_7105_pdk7105.fw $(prefix)/release/lib/firmware/component.fw
	rm $(prefix)/release/lib/firmware/component_7111_mb618.fw
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/sbin/lircmd $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irexec $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irrecord $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irsend $(prefix)/release/usr/bin/
	cp -p $(targetprefix)/usr/bin/irw $(prefix)/release/usr/bin/
	cp -dp $(buildprefix)/root/release/lircd_sagemcom88.conf $(prefix)/release/etc/lircd.conf

#
# release_adb5800
#
release_tvheadend_adb5800: release_tvheadend_common_utils
	echo "ADB5800" > $(prefix)/release/etc/hostname
	cp $(buildprefix)/root/release/halt_adb_box $(prefix)/release/etc/init.d/halt
	chmod 755 $(prefix)/release/etc/init.d/halt
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_bska/front_bska.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontcontroller/front_bsla/front_bsla.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/frontends/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmcore-display-stx7100.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/adb_box_fan/fan_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec_adb_box/cec_ctrl.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard_nbox/smartcard.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/dvbt/as102/dvb-as102.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/dvbt/siano/*.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/boot/video_7100.elf $(prefix)/release/boot/video.elf
	rm -f $(prefix)/release/lib/firmware/dvb-fe-{avl6222,cx24116,cx21143}.fw
	cp -f $(buildprefix)/root/release/fstab_adb_box $(prefix)/release/etc/fstab
	cp -dp $(buildprefix)/root/release/lircd_adb_box.conf $(prefix)/release/etc/lircd.conf
	cp -p $(targetprefix)/usr/sbin/lircd $(prefix)/release/usr/bin/lircd
	mkdir -p $(prefix)/release/var/run/lirc
	rm -f $(prefix)/release/bin/vdstandby
	cp -f $(buildprefix)/root/root_enigma2/usr/local/share/enigma2/keymap_adb_box.xml $(prefix)/release/usr/local/share/enigma2/keymap.xml

#
# release_base
#
# the following target creates the common file base
release_tvheadend_base:
	rm -rf $(prefix)/release || true
	$(INSTALL_DIR) $(prefix)/release && \
	$(INSTALL_DIR) $(prefix)/release/{bin,boot,dev,dev.static,etc,hdd,lib,media,mnt,proc,ram,root,sbin,swap,sys,tmp,usr,var} && \
	$(INSTALL_DIR) $(prefix)/release/etc/{init.d,network,mdev} && \
	$(INSTALL_DIR) $(prefix)/release/etc/network/{if-down.d,if-post-down.d,if-pre-up.d,if-up.d} && \
	$(INSTALL_DIR) $(prefix)/release/lib/{modules,udev,firmware} && \
	$(INSTALL_DIR) $(prefix)/release/media/{dvd,nfs,usb,sda1,sdb1} && \
	ln -sf /hdd $(prefix)/release/media/hdd && \
	$(INSTALL_DIR) $(prefix)/release/mnt/{hdd,nfs,usb} && \
	$(INSTALL_DIR) $(prefix)/release/usr/{bin,lib,local,share} && \
	$(INSTALL_DIR) $(prefix)/release/usr/local/{bin,sbin} && \
	$(INSTALL_DIR) $(prefix)/release/usr/share/{fonts,udhcpc,zoneinfo} && \
	$(INSTALL_DIR) $(prefix)/release/usr/local/share/tvheadend && \
	cp -a $(targetprefix)/usr/local/share/tvheadend/* $(prefix)/release/usr/local/share/tvheadend/ && \
	ln -sf /usr/share $(prefix)/release/share && \
	$(INSTALL_DIR) $(prefix)/release/var/{bin,boot,etc,httpd,lib,update} && \
	$(INSTALL_DIR) $(prefix)/release/var/lib/nfs && \
	touch $(prefix)/release/var/etc/.firstboot && \
	cp -a $(targetprefix)/bin/* $(prefix)/release/bin/ && \
	cp -dp $(targetprefix)/sbin/init $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/killall5 $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/portmap $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/hd-idle $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/mke2fs $(prefix)/release/sbin/ && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext2 && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext3 && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext4 && \
	ln -sf /sbin/mke2fs $(prefix)/release/sbin/mkfs.ext4dev && \
	cp -dp $(targetprefix)/sbin/fsck $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/e2fsck $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/shutdown $(prefix)/release/sbin/ && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext2 && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext3 && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext4 && \
	ln -sf /sbin/e2fsck $(prefix)/release/sbin/fsck.ext4dev && \
	cp -dp $(targetprefix)/sbin/sfdisk $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/tune2fs $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/etc/init.d/portmap $(prefix)/release/etc/init.d/ && \
	cp -dp $(buildprefix)/root/sbin/MAKEDEV $(prefix)/release/sbin/MAKEDEV && \
	ln -sf ../sbin/MAKEDEV $(prefix)/release/dev/MAKEDEV && \
	ln -sf ../../sbin/MAKEDEV $(prefix)/release/lib/udev/MAKEDEV && \
	cp $(targetprefix)/boot/uImage $(prefix)/release/boot/ && \
	cp $(targetprefix)/boot/audio.elf $(prefix)/release/lib/firmware/audio.elf && \
	cp -dp $(targetprefix)/etc/fstab $(prefix)/release/etc/ && \
	cp -dp $(buildprefix)/root/etc/group $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/host.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/hostname $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/hosts $(prefix)/release/etc/ && \
	cp $(buildprefix)/root/root_tvheadend/etc/inetd.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/localtime $(prefix)/release/etc/ && \
	ln -sf /proc/mounts $(prefix)/release/etc/mtab && \
	cp -dp $(buildprefix)/root/etc/nsswitch.conf $(prefix)/release/etc/ && \
	cp -dp $(buildprefix)/root/etc/passwd $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/profile $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/protocols $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/resolv.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/services $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/shells $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/shells.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/vsftpd.conf $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/timezone.xml $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/vdstandby.cfg $(prefix)/release/etc/ && \
	cp -dp $(targetprefix)/etc/network/interfaces $(prefix)/release/etc/network/ && \
	cp -dp $(targetprefix)/etc/network/options $(prefix)/release/etc/network/ && \
	cp -aR $(buildprefix)/root/etc/mdev/* $(prefix)/release/etc/mdev/ && \
	cp -aR $(buildprefix)/root/usr/share/udhcpc/* $(prefix)/release/usr/share/udhcpc/ && \
	cp -aR $(buildprefix)/root/usr/share/zoneinfo/* $(prefix)/release/usr/share/zoneinfo/ && \
	echo "576i50" > $(prefix)/release/etc/videomode && \
	cp $(buildprefix)/root/release/rcS_tvheadend$(if $(TF7700),_$(TF7700))$(if $(OCTAGON1008),_$(OCTAGON1008))$(if $(FORTIS_HDBOX),_$(FORTIS_HDBOX))$(if $(ATEVIO7500),_$(ATEVIO7500))$(if $(HS7110),_$(HS7110))$(if $(HS7810A),_$(HS7810A))$(if $(HS7119),_$(HS7119))$(if $(HS7819),_$(HS7819))$(if $(ATEMIO520),_$(ATEMIO520))$(if $(ATEMIO530),_$(ATEMIO530))$(if $(HL101),_$(HL101))$(if $(VIP1_V2),_$(VIP1_V2))$(if $(VIP2_V1),_$(VIP2_V1))$(if $(ADB_BOX),_$(ADB_BOX))$(if $(UFS910),_$(UFS910))$(if $(UFS912),_$(UFS912))$(if $(UFS913),_$(UFS913))$(if $(UFS922),_$(UFS922))$(if $(CUBEREVO),_$(CUBEREVO))$(if $(CUBEREVO_MINI),_$(CUBEREVO_MINI))$(if $(CUBEREVO_MINI2),_$(CUBEREVO_MINI2))$(if $(CUBEREVO_MINI_FTA),_$(CUBEREVO_MINI_FTA))$(if $(CUBEREVO_250HD),_$(CUBEREVO_250HD))$(if $(CUBEREVO_2000HD),_$(CUBEREVO_2000HD))$(if $(CUBEREVO_9500HD),_$(CUBEREVO_9500HD))$(if $(SPARK),_$(SPARK))$(if $(SPARK7162),_$(SPARK7162))$(if $(ADB5800),_$(ADB5800)) $(prefix)/release/etc/init.d/rcS && \
	chmod 755 $(prefix)/release/etc/init.d/rcS && \
	export CROSS_COMPILE=$(target)- && \
		$(MAKE) install -C busybox-1.24.1 CONFIG_PREFIX=$(prefix)/release && \
	cp -dp $(targetprefix)/usr/bin/vsftpd $(prefix)/release/usr/bin/ && \
	cp $(buildprefix)/root/bin/autologin $(prefix)/release/bin/ && \
	cp $(buildprefix)/root/usr/sbin/fw_printenv $(prefix)/release/usr/sbin/ && \
	ln -sf ../../usr/sbin/fw_printenv $(prefix)/release/usr/sbin/fw_setenv && \
	cp -dp $(targetprefix)/sbin/hotplug $(prefix)/release/sbin/ && \
	cp -dp $(targetprefix)/sbin/blkid $(prefix)/release/sbin/ && \
	cp -p $(targetprefix)/usr/bin/ffmpeg $(prefix)/release/sbin/ && \
	ln -sf ../../bin/busybox $(prefix)/release/usr/bin/ether-wake && \
	cp -dp $(targetprefix)/sbin/mkfs $(prefix)/release/sbin/
	cp -dp $(targetprefix)/sbin/jfs_fsck $(prefix)/release/sbin/ && \
	ln -sf /sbin/jfs_fsck $(prefix)/release/sbin/fsck.jfs && \
	cp -dp $(targetprefix)/sbin/jfs_mkfs $(prefix)/release/sbin/ && \
	ln -sf /sbin/jfs_mkfs $(prefix)/release/sbin/mkfs.jfs && \
	cp -dp $(targetprefix)/sbin/jfs_tune $(prefix)/release/sbin/

	cp -dp $(buildprefix)/root/release/inittab$(if $(FORTIS_HDBOX)$(OCTAGON1008)$(CUBEREVO)$(CUBEREVO_MINI2)$(CUBEREVO_2000HD),_ttyAS1) $(prefix)/release/etc/inittab
	cp $(buildprefix)/root/release/fw_env.config$(if $(ATEVIO7500),_$(ATEVIO7500))$(if $(FORTIS_HDBOX),_$(FORTIS_HDBOX))$(if $(OCTAGON1008),_$(OCTAGON1008))$(if $(TF7700),_$(TF7700))$(if $(UFS910),_$(UFS910))$(if $(UFS912),_$(UFS912))$(if $(UFS913),_$(UFS913))$(if $(UFS922),_$(UFS922))$(if $(ADB_BOX),_$(ADB_BOX))$(if $(CUBEREVO),_$(CUBEREVO))$(if $(CUBEREVO_MINI),_$(CUBEREVO_MINI))$(if $(CUBEREVO_MINI2),_$(CUBEREVO_MINI2))$(if $(CUBEREVO_250HD),_$(CUBEREVO_250HD))$(if $(CUBEREVO_2000HD),_$(CUBEREVO_2000HD))$(if $(IPBOX9900),_$(IPBOX9900))$(if $(IPBOX99),_$(IPBOX99))$(if $(IPBOX55),_$(IPBOX55))$(if $(SPARK),_$(SPARK))$(if $(SPARK7162),_$(SPARK7162))$(if $(VITAMIN_HD5000),_$(VITAMIN_HD5000))$(if $(ADB5800),_$(ADB5800)) $(prefix)/release/etc/fw_env.config

#
# Player
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stm_v4l2.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stm_v4l2.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvbi.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvbi.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvout.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmvout.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmfb.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/stgfb/stmfb/stmfb.ko $(prefix)/release/lib/modules/ || true
	cd $(targetprefix)/lib/modules/$(KERNELVERSION)/extra && \
	for mod in \
		sound/pseudocard/pseudocard.ko \
		sound/silencegen/silencegen.ko \
		stm/mmelog/mmelog.ko \
		stm/monitor/stm_monitor.ko \
		media/dvb/stm/dvb/stmdvb.ko \
		sound/ksound/ksound.ko \
		media/dvb/stm/mpeg2_hard_host_transformer/mpeg2hw.ko \
		media/dvb/stm/backend/player2.ko \
		media/dvb/stm/h264_preprocessor/sth264pp.ko \
		media/dvb/stm/allocator/stmalloc.ko \
		stm/platform/platform.ko \
		stm/platform/p2div64.ko \
		media/sysfs/stm/stmsysfs.ko \
	;do \
		echo `pwd` player2/linux/drivers/$$mod; \
		if [ -e player2/linux/drivers/$$mod ]; then \
			cp player2/linux/drivers/$$mod $(prefix)/release/lib/modules/; \
			sh4-linux-strip --strip-unneeded $(prefix)/release/lib/modules/`basename $$mod`; \
		else \
			touch $(prefix)/release/lib/modules/`basename $$mod`; \
		fi; \
		echo "."; \
	done
	echo "touched";

#
# modules
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/avs/avs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/avs/avs.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/bpamem/bpamem.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/bpamem/bpamem.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/boxtype/boxtype.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/boxtype/boxtype.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/compcache/ramzswap.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/compcache/ramzswap.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/e2_proc/e2_proc.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/e2_proc/e2_proc.ko $(prefix)/release/lib/modules/ || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/net/ipv6/ipv6.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/net/ipv6/ipv6.ko $(prefix)/release/lib/modules || true

#
# multicom 324
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshell/embxshell.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshell/embxshell.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxmailbox/embxmailbox.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxmailbox/embxmailbox.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshm/embxshm.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/embxshm/embxshm.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/mme/mme_host.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/mme/mme_host.ko $(prefix)/release/lib/modules || true

#
# multicom 406
#
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embx/embx.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embx/embx.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxmailbox/embxmailbox.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxmailbox/embxmailbox.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxshm/embxshm.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/embxshm/embxshm.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics_user.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/ics/ics_user.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme_user.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/multicom/src/mme/mme_user.ko $(prefix)/release/lib/modules || true

	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/simu_button/simu_button.ko $(prefix)/release/lib/modules/
	cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cic/*.ko $(prefix)/release/lib/modules/
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/button/button.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/button/button.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec/cec.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cec/cec.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cpu_frequ/cpu_frequ.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/cpu_frequ/cpu_frequ.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/led/led.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/led/led.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti/pti.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti/pti.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti_np/pti.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/pti_np/pti.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard/smartcard.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/smartcard/smartcard.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/autofs4/autofs4.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/autofs4/autofs4.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/net/tun.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/net/tun.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/ftdi_sio.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/ftdi_sio.ko $(prefix)/release/lib/modules/ftdi_sio.ko || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/pl2303.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/pl2303.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/usbserial.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/drivers/usb/serial/usbserial.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/fuse/fuse.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/fuse/fuse.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/ntfs/ntfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/ntfs/ntfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/cifs/cifs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/cifs/cifs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/jfs/jfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/jfs/jfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfsd/nfsd.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfsd/nfsd.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/exportfs/exportfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/exportfs/exportfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs_common/nfs_acl.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs_common/nfs_acl.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs/nfs.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/nfs/nfs.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/mt7601Usta/mt7601Usta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/mt7601Usta/mt7601Usta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt2870sta/rt2870sta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt2870sta/rt2870sta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt3070sta/rt3070sta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt3070sta/rt3070sta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt5370sta/rt5370sta.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rt5370sta/rt5370sta.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl871x/8712u.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl871x/8712u.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8188eu/8188eu.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8188eu/8188eu.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8192cu/8192cu.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/wireless/rtl8192cu/8192cu.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/sata_switch/sata.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/extra/sata_switch/sata.ko $(prefix)/release/lib/modules || true
	[ -e $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/mini_fo/mini_fo.ko ] && cp $(targetprefix)/lib/modules/$(KERNELVERSION)/kernel/fs/mini_fo/mini_fo.ko $(prefix)/release/lib/modules || true

#
# lib usr/lib
#
	cp -R $(targetprefix)/lib/* $(prefix)/release/lib/

	cp -R $(targetprefix)/usr/lib/* $(prefix)/release/usr/lib/
	chmod 755 $(prefix)/release/usr/lib/*

#
# fonts
#

#
# tvheadend
#
	ln -sf /usr/share $(prefix)/release/usr/local/share
	cp $(targetprefix)/usr/local/bin/tvheadend $(prefix)/release/usr/local/bin/

#
# WLAN
#
	if [ -e $(targetprefix)/usr/sbin/ifrename ]; then \
		cp -dp $(targetprefix)/usr/sbin/ifrename $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwconfig $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwevent $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwgetid $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwlist $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwpriv $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/iwspy $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/wpa_cli $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/wpa_passphrase $(prefix)/release/usr/sbin/; \
		cp -dp $(targetprefix)/usr/sbin/wpa_supplicant $(prefix)/release/usr/sbin/; \
	fi

#
# alsa
#
	if [ -e $(targetprefix)/usr/share/alsa ]; then \
		mkdir -p $(prefix)/release/usr/share/alsa/; \
		cp -dp $(targetprefix)/usr/share/alsa/alsa.conf $(prefix)/release/usr/share/alsa/alsa.conf; \
	fi

#
# NFS-UTILS
#
	if [ -e $(targetprefix)/usr/sbin/rpc.nfsd ]; then \
		cp -f $(targetprefix)/etc/exports $(prefix)/release/etc/; \
		cp -f $(targetprefix)/etc/init.d/nfs-common $(prefix)/release/etc/init.d/; \
		cp -f $(targetprefix)/etc/init.d/nfs-kernel-server $(prefix)/release/etc/init.d/; \
		cp -f $(targetprefix)/usr/sbin/exportfs $(prefix)/release/usr/sbin/; \
		cp -f $(targetprefix)/usr/sbin/rpc.nfsd $(prefix)/release/usr/sbin/; \
		cp -f $(targetprefix)/usr/sbin/rpc.mountd $(prefix)/release/usr/sbin/; \
		cp -f $(targetprefix)/usr/sbin/rpc.statd $(prefix)/release/usr/sbin/; \
	fi

#
# AUTOFS
#
	if [ -d $(prefix)/release/usr/lib/autofs ]; then \
		cp -f $(targetprefix)/usr/sbin/automount $(prefix)/release/usr/sbin/; \
		cp -f $(buildprefix)/root/etc/auto.hotplug $(prefix)/release/etc/; \
		cp -f $(buildprefix)/root/etc/auto.network $(prefix)/release/etc/; \
		cp -f $(buildprefix)/root/etc/init.d/autofs $(prefix)/release/etc/init.d/; \
		ln -s /usr/sbin/automount $(prefix)/release/sbin/automount; \
	fi

#
# GSTREAMER
#
	if [ -d $(prefix)/release/usr/lib/gstreamer-0.10 ]; then \
		#removed rm \
		rm -rf $(prefix)/release/usr/lib/libgstfft*; \
		rm -rf $(prefix)/release/usr/lib/gstreamer-0.10/*; \
		cp -a $(targetprefix)/usr/bin/gst-* $(prefix)/release/usr/bin/; \
		sh4-linux-strip --strip-unneeded $(prefix)/release/usr/bin/gst-launch*; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstalsa.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstapetag.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstapp.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstasf.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstassrender.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstaudioconvert.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstaudioparsers.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstaudioresample.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstautodetect.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstavi.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstcdxaparse.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstcoreelements.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstcoreindexers.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstdecodebin.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstdecodebin2.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstdvbaudiosink.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstdvbvideosink.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstdvdsub.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstflac.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstflv.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstfragmented.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgsticydemux.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstid3demux.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstisomp4.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstmad.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstmatroska.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstmpegaudioparse.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstmpegdemux.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstmpegstream.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstogg.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstplaybin.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstrtmp.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstrtp.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstrtpmanager.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstrtsp.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstsouphttpsrc.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstsubparse.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgsttypefindfunctions.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstudp.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstvcdsrc.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstwavparse.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		if [ -e $(targetprefix)/usr/lib/gstreamer-0.10/libgstffmpeg.so ]; then \
			cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstffmpeg.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
			cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstffmpegscale.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
			cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstpostproc.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		fi; \
		if [ -e $(targetprefix)/usr/lib/gstreamer-0.10/libgstsubsink.so ]; then \
			cp -a $(targetprefix)/usr/lib/gstreamer-0.10/libgstsubsink.so $(prefix)/release/usr/lib/gstreamer-0.10/; \
		fi; \
		sh4-linux-strip --strip-unneeded $(prefix)/release/usr/lib/gstreamer-0.10/*; \
	fi

#
# GRAPHLCD
#
	if [ -e $(prefix)/release/usr/lib/libglcddrivers.so ]; then \
		cp -f $(targetprefix)/etc/graphlcd.conf $(prefix)/release/etc/graphlcd.conf; \
		rm -f $(prefix)/release/usr/lib/libglcdskin.so*; \
	fi

#
# minidlna
#
	if [ -e $(targetprefix)/usr/sbin/minidlnad ]; then \
		cp -f $(targetprefix)/usr/sbin/minidlnad $(prefix)/release/usr/sbin/; \
	fi

#
# udpxy
#
	if [ -e $(targetprefix)/usr/bin/udpxy ]; then \
		cp -f $(targetprefix)/usr/bin/udpxy $(prefix)/release/usr/bin; \
		cp -a $(targetprefix)/usr/bin/udpxrec $(prefix)/release/usr/bin; \
	fi

#
# xupnpd
#
	if [ -e $(targetprefix)/usr/bin/xupnpd ]; then \
		cp -f $(targetprefix)/usr/bin/xupnpd $(prefix)/release/usr/bin; \
		cp -aR $(targetprefix)/usr/share/xupnpd $(prefix)/release/usr/share; \
		mkdir -p $(prefix)/release/usr/share/xupnpd/playlists; \
	fi

#
# lua
#
	if [ -d $(targetprefix)/usr/share/lua ]; then \
		cp -aR $(targetprefix)/usr/share/lua $(prefix)/release/usr/share; \
	fi

#
# shairport
#
	if [ -e $(targetprefix)/usr/bin/shairport ]; then \
		cp -f $(targetprefix)/usr/bin/shairport $(prefix)/release/usr/bin; \
		cp -f $(targetprefix)/usr/bin/mDNSPublish $(prefix)/release/usr/bin; \
		cp -f $(targetprefix)/usr/bin/mDNSResponder $(prefix)/release/usr/bin; \
		cp -f $(buildprefix)/root/etc/init.d/shairport $(prefix)/release/etc/init.d/shairport; \
		chmod 755 $(prefix)/release/etc/init.d/shairport; \
		cp -f $(targetprefix)/usr/lib/libhowl.so* $(prefix)/release/usr/lib; \
		cp -f $(targetprefix)/usr/lib/libmDNSResponder.so* $(prefix)/release/usr/lib; \
	fi

#
# Neutrino HD2 Workaround Build in Player
#
	if [ -e $(targetprefix)/usr/local/bin/eplayer3 ]; then \
		cp -f $(targetprefix)/usr/local/bin/eplayer3 $(prefix)/release/bin/; \
		cp -f $(targetprefix)/usr/local/bin/meta $(prefix)/release/bin/; \
	fi

#
# delete unnecessary files
#
	rm -f $(prefix)/release/lib/*.{a,o,la}
	rm -rf $(prefix)/release/usr/lib/{engines,enigma2,gconv,libxslt-plugins,pkgconfig,python$(PYTHON_VERSION),sigc++-2.0}
	rm -f $(prefix)/release/usr/lib/*.{a,o,la}
	rm -f $(prefix)/release/usr/lib/lua/5.2/*.la
	rm -rf $(prefix)/release/lib/autofs
	rm -f $(prefix)/release/lib/libSegFault*
	rm -f $(prefix)/release/lib/libthread_db*
	rm -f $(prefix)/release/lib/libanl*
	rm -rf $(prefix)/release/usr/lib/m4-nofpu/
	rm -f $(prefix)/release/lib/modules/lzo*.ko
	rm -rf $(prefix)/release/lib/modules/$(KERNELVERSION)
	rm -rf $(prefix)/release/usr/lib/alsa-lib
	rm -rf $(prefix)/release/usr/lib/alsaplayer
	rm -rf $(prefix)/release/usr/lib/audit
	rm -rf $(prefix)/release/usr/lib/glib-2.0
#	rm -f $(prefix)/release/usr/lib/libexpat*
	rm -f $(prefix)/release/usr/lib/xml2Conf.sh
	rm -f $(prefix)/release/usr/lib/libfontconfig*
	rm -f $(prefix)/release/usr/lib/libtermcap*
	rm -f $(prefix)/release/usr/lib/libmenu*
	rm -f $(prefix)/release/usr/lib/libpanel*
	rm -f $(prefix)/release/usr/lib/libdvdcss*
	rm -f $(prefix)/release/usr/lib/libdvdnav*
	rm -f $(prefix)/release/usr/lib/libdvdread*
	rm -f $(prefix)/release/usr/lib/libncurses*
	rm -f $(prefix)/release/usr/lib/libthread_db*
	rm -f $(prefix)/release/usr/lib/libanl*
	rm -f $(prefix)/release/usr/lib/libopkg*
	rm -f $(prefix)/release/bin/gitVCInfo
	rm -f $(prefix)/release/bin/libstb-hal-test
	rm -f $(prefix)/release/bin/wdctl

#
# The main target depends on the model.
# IMPORTANT: it is assumed that only one variable is set. Otherwise the target name won't be resolved.
#
$(D)/release_tvheadend: \
$(D)/%release_tvheadend: release_tvheadend_base release_tvheadend_$(TF7700)$(HL101)$(VIP1_V2)$(VIP2_V1)$(UFS910)$(UFS912)$(UFS913)$(UFS922)$(UFC960)$(SPARK)$(SPARK7162)$(OCTAGON1008)$(FORTIS_HDBOX)$(ATEVIO7500)$(HS7110)$(HS7810A)$(HS7119)$(HS7819)$(ATEMIO520)$(ATEMIO530)$(CUBEREVO)$(CUBEREVO_MINI)$(CUBEREVO_MINI2)$(CUBEREVO_MINI_FTA)$(CUBEREVO_250HD)$(CUBEREVO_2000HD)$(CUBEREVO_9500HD)$(ADB_BOX)$(VITAMIN_HD5000)$(SAGEMCOM88)$(ADB5800)
	touch $@

#
# FOR YOUR OWN CHANGES use these folder in cdk/own_build/tvheadend
#
#	default for all receiver
	find $(buildprefix)/own_build/tvheadend/ -mindepth 1 -maxdepth 1 -exec cp -at$(prefix)/release/ -- {} +
#	receiver specific (only if directory exist)
	[ -d "$(buildprefix)/own_build/tvheadend.$(BOXTYPE)" ] && find $(buildprefix)/own_build/tvheadend.$(BOXTYPE)/ -mindepth 1 -maxdepth 1 -exec cp -at$(prefix)/release/ -- {} + || true
	rm -f $(prefix)/release/for_your_own_changes

# nicht die feine Art, aber funktioniert ;)
	cp -dpfr $(prefix)/release/etc $(prefix)/release/var
	rm -fr $(prefix)/release/etc
	ln -sf /var/etc $(prefix)/release

	ln -s /tmp $(prefix)/release/lib/init
	ln -s /tmp $(prefix)/release/var/lib/urandom
	ln -s /tmp $(prefix)/release/var/lock
	ln -s /tmp $(prefix)/release/var/log
	ln -s /tmp $(prefix)/release/var/run
	ln -s /tmp $(prefix)/release/var/tmp

#
# sh4-linux-strip all
#
	find $(prefix)/release/ -name '*' -exec sh4-linux-strip --strip-unneeded {} &>/dev/null \;

#
# release-clean
#
release-tvheadend-clean:
	rm -f $(D)/release_tvheadend

#
# diff helper
#
enigma2-nightly-patch \
neutrino-mp-next-patch \
neutrino-mp-tangos-patch \
neutrino-mp-cst-next-patch \
neutrino-mp-cst-next-max-patch \
neutrino-mp-martii-github-patch \
libstb-hal-next-patch \
libstb-hal-cst-next-patch \
libstb-hal-github-old-patch :
	cd $(sourcedir) && diff -Nur --exclude-from=$(buildprefix)/scripts/diff-exclude $(subst -patch,,$@).org $(subst -patch,,$@) > $(cvsdir)/$@ ; [ $$? -eq 1 ]

# Set up the build environment

# Include yaud targets

# Include linux kernel targets

# Include bootstrap targets

# Target for building and install own independ ccache for tuxbox-cdk

# Include Archive targets

# Include Driver targets

# Include Tools targets

# Include host apps targets

# Include u-boot targets

# Include adapted etc files and etc read-write files

# Include busybox targets

# Include contrib lib targets

# Include contrib apps

# Include net apps

# Include enigma2 plugins targets

# Include enigma2-pli-nightly gui targets

# Include neutrino gui targets

# Include neutrino-plugins targets

# Include tvheadend targets

# A number of cleaning targets

# Create the TAGS file

# Target for building source distributions (hardly used these days of CVS :-)

#Trick

#keeping all patches in one file

# Give the user rope to hang himself :-).  (Note: read from the
# generated Makefile during make run, automake or configure does not
# see it.)
-include ./Makefile.local

# this makes sure we do not build top-level dependencies in parallel
# (which would not be too helpful anyway, running many configure and
# downloads in parallel...), but the sub-targets are still built in
# parallel, which is useful on multi-processor / multi-core machines
.NOTPARALLEL:

# Tell versions [3.59,3.63) of GNU make to not export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
